const _0x99517c=_0x2fd7;(function(_0xe1fea9,_0x1ac759){const _0x29cf08=_0x2fd7,_0x44a139=_0xe1fea9();while(!![]){try{const _0x374b95=-parseInt(_0x29cf08(0x3bd))/(0x25d2+-0x1a23+-0x5d7*0x2)*(parseInt(_0x29cf08(0x225))/(0x2499+-0x1a81+-0xa16))+-parseInt(_0x29cf08(0x247))/(-0xcbb+0x461+0x85d)*(-parseInt(_0x29cf08(0x217))/(-0xdb*-0x9+-0x218b+0x19dc))+-parseInt(_0x29cf08(0x31a))/(-0x1c2a+-0x231b+0x3f4a)*(parseInt(_0x29cf08(0x321))/(0x17*0x161+0x707+-0x26b8))+-parseInt(_0x29cf08(0x362))/(0x1626+-0x169d*0x1+0x7e)+parseInt(_0x29cf08(0x3b0))/(0x1518+-0x1*0x2309+0xdf9)+-parseInt(_0x29cf08(0x265))/(-0x2349+0x35*0x22+0x1c48)+parseInt(_0x29cf08(0x3b1))/(-0xf*0xb8+0x204+0x142*0x7);if(_0x374b95===_0x1ac759)break;else _0x44a139['push'](_0x44a139['shift']());}catch(_0xcdc48a){_0x44a139['push'](_0x44a139['shift']());}}}(_0x2e11,0x7b450+0x1*0x71a5a+-0x3*0x2174f));var assistantModal=document[_0x99517c(0x399)](_0x99517c(0x27f)),chatContainer=document[_0x99517c(0x399)](_0x99517c(0x24d)),chatInput=document[_0x99517c(0x399)]('chat-input'),chatFileInput=document[_0x99517c(0x399)]('chat-file-input'),chatImagePreviewContainer=document[_0x99517c(0x399)]('chat-image-preview-container'),chatImagePreview=document[_0x99517c(0x399)](_0x99517c(0x238)),chatSendBtn=document[_0x99517c(0x399)](_0x99517c(0x357)),chatImageBtn=document['getElementById'](_0x99517c(0x323)),voiceMicBtn=document['getElementById'](_0x99517c(0x243)),voiceUi=document['getElementById'](_0x99517c(0x2e3)),voiceOrb=document['getElementById'](_0x99517c(0x3c7)),voiceStatus=document[_0x99517c(0x399)](_0x99517c(0x28e)),voiceStatusText=document[_0x99517c(0x399)]('voice-status-text'),voiceStatusIcon=document['getElementById'](_0x99517c(0x28c)),aiResponseAudio=new Audio(_0x99517c(0x25b)),currentChatImage=null,currentMode=null,voiceRecognizer=null,isVoiceListening=![],isVoiceStarting=![],ttsAudio=null,CHAT_HISTORY_KEY=_0x99517c(0x2be),CHAT_HISTORY_LIMIT=0x19e2+-0x13a+-0x30*0x83;function loadChatHistory(){const _0x481c5d=_0x99517c,_0x496a70={'hHkVk':function(_0x318b71,_0xeb7e93){return _0x318b71===_0xeb7e93;},'ijwuQ':function(_0x4972a2,_0x3c69eb){return _0x4972a2!==_0x3c69eb;},'sVsEa':'3|2|1|4|0'};try{const _0xb9d98c=_0x496a70[_0x481c5d(0x2a9)][_0x481c5d(0x381)]('|');let _0x3419dd=0x1b1f*-0x1+-0xe75+0x2994;while(!![]){switch(_0xb9d98c[_0x3419dd++]){case'0':return _0x1feda9['filter'](function(_0x2a7e15){const _0x25f11d=_0x481c5d;return _0x2a7e15&&_0x496a70[_0x25f11d(0x2c8)](typeof _0x2a7e15,_0x25f11d(0x3a6))&&typeof _0x2a7e15[_0x25f11d(0x3c2)]===_0x25f11d(0x20c)&&_0x496a70[_0x25f11d(0x2d5)](_0x2a7e15[_0x25f11d(0x3c2)]['trim'](),'');});case'1':var _0x1feda9=JSON[_0x481c5d(0x3c5)](_0x58f485);continue;case'2':if(!_0x58f485)return[];continue;case'3':var _0x58f485=localStorage[_0x481c5d(0x24c)](CHAT_HISTORY_KEY);continue;case'4':if(!Array[_0x481c5d(0x341)](_0x1feda9))return[];continue;}break;}}catch(_0xc4c334){return[];}}function saveChatHistory(_0x32ee2c){const _0xfac7fe=_0x99517c;try{localStorage[_0xfac7fe(0x305)](CHAT_HISTORY_KEY,JSON[_0xfac7fe(0x216)](_0x32ee2c));}catch(_0x2d073f){}}function addChatHistory(_0x56c750,_0x3031e8){const _0x332c51=_0x99517c,_0x4de8fb={'cfgCO':_0x332c51(0x234),'rpaCM':function(_0x1f8044,_0x4323fb){return _0x1f8044||_0x4323fb;},'veamp':function(_0x1f5435,_0x418c41){return _0x1f5435===_0x418c41;},'eqNNI':_0x332c51(0x37f),'yKqXX':function(_0x2cc27f,_0x463dfa){return _0x2cc27f-_0x463dfa;}},_0x2f39e5=_0x4de8fb[_0x332c51(0x240)][_0x332c51(0x381)]('|');let _0x1795ea=-0x1830+0x60d*0x1+-0x1223*-0x1;while(!![]){switch(_0x2f39e5[_0x1795ea++]){case'0':var _0x16c6d5=_0x4de8fb['rpaCM'](_0x3031e8,'')[_0x332c51(0x358)]();continue;case'1':_0x3940a8[_0x332c51(0x252)]({'role':_0x4de8fb['veamp'](_0x56c750,_0x4de8fb['eqNNI'])?'user':_0x332c51(0x33f),'text':_0x16c6d5,'mode':currentMode||_0x332c51(0x244),'ts':Date[_0x332c51(0x2c1)]()});continue;case'2':_0x3940a8[_0x332c51(0x315)]>CHAT_HISTORY_LIMIT&&(_0x3940a8=_0x3940a8[_0x332c51(0x284)](_0x4de8fb[_0x332c51(0x258)](_0x3940a8[_0x332c51(0x315)],CHAT_HISTORY_LIMIT)));continue;case'3':if(!_0x16c6d5)return;continue;case'4':saveChatHistory(_0x3940a8);continue;case'5':var _0x3940a8=loadChatHistory();continue;}break;}}function buildContextLines(_0xb00fff){const _0x1bc543=_0x99517c,_0x348590={'wVFvO':function(_0x592d4f,_0x2a8a91){return _0x592d4f===_0x2a8a91;},'veayB':_0x1bc543(0x37f),'FFmtH':_0x1bc543(0x268),'KIzPu':_0x1bc543(0x2f5),'UsfzF':function(_0x8f0ea9,_0x29b6bb){return _0x8f0ea9+_0x29b6bb;},'SFdAv':function(_0x187efd){return _0x187efd();},'sbARC':function(_0x32be12,_0x3fbc3d){return _0x32be12===_0x3fbc3d;},'KPZnc':function(_0x18ebdf,_0x6b9f0c){return _0x18ebdf===_0x6b9f0c;}};var _0x5e4f69=_0x348590['SFdAv'](loadChatHistory);if(_0x5e4f69[_0x1bc543(0x315)]&&_0xb00fff){var _0x5146b4=_0x5e4f69[_0x5e4f69[_0x1bc543(0x315)]-(-0x6c9+-0x9*0x29+0x83b)];_0x5146b4&&_0x348590[_0x1bc543(0x206)](_0x5146b4[_0x1bc543(0x310)],_0x348590['veayB'])&&_0x348590[_0x1bc543(0x29d)](_0x5146b4[_0x1bc543(0x3c2)],_0xb00fff)&&(_0x5e4f69=_0x5e4f69['slice'](-0x2*0x106b+0x3e7+-0x1cef*-0x1,-(0x20ff+0x1*-0x256f+0x471)));}return _0x5e4f69[_0x1bc543(0x372)](function(_0x1dea16){const _0x3111a6=_0x1bc543;var _0x5aa384=_0x348590['wVFvO'](_0x1dea16[_0x3111a6(0x310)],_0x348590[_0x3111a6(0x350)])?_0x348590['FFmtH']:_0x348590[_0x3111a6(0x3c0)];return _0x348590['UsfzF'](_0x5aa384+':\x20',_0x1dea16[_0x3111a6(0x3c2)]);});}function buildChatPrompt(_0x2be399){const _0xf18aae=_0x99517c,_0x558139={'mPZLA':function(_0x14a9ce,_0x1142f4){return _0x14a9ce(_0x1142f4);},'Lbbcq':function(_0x224b4a,_0x174478){return _0x224b4a+_0x174478;},'oGMox':'Riwayat\x20percakapan:\x0a','gQpiR':_0xf18aae(0x25d),'kGaeg':function(_0x477aae,_0x21aef3){return _0x477aae+_0x21aef3;},'puoPY':_0xf18aae(0x3a3)};var _0x2f8591=_0x558139[_0xf18aae(0x27a)](buildContextLines,_0x2be399),_0xec6b3d=_0x2f8591[_0xf18aae(0x315)]?_0x558139[_0xf18aae(0x2e2)](_0x558139[_0xf18aae(0x2e2)](_0x558139['oGMox'],_0x2f8591[_0xf18aae(0x208)]('\x0a')),'\x0a\x0a'):'',_0x265f22=_0x558139[_0xf18aae(0x365)];return _0x558139[_0xf18aae(0x26d)](_0x558139['kGaeg'](_0x265f22,_0xec6b3d),_0x558139[_0xf18aae(0x3ba)])+_0x2be399;}function buildRefinePrompt(_0x7dea5f,_0x11366b){const _0x111cb0=_0x99517c,_0x44929d={'KyZOp':function(_0x3c960c,_0x4e93fd){return _0x3c960c(_0x4e93fd);},'tQKYJ':function(_0x17b8cf,_0x515a08){return _0x17b8cf+_0x515a08;},'FtKhx':function(_0x384b96,_0x261e2d){return _0x384b96+_0x261e2d;},'OCkFO':_0x111cb0(0x202)};var _0x5a1a52=_0x44929d[_0x111cb0(0x21f)](buildContextLines,_0x11366b),_0x719f94=_0x5a1a52[_0x111cb0(0x315)]?_0x44929d[_0x111cb0(0x346)](_0x44929d[_0x111cb0(0x222)](_0x44929d[_0x111cb0(0x2cd)],_0x5a1a52[_0x111cb0(0x208)]('\x0a')),'\x0a\x0a'):'';return _0x44929d[_0x111cb0(0x346)](_0x719f94,_0x7dea5f['replace'](_0x111cb0(0x316),_0x11366b));}function _0x2fd7(_0x179686,_0x774c93){_0x179686=_0x179686-(0x1691+-0x5ab*0x3+-0x39d);const _0x4926d5=_0x2e11();let _0x138e36=_0x4926d5[_0x179686];return _0x138e36;}function selectMode(_0x4892f2){const _0x43eb60=_0x99517c,_0x222563={'kIoOo':_0x43eb60(0x351),'TMsjX':_0x43eb60(0x279),'GTVuG':'input-area','mPuHZ':_0x43eb60(0x363),'udTGd':_0x43eb60(0x36e),'mlqxu':_0x43eb60(0x3c3),'TCRMS':_0x43eb60(0x1f4),'ecosf':_0x43eb60(0x314),'kkhAp':function(_0xdfeec0,_0x160be6){return _0xdfeec0===_0x160be6;},'YvwXS':_0x43eb60(0x329),'OeMHG':_0x43eb60(0x1fb),'ytvEP':function(_0x4fef3d,_0x4e6fe2){return _0x4fef3d(_0x4e6fe2);},'uAhOq':function(_0x27c1d4,_0x1108b1,_0x599f41){return _0x27c1d4(_0x1108b1,_0x599f41);},'msGPJ':_0x43eb60(0x28d),'FhWcW':'Assalamualaikum!\x20Saya\x20siap\x20menjawab\x20pertanyaan\x20seputar\x20Ramadhan.\x20Apa\x20yang\x20ingin\x20ditanyakan?','vIQPl':function(_0x4bd257,_0x56b4e){return _0x4bd257===_0x56b4e;},'vxxiQ':_0x43eb60(0x221),'enzch':function(_0x1a87a1){return _0x1a87a1();},'SlZbb':function(_0x3fbafc,_0x3fdec4,_0x1b8d21){return _0x3fbafc(_0x3fdec4,_0x1b8d21);},'HmQPq':_0x43eb60(0x39b),'ClcvO':'chat-messages-container','AgQkY':_0x43eb60(0x2f2),'LmLlI':function(_0x2b9a3d,_0x4517ce){return _0x2b9a3d(_0x4517ce);},'eJYhh':_0x43eb60(0x2c0)};currentMode=_0x4892f2,document[_0x43eb60(0x399)](_0x222563[_0x43eb60(0x2f3)])[_0x43eb60(0x331)]['add'](_0x222563[_0x43eb60(0x2c9)]),document['getElementById'](_0x43eb60(0x214))[_0x43eb60(0x331)]['remove'](_0x222563[_0x43eb60(0x2c9)]),document['getElementById'](_0x222563[_0x43eb60(0x25f)])[_0x43eb60(0x331)][_0x43eb60(0x30e)](_0x43eb60(0x279)),document[_0x43eb60(0x399)](_0x222563[_0x43eb60(0x317)])[_0x43eb60(0x331)]['remove'](_0x43eb60(0x279));const _0x553383=document[_0x43eb60(0x399)](_0x43eb60(0x27f));_0x553383['classList']['remove'](_0x222563['udTGd'],'mode-image-theme',_0x222563[_0x43eb60(0x348)]);const _0x48c9bd=document[_0x43eb60(0x399)](_0x222563['TCRMS']),_0x152466=document[_0x43eb60(0x399)](_0x222563[_0x43eb60(0x261)]);if(_0x222563[_0x43eb60(0x27c)](_0x4892f2,_0x222563[_0x43eb60(0x220)])){const _0x5080f4=_0x222563[_0x43eb60(0x37e)][_0x43eb60(0x381)]('|');let _0x4ce7dd=0x11*-0x45+-0x1714+0x1ba9*0x1;while(!![]){switch(_0x5080f4[_0x4ce7dd++]){case'0':document[_0x43eb60(0x399)](_0x222563['GTVuG'])[_0x43eb60(0x331)][_0x43eb60(0x30e)](_0x222563[_0x43eb60(0x2c9)]);continue;case'1':chatSendBtn['classList'][_0x43eb60(0x30e)](_0x222563[_0x43eb60(0x2c9)]);continue;case'2':chatInput['readOnly']=![];continue;case'3':chatFileInput[_0x43eb60(0x2f0)]=![];continue;case'4':if(voiceUi)voiceUi[_0x43eb60(0x331)][_0x43eb60(0x31c)]('hidden');continue;case'5':chatImageBtn[_0x43eb60(0x331)][_0x43eb60(0x30e)](_0x43eb60(0x279));continue;case'6':document['getElementById'](_0x43eb60(0x214))['classList'][_0x43eb60(0x30e)](_0x222563[_0x43eb60(0x2c9)]);continue;case'7':_0x222563[_0x43eb60(0x2e6)](setVoiceSpeaking,![]);continue;case'8':_0x152466['classList'][_0x43eb60(0x31c)](_0x222563[_0x43eb60(0x2c9)]);continue;case'9':_0x553383[_0x43eb60(0x331)]['add'](_0x222563[_0x43eb60(0x280)]);continue;case'10':_0x48c9bd['innerHTML'][_0x43eb60(0x358)]()===''&&_0x222563[_0x43eb60(0x2eb)](appendMessage,_0x222563[_0x43eb60(0x2f9)],_0x222563['FhWcW']);continue;case'11':chatInput[_0x43eb60(0x2a3)]=_0x43eb60(0x2f2);continue;case'12':_0x48c9bd[_0x43eb60(0x331)][_0x43eb60(0x30e)](_0x222563[_0x43eb60(0x2c9)]);continue;}break;}}else{if(_0x222563[_0x43eb60(0x257)](_0x4892f2,'voice')){_0x553383['classList'][_0x43eb60(0x31c)](_0x222563[_0x43eb60(0x348)]),_0x48c9bd[_0x43eb60(0x331)][_0x43eb60(0x31c)](_0x222563[_0x43eb60(0x2c9)]),_0x152466[_0x43eb60(0x331)]['add'](_0x222563[_0x43eb60(0x2c9)]);if(voiceUi)voiceUi[_0x43eb60(0x331)][_0x43eb60(0x30e)](_0x222563[_0x43eb60(0x2c9)]);document[_0x43eb60(0x399)](_0x43eb60(0x214))[_0x43eb60(0x331)][_0x43eb60(0x31c)](_0x222563[_0x43eb60(0x2c9)]),document[_0x43eb60(0x399)](_0x222563[_0x43eb60(0x25f)])['classList']['add'](_0x222563[_0x43eb60(0x2c9)]),chatInput[_0x43eb60(0x32e)]=!![],chatInput[_0x43eb60(0x2a3)]=_0x222563['vxxiQ'],chatSendBtn[_0x43eb60(0x331)][_0x43eb60(0x31c)](_0x222563[_0x43eb60(0x2c9)]),chatImageBtn[_0x43eb60(0x331)][_0x43eb60(0x31c)](_0x222563['TMsjX']),chatFileInput[_0x43eb60(0x2f0)]=!![],_0x222563[_0x43eb60(0x296)](clearChatImage),_0x222563[_0x43eb60(0x36a)](setVoiceStatus,_0x222563[_0x43eb60(0x227)],_0x43eb60(0x2ad)),_0x222563[_0x43eb60(0x296)](setupVoiceRecognition);}else{const _0x2a7803=_0x43eb60(0x27e)['split']('|');let _0x17dd79=0x2*-0x620+0x8e7+0x1*0x359;while(!![]){switch(_0x2a7803[_0x17dd79++]){case'0':_0x553383[_0x43eb60(0x331)][_0x43eb60(0x31c)](_0x43eb60(0x366));continue;case'1':if(voiceUi)voiceUi['classList']['add'](_0x222563[_0x43eb60(0x2c9)]);continue;case'2':document['getElementById'](_0x222563[_0x43eb60(0x335)])[_0x43eb60(0x331)][_0x43eb60(0x30e)](_0x222563[_0x43eb60(0x2c9)]);continue;case'3':chatFileInput[_0x43eb60(0x2f0)]=![];continue;case'4':chatInput['readOnly']=![];continue;case'5':chatSendBtn[_0x43eb60(0x331)]['remove'](_0x222563[_0x43eb60(0x2c9)]);continue;case'6':chatInput['placeholder']=_0x222563[_0x43eb60(0x239)];continue;case'7':chatImageBtn['classList']['remove'](_0x43eb60(0x279));continue;case'8':_0x152466[_0x43eb60(0x331)]['remove'](_0x222563[_0x43eb60(0x2c9)]);continue;case'9':_0x222563['LmLlI'](setVoiceSpeaking,![]);continue;case'10':document[_0x43eb60(0x399)](_0x43eb60(0x269))[_0x43eb60(0x331)][_0x43eb60(0x30e)](_0x222563['TMsjX']);continue;case'11':_0x48c9bd[_0x43eb60(0x331)][_0x43eb60(0x31c)](_0x43eb60(0x279));continue;case'12':_0x152466[_0x43eb60(0x361)]['trim']()===''&&appendMessage(_0x222563[_0x43eb60(0x2f9)],_0x43eb60(0x2df));continue;}break;}}}_0x4892f2!==_0x222563[_0x43eb60(0x266)]&&chatInput[_0x43eb60(0x36d)](),chatContainer[_0x43eb60(0x274)]=chatContainer[_0x43eb60(0x2f8)];}function switchMode(){const _0x3a6cb8=_0x99517c,_0x1e7d86={'UUwOM':_0x3a6cb8(0x351),'aGRtU':_0x3a6cb8(0x214),'NUqKA':_0x3a6cb8(0x279),'lfJMf':_0x3a6cb8(0x269),'WxgxG':_0x3a6cb8(0x27f),'fYXSi':'mode-image-theme','RsVOn':function(_0x289271){return _0x289271();},'Hyhbr':function(_0x56a864,_0x5df8e0,_0x203841){return _0x56a864(_0x5df8e0,_0x203841);},'UkPAj':_0x3a6cb8(0x39b),'jblTS':_0x3a6cb8(0x2ad)};currentMode=null,document[_0x3a6cb8(0x399)](_0x1e7d86[_0x3a6cb8(0x33c)])[_0x3a6cb8(0x331)]['remove'](_0x3a6cb8(0x279)),document[_0x3a6cb8(0x399)](_0x1e7d86[_0x3a6cb8(0x283)])[_0x3a6cb8(0x331)][_0x3a6cb8(0x31c)](_0x1e7d86[_0x3a6cb8(0x23e)]),document[_0x3a6cb8(0x399)](_0x1e7d86[_0x3a6cb8(0x21d)])[_0x3a6cb8(0x331)][_0x3a6cb8(0x31c)](_0x1e7d86['NUqKA']),document[_0x3a6cb8(0x399)](_0x3a6cb8(0x363))[_0x3a6cb8(0x331)][_0x3a6cb8(0x31c)](_0x1e7d86[_0x3a6cb8(0x23e)]);if(voiceUi)voiceUi['classList'][_0x3a6cb8(0x31c)](_0x3a6cb8(0x279));const _0x3a3e62=document[_0x3a6cb8(0x399)](_0x1e7d86[_0x3a6cb8(0x34f)]);_0x3a3e62[_0x3a6cb8(0x331)][_0x3a6cb8(0x30e)](_0x3a6cb8(0x36e),_0x1e7d86[_0x3a6cb8(0x324)],_0x3a6cb8(0x3c3)),_0x1e7d86[_0x3a6cb8(0x249)](stopVoiceRecognition),setVoiceSpeaking(![]),_0x1e7d86[_0x3a6cb8(0x36f)](setVoiceStatus,_0x1e7d86['UkPAj'],_0x1e7d86[_0x3a6cb8(0x219)]);}function openAssistantModal(){const _0x379aad=_0x99517c,_0x100c57={'yPjFx':_0x379aad(0x27f),'Hhxgd':function(_0x156742,_0x3e83c9){return _0x156742!==_0x3e83c9;},'CTdRD':'voice'};window[_0x379aad(0x347)](_0x100c57[_0x379aad(0x231)]),chatContainer[_0x379aad(0x274)]=chatContainer[_0x379aad(0x2f8)],_0x100c57[_0x379aad(0x3ae)](currentMode,_0x100c57[_0x379aad(0x292)])&&chatInput[_0x379aad(0x36d)]();}function closeAssistantModal(){const _0x10f2cd=_0x99517c,_0x1d53d5={'zhTzG':function(_0x289575){return _0x289575();},'uUPnO':function(_0xe2a7f6,_0x4cf5e3){return _0xe2a7f6(_0x4cf5e3);},'MVVna':function(_0xfe1b33,_0x4289b1,_0x3b34e5){return _0xfe1b33(_0x4289b1,_0x3b34e5);},'fEWWC':_0x10f2cd(0x39b),'dErgR':_0x10f2cd(0x27f)};_0x1d53d5[_0x10f2cd(0x34e)](stopVoiceRecognition),_0x1d53d5[_0x10f2cd(0x2c7)](setVoiceSpeaking,![]),_0x1d53d5[_0x10f2cd(0x25e)](setVoiceStatus,_0x1d53d5[_0x10f2cd(0x304)],_0x10f2cd(0x2ad)),window['closeFeaturePage'](_0x1d53d5['dErgR']);}window[_0x99517c(0x391)]=openAssistantModal,window[_0x99517c(0x371)]=closeAssistantModal,window[_0x99517c(0x20a)]=selectMode,window[_0x99517c(0x2fb)]=switchMode,window['sendChatMessage']=sendChatMessage,chatInput['addEventListener'](_0x99517c(0x30f),function(){const _0x426257=_0x99517c,_0x410d8e={'yIkmY':_0x426257(0x38a),'VvdxW':function(_0x429329,_0x33a65e){return _0x429329+_0x33a65e;},'wusvI':function(_0x195e72,_0x435473){return _0x195e72===_0x435473;}};this[_0x426257(0x20d)][_0x426257(0x320)]=_0x410d8e[_0x426257(0x2c2)],this['style']['height']=_0x410d8e['VvdxW'](this[_0x426257(0x2f8)],'px');if(_0x410d8e['wusvI'](this[_0x426257(0x2e0)],''))this['style'][_0x426257(0x320)]=_0x410d8e[_0x426257(0x2c2)];}),chatInput[_0x99517c(0x352)](_0x99517c(0x200),function(_0x5b17e2){const _0x5e3f30=_0x99517c,_0x3ff25d={'FQyfo':function(_0x5d3b40,_0x2655a4){return _0x5d3b40===_0x2655a4;},'qjylS':_0x5e3f30(0x3b9),'zCsNd':function(_0x1f02df){return _0x1f02df();}};if(_0x3ff25d[_0x5e3f30(0x307)](_0x5b17e2[_0x5e3f30(0x277)],_0x3ff25d[_0x5e3f30(0x287)])&&!_0x5b17e2[_0x5e3f30(0x2d1)]){if(_0x3ff25d[_0x5e3f30(0x307)](currentMode,_0x5e3f30(0x2c0)))return;_0x5b17e2[_0x5e3f30(0x2a7)](),_0x3ff25d['zCsNd'](sendChatMessage);}}),chatFileInput['addEventListener'](_0x99517c(0x22d),function(){const _0xb81385=_0x99517c,_0x16f450=this['files'][0x1c53*-0x1+0x1f23+-0x2d0];if(_0x16f450){currentChatImage=_0x16f450;const _0xd1f2a0=new FileReader();_0xd1f2a0[_0xb81385(0x32c)]=function(_0x38eefa){const _0x4c374b=_0xb81385;chatImagePreview[_0x4c374b(0x2a5)]=_0x38eefa['target']['result'],chatImagePreviewContainer[_0x4c374b(0x331)][_0x4c374b(0x30e)](_0x4c374b(0x279));},_0xd1f2a0['readAsDataURL'](_0x16f450);}});function clearChatImage(){const _0x2a1dd7=_0x99517c,_0x3b89a0={'AKzvv':_0x2a1dd7(0x279)};currentChatImage=null,chatFileInput[_0x2a1dd7(0x2e0)]='',chatImagePreview[_0x2a1dd7(0x2a5)]='',chatImagePreviewContainer[_0x2a1dd7(0x331)][_0x2a1dd7(0x31c)](_0x3b89a0['AKzvv']);}function parseMarkdown(_0x142675){const _0x24428e=_0x99517c,_0x36e96f={'XKENh':_0x24428e(0x2ab),'OSIFb':_0x24428e(0x259),'LvxWy':_0x24428e(0x275),'EGiga':_0x24428e(0x20e)};if(!_0x142675)return'';let _0x3fcd0d=_0x142675['replace'](/```([\s\S]*?)```/g,_0x36e96f['XKENh'])['replace'](/`([^`]+)`/g,_0x36e96f[_0x24428e(0x397)])['replace'](/\*\*(.*?)\*\*/g,_0x24428e(0x27d))[_0x24428e(0x224)](/\*(.*?)\*/g,'<em>$1</em>')[_0x24428e(0x224)](/(?:^|\n)- (.*)/g,_0x36e96f[_0x24428e(0x35e)])['replace'](/\n/g,_0x36e96f[_0x24428e(0x21b)]);return _0x3fcd0d;}function appendMessage(_0x43c74a,_0x4d4124,_0x1282fb=null){const _0x47987a=_0x99517c,_0x5ca8a0={'KpzhW':_0x47987a(0x393),'JCTrG':function(_0x38588a,_0x4535cb){return _0x38588a===_0x4535cb;},'NIfgJ':function(_0x9d3bca,_0x363507){return _0x9d3bca(_0x363507);},'ooJnK':'<br>','ygnOD':function(_0x3e1f3a,_0x237f62){return _0x3e1f3a===_0x237f62;},'ImmiQ':function(_0x5b5368,_0x2d43d9){return _0x5b5368===_0x2d43d9;},'xSzBa':'image','NsgVl':function(_0x4cb0cf,_0x4e20e7){return _0x4cb0cf===_0x4e20e7;},'UBeyl':_0x47987a(0x28d),'MaAeJ':_0x47987a(0x314),'wnuhC':_0x47987a(0x1f4),'QYxKa':function(_0x4520c6,_0x247a53){return _0x4520c6===_0x247a53;},'nyFVF':function(_0x2884eb,_0x38cf00,_0x16f5ec){return _0x2884eb(_0x38cf00,_0x16f5ec);},'XROMo':_0x47987a(0x33f)},_0x420653=document[_0x47987a(0x2f4)](_0x5ca8a0['KpzhW']);_0x420653['className']='chat-message\x20'+_0x43c74a;let _0x4610ac=_0x5ca8a0[_0x47987a(0x1fc)](_0x43c74a,_0x47987a(0x28d))?_0x5ca8a0[_0x47987a(0x308)](parseMarkdown,_0x4d4124):_0x4d4124[_0x47987a(0x224)](/\n/g,_0x5ca8a0[_0x47987a(0x3bc)]);if(_0x1282fb){const _0x10a4b1=_0x5ca8a0[_0x47987a(0x308)](String,_0x1282fb),_0x5877d6=_0x10a4b1[_0x47987a(0x224)](/"/g,_0x47987a(0x374)),_0x27af25=_0x10a4b1[_0x47987a(0x224)](/'/g,'\x5c\x27');if(_0x5ca8a0[_0x47987a(0x263)](_0x43c74a,_0x47987a(0x28d))&&_0x5ca8a0[_0x47987a(0x2bd)](currentMode,_0x5ca8a0[_0x47987a(0x340)])){const _0x364ab7='sufi-image-'+Date['now']()+_0x47987a(0x2d7);_0x4610ac+=_0x47987a(0x22a)+_0x5877d6+_0x47987a(0x2ba)+_0x27af25+_0x47987a(0x387)+_0x5877d6+'\x22\x20download=\x22'+_0x364ab7+_0x47987a(0x233);}else _0x4610ac+=_0x47987a(0x286)+_0x5877d6+_0x47987a(0x2ba)+_0x27af25+_0x47987a(0x2dd);}_0x5ca8a0[_0x47987a(0x2cb)](_0x43c74a,_0x5ca8a0['UBeyl'])&&currentMode!==_0x47987a(0x2c0)&&(aiResponseAudio[_0x47987a(0x2a8)]=-0x9de+0x56b+0x473,aiResponseAudio['play']()[_0x47987a(0x2e7)](_0x3c7b70=>console[_0x47987a(0x2d2)]('Audio\x20play\x20blocked:',_0x3c7b70)));_0x420653[_0x47987a(0x361)]=_0x47987a(0x3b4)+_0x4610ac+_0x47987a(0x39f);const _0x1d532f=_0x5ca8a0[_0x47987a(0x2bd)](currentMode,'image')?_0x5ca8a0[_0x47987a(0x27b)]:_0x5ca8a0[_0x47987a(0x39c)],_0x4cac48=document['getElementById'](_0x1d532f);_0x4cac48&&_0x4cac48[_0x47987a(0x34b)](_0x420653),chatContainer[_0x47987a(0x274)]=chatContainer[_0x47987a(0x2f8)],(_0x5ca8a0[_0x47987a(0x235)](_0x43c74a,_0x47987a(0x37f))||_0x5ca8a0[_0x47987a(0x2bd)](_0x43c74a,_0x5ca8a0[_0x47987a(0x3c6)]))&&_0x5ca8a0[_0x47987a(0x31e)](addChatHistory,_0x43c74a==='user'?_0x47987a(0x37f):_0x5ca8a0[_0x47987a(0x205)],_0x4d4124);}function showTypingIndicator(_0x3aeb63=null){const _0x2d0d3f=_0x99517c,_0x157c2f={'zWsBG':function(_0x13e322,_0x2475d2){return _0x13e322+_0x2475d2;},'LBWCe':_0x2d0d3f(0x393),'LXISJ':function(_0x2f7325,_0x4be110){return _0x2f7325===_0x4be110;},'lQjRG':_0x2d0d3f(0x2a2),'XrdPd':_0x2d0d3f(0x314),'jJgTZ':_0x2d0d3f(0x1f4)},_0x177798=_0x157c2f['zWsBG'](_0x2d0d3f(0x34a),Date[_0x2d0d3f(0x2c1)]()),_0x323476=document[_0x2d0d3f(0x2f4)](_0x157c2f[_0x2d0d3f(0x3af)]);_0x323476['className']='chat-message\x20bot',_0x323476['id']=_0x177798;let _0x1f82ce='';_0x3aeb63?_0x1f82ce='<div\x20style=\x22display:flex;\x20align-items:center;\x20gap:8px;\x22><span>'+_0x3aeb63+'</span><div\x20class=\x22typing-indicator\x22\x20style=\x22display:inline-flex;\x20margin:0;\x22><span></span><span></span><span></span></div></div>':_0x1f82ce=_0x2d0d3f(0x2cf);_0x323476[_0x2d0d3f(0x361)]=_0x2d0d3f(0x3b4)+_0x1f82ce+_0x2d0d3f(0x39f);const _0x1f52e0=_0x157c2f[_0x2d0d3f(0x291)](currentMode,_0x157c2f['lQjRG'])?_0x157c2f[_0x2d0d3f(0x32b)]:_0x157c2f[_0x2d0d3f(0x3a2)],_0x3c77f5=document[_0x2d0d3f(0x399)](_0x1f52e0);return _0x3c77f5&&_0x3c77f5[_0x2d0d3f(0x34b)](_0x323476),chatContainer['scrollTop']=chatContainer['scrollHeight'],_0x177798;}function updateTypingIndicator(_0x169593,_0x2c5c31){const _0x2d7a73=_0x99517c,_0xa6e152={'POROt':_0x2d7a73(0x28a)},_0x3c2d66=document['getElementById'](_0x169593);if(_0x3c2d66){const _0x3211fc=_0x3c2d66[_0x2d7a73(0x2dc)](_0xa6e152[_0x2d7a73(0x2b4)]);_0x3211fc&&(_0x3211fc[_0x2d7a73(0x361)]=_0x2d7a73(0x325)+_0x2c5c31+_0x2d7a73(0x2cc));}}function removeTypingIndicator(_0x378979){const _0x4e6d0f=_0x99517c,_0x45dd63=document[_0x4e6d0f(0x399)](_0x378979);if(_0x45dd63)_0x45dd63[_0x4e6d0f(0x30e)]();}function wait(_0x49793e){return new Promise(_0x4b7f0c=>setTimeout(_0x4b7f0c,_0x49793e));}async function showAnsweredStatus(_0x36ded1){const _0x1fd1ff=_0x99517c,_0x6c73b1={'HWjJL':function(_0x563a8c,_0xacce9c,_0x4e2405){return _0x563a8c(_0xacce9c,_0x4e2405);},'GyxaZ':_0x1fd1ff(0x35d),'KVpuI':function(_0x29aa90,_0x285d04){return _0x29aa90(_0x285d04);},'ONOui':function(_0x2c55f1,_0x2ee1f8){return _0x2c55f1(_0x2ee1f8);}};if(!_0x36ded1)return;_0x6c73b1[_0x1fd1ff(0x36b)](updateTypingIndicator,_0x36ded1,_0x6c73b1[_0x1fd1ff(0x2a0)]),await _0x6c73b1[_0x1fd1ff(0x2c5)](wait,0x1*-0x2494+-0x18e9*0x1+0x4039),_0x6c73b1[_0x1fd1ff(0x369)](removeTypingIndicator,_0x36ded1);}function setInputState(_0x5c3f08){const _0x194f41=_0x99517c,_0x3dd8a6={'uEdQu':_0x194f41(0x3b3)};chatInput[_0x194f41(0x2f0)]=_0x5c3f08,chatSendBtn['disabled']=_0x5c3f08,chatFileInput[_0x194f41(0x2f0)]=_0x5c3f08;if(voiceMicBtn)voiceMicBtn[_0x194f41(0x2f0)]=_0x5c3f08;_0x5c3f08?(chatInput[_0x194f41(0x318)][_0x194f41(0x20d)][_0x194f41(0x288)]=_0x3dd8a6[_0x194f41(0x245)],chatSendBtn[_0x194f41(0x20d)][_0x194f41(0x288)]=_0x3dd8a6[_0x194f41(0x245)]):(chatInput[_0x194f41(0x318)][_0x194f41(0x20d)][_0x194f41(0x288)]='1',chatSendBtn[_0x194f41(0x20d)][_0x194f41(0x288)]='1',chatInput[_0x194f41(0x36d)]());}function setupVoiceRecognition(){const _0x8e3e0c=_0x99517c,_0x48f3de={'qNcHD':function(_0x40af92,_0x29766d){return _0x40af92(_0x29766d);},'BvyDX':function(_0x499931,_0x2d01d9){return _0x499931(_0x2d01d9);},'FHIZq':_0x8e3e0c(0x28d),'Cjatt':_0x8e3e0c(0x3ab),'knadL':function(_0x2ef16d){return _0x2ef16d();},'GqHPU':_0x8e3e0c(0x24b),'JvAQq':_0x8e3e0c(0x33e)};if(voiceRecognizer)return;const _0x33672e=window[_0x8e3e0c(0x359)]||window[_0x8e3e0c(0x23d)];if(!_0x33672e){appendMessage(_0x48f3de[_0x8e3e0c(0x2c4)],_0x48f3de['GqHPU']);if(voiceMicBtn)voiceMicBtn[_0x8e3e0c(0x2f0)]=!![];return;}voiceRecognizer=new _0x33672e(),voiceRecognizer[_0x8e3e0c(0x289)]=_0x48f3de[_0x8e3e0c(0x232)],voiceRecognizer[_0x8e3e0c(0x29f)]=![],voiceRecognizer[_0x8e3e0c(0x2ce)]=![],voiceRecognizer[_0x8e3e0c(0x390)]=function(){const _0x3dcccb=_0x8e3e0c;isVoiceStarting=![],_0x48f3de[_0x3dcccb(0x39e)](setVoiceListening,!![]);},voiceRecognizer[_0x8e3e0c(0x328)]=function(){isVoiceStarting=![],setVoiceListening(![]);},voiceRecognizer[_0x8e3e0c(0x3be)]=function(){const _0xe680f0=_0x8e3e0c;isVoiceStarting=![],_0x48f3de[_0xe680f0(0x38d)](setVoiceListening,![]),appendMessage(_0x48f3de[_0xe680f0(0x2c4)],_0x48f3de[_0xe680f0(0x342)]);},voiceRecognizer[_0x8e3e0c(0x30b)]=function(_0x1ae804){const _0x1e3b72=_0x8e3e0c,_0x2eeb62=_0x1ae804[_0x1e3b72(0x2bf)]&&_0x1ae804[_0x1e3b72(0x2bf)][-0x107*-0x11+0x2e0+0x7f*-0x29]&&_0x1ae804[_0x1e3b72(0x2bf)][0x53c+-0x2452+0x2e*0xad][0x347*0x2+-0x204*-0x6+0x1f*-0x9a],_0xfce841=_0x2eeb62?_0x2eeb62['transcript'][_0x1e3b72(0x358)]():'';_0xfce841&&(_0x48f3de[_0x1e3b72(0x207)](stopVoiceRecognition),chatInput[_0x1e3b72(0x2e0)]=_0xfce841,sendVoiceMessage(_0xfce841));};}function setVoiceListening(_0x3f281e){const _0x2fe555=_0x99517c,_0x2f9b36={'lRgMz':'is-listening','INaCF':_0x2fe555(0x3a9),'BbsYr':_0x2fe555(0x281)};isVoiceListening=_0x3f281e;voiceOrb&&(_0x3f281e?voiceOrb[_0x2fe555(0x331)][_0x2fe555(0x31c)](_0x2f9b36[_0x2fe555(0x2b8)]):voiceOrb['classList'][_0x2fe555(0x30e)](_0x2f9b36[_0x2fe555(0x2b8)]));if(!voiceMicBtn)return;const _0x2d2ec3=voiceMicBtn[_0x2fe555(0x2dc)]('i');_0x2d2ec3&&(_0x2d2ec3[_0x2fe555(0x2a4)]=_0x3f281e?_0x2f9b36['INaCF']:_0x2f9b36[_0x2fe555(0x334)]);}function setVoiceStatus(_0x271eba,_0x41c4d1){const _0x18ab26=_0x99517c,_0x151310={'XPmuJ':function(_0xd936a1,_0x46d145){return _0xd936a1||_0x46d145;},'czjeH':function(_0x2c0c73,_0x3c65a4){return _0x2c0c73!==_0x3c65a4;},'CSPTo':_0x18ab26(0x2c0),'ccWpw':_0x18ab26(0x294),'LCxta':_0x18ab26(0x276),'exJVA':_0x18ab26(0x2d6),'UhTBJ':_0x18ab26(0x290),'NQGzw':_0x18ab26(0x281),'HJRoe':function(_0x52687c,_0x3548a3){return _0x52687c===_0x3548a3;},'HaioA':'thinking','XncmN':_0x18ab26(0x215),'pXDBc':function(_0x489ed0,_0x335b94){return _0x489ed0===_0x335b94;},'UYgDz':_0x18ab26(0x3a4),'cQhjL':function(_0x4dad53,_0x5af0c8){return _0x4dad53===_0x5af0c8;},'vFSJF':_0x18ab26(0x20f),'qKYaG':function(_0x10d81f,_0x58a89b){return _0x10d81f===_0x58a89b;},'ySBqh':_0x18ab26(0x1f8)};if(_0x151310[_0x18ab26(0x2f1)](!voiceStatus,!voiceStatusText)||!voiceStatusIcon)return;if(_0x151310[_0x18ab26(0x285)](currentMode,_0x151310[_0x18ab26(0x373)]))return;const _0x37e4bd=[_0x151310['ccWpw'],_0x151310['LCxta'],_0x151310['exJVA'],_0x18ab26(0x2fd),_0x151310[_0x18ab26(0x293)]];voiceStatus[_0x18ab26(0x331)][_0x18ab26(0x30e)](..._0x37e4bd);const _0x367b42=_0x271eba?_0x18ab26(0x21c)+_0x271eba:_0x18ab26(0x294);voiceStatus[_0x18ab26(0x331)][_0x18ab26(0x31c)](_0x367b42);_0x41c4d1&&(voiceStatusText[_0x18ab26(0x23b)]=_0x41c4d1);let _0x288f2f=_0x151310['NQGzw'];if(_0x151310[_0x18ab26(0x2a6)](_0x271eba,_0x151310[_0x18ab26(0x272)]))_0x288f2f=_0x151310[_0x18ab26(0x255)];if(_0x151310['pXDBc'](_0x271eba,'answered'))_0x288f2f=_0x151310['UYgDz'];if(_0x151310[_0x18ab26(0x298)](_0x271eba,_0x151310['vFSJF']))_0x288f2f=_0x18ab26(0x254);if(_0x151310[_0x18ab26(0x311)](_0x271eba,_0x151310[_0x18ab26(0x1fa)]))_0x288f2f=_0x18ab26(0x377);voiceStatusIcon[_0x18ab26(0x2a4)]=_0x18ab26(0x312)+_0x288f2f;}function setVoiceSpeaking(_0x181303){const _0x3a2844=_0x99517c,_0x7035e1={'jwoWr':_0x3a2844(0x2c0),'Pdgmg':_0x3a2844(0x290),'XdtBU':function(_0x29384f,_0xb9ca3f){return _0x29384f||_0xb9ca3f;},'GpRyb':_0x3a2844(0x377),'mRZyc':_0x3a2844(0x281)};if(!voiceOrb)return;if(currentMode!==_0x7035e1[_0x3a2844(0x379)]){voiceOrb['classList'][_0x3a2844(0x30e)](_0x7035e1['Pdgmg']);return;}_0x181303?voiceOrb[_0x3a2844(0x331)]['add'](_0x7035e1[_0x3a2844(0x24a)]):voiceOrb['classList'][_0x3a2844(0x30e)](_0x7035e1[_0x3a2844(0x24a)]);voiceMicBtn&&(voiceMicBtn['disabled']=_0x181303);if(_0x7035e1[_0x3a2844(0x37c)](!voiceMicBtn,isVoiceListening))return;const _0x8a558e=voiceMicBtn[_0x3a2844(0x2dc)]('i');if(!_0x8a558e)return;_0x8a558e[_0x3a2844(0x2a4)]=_0x181303?_0x7035e1[_0x3a2844(0x3ac)]:_0x7035e1[_0x3a2844(0x1f6)];}function bindTtsEvents(_0x43571d,_0x36547d,_0x33487c){const _0x4a9546=_0x99517c,_0x12ef43={'aUxUi':function(_0x399238,_0x3cc4a2){return _0x399238(_0x3cc4a2);},'oqkzD':function(_0x2aa374){return _0x2aa374();},'jDrwM':_0x4a9546(0x34d),'KbbGx':_0x4a9546(0x267),'rsarq':_0x4a9546(0x364),'WECQD':'playing'};if(!_0x43571d)return;const _0x298ace=function(){_0x12ef43['aUxUi'](setVoiceSpeaking,![]);if(_0x36547d)_0x12ef43['oqkzD'](_0x36547d);};_0x43571d[_0x4a9546(0x352)](_0x12ef43[_0x4a9546(0x3bb)],_0x298ace),_0x43571d[_0x4a9546(0x352)](_0x12ef43[_0x4a9546(0x2ac)],_0x298ace),_0x43571d['addEventListener'](_0x12ef43[_0x4a9546(0x236)],_0x298ace),_0x43571d[_0x4a9546(0x352)](_0x12ef43[_0x4a9546(0x333)],function(){_0x12ef43['aUxUi'](setVoiceSpeaking,!![]);if(_0x33487c)_0x33487c();});}function stopVoiceRecognition(){const _0xf2e0cf=_0x99517c,_0x1fcadf={'YUgXQ':function(_0x4144f7,_0x1b5e3a){return _0x4144f7&&_0x1b5e3a;},'PjXpG':function(_0x35faa3,_0x16b0b1){return _0x35faa3(_0x16b0b1);}};_0x1fcadf[_0xf2e0cf(0x332)](voiceRecognizer,isVoiceListening)&&voiceRecognizer[_0xf2e0cf(0x300)](),isVoiceStarting=![],_0x1fcadf[_0xf2e0cf(0x338)](setVoiceListening,![]);}voiceMicBtn&&voiceMicBtn[_0x99517c(0x352)](_0x99517c(0x209),function(){const _0x5158a1=_0x99517c,_0x59395a={'GfhIU':function(_0x526b59,_0x4b8a9f,_0x52c291){return _0x526b59(_0x4b8a9f,_0x52c291);},'VLnBG':_0x5158a1(0x20f),'Svimi':_0x5158a1(0x35b)};if(!voiceRecognizer)setupVoiceRecognition();if(!voiceRecognizer)return;if(isVoiceListening)voiceRecognizer['stop']();else{if(isVoiceStarting)return;try{isVoiceStarting=!![],_0x59395a['GfhIU'](setVoiceStatus,_0x59395a['VLnBG'],_0x59395a[_0x5158a1(0x2ae)]),voiceRecognizer[_0x5158a1(0x39d)]();}catch(_0x398457){isVoiceStarting=![];}}});function playTtsAudio(_0x1b5fd5,_0x16948f,_0x25f589){const _0x1181c9=_0x99517c,_0x2bb294={'HlsjG':function(_0x4f917c,_0x285367,_0x5a7ee2,_0xf2204d){return _0x4f917c(_0x285367,_0x5a7ee2,_0xf2204d);},'PyHOp':function(_0x41461e,_0x28e4f3){return _0x41461e(_0x28e4f3);}};if(!_0x1b5fd5)return;ttsAudio&&(ttsAudio['pause'](),ttsAudio['currentTime']=0x5e*-0x2b+-0x2285*0x1+0x324f),ttsAudio=new Audio(_0x1b5fd5),_0x2bb294['HlsjG'](bindTtsEvents,ttsAudio,_0x16948f,_0x25f589),_0x2bb294[_0x1181c9(0x26c)](setVoiceSpeaking,!![]),ttsAudio[_0x1181c9(0x349)]()[_0x1181c9(0x2e7)](function(){});}function playTtsBlob(_0x54548f,_0x203ab2,_0xb739ef){const _0x4d43c1=_0x99517c,_0x28b86d={'qJnEP':function(_0x22c07b,_0x5d1e6e,_0x23a24d,_0x30a463){return _0x22c07b(_0x5d1e6e,_0x23a24d,_0x30a463);},'gEkNL':'ended','Qquys':_0x4d43c1(0x267)};if(!_0x54548f)return;ttsAudio&&(ttsAudio[_0x4d43c1(0x364)](),ttsAudio[_0x4d43c1(0x2a8)]=-0xe*-0x205+-0x5a1*0x5+-0x21);const _0x2d5cc2=URL[_0x4d43c1(0x29b)](_0x54548f);ttsAudio=new Audio(_0x2d5cc2),_0x28b86d['qJnEP'](bindTtsEvents,ttsAudio,_0x203ab2,_0xb739ef),setVoiceSpeaking(!![]);const _0x5a74a9=function(){const _0x2c9d39=_0x4d43c1;URL[_0x2c9d39(0x211)](_0x2d5cc2);};ttsAudio[_0x4d43c1(0x352)](_0x28b86d['gEkNL'],_0x5a74a9),ttsAudio[_0x4d43c1(0x352)](_0x28b86d[_0x4d43c1(0x3a1)],_0x5a74a9),ttsAudio[_0x4d43c1(0x349)]()[_0x4d43c1(0x2e7)](function(){});}function playTtsBase64(_0x2fe366,_0x1d58df,_0x4fc282,_0x45cbf6){const _0x3aab92=_0x99517c,_0x859cf8={'TgCsL':function(_0x3c3a9e,_0x18b367){return _0x3c3a9e<_0x18b367;},'jUYyO':function(_0x1f706e,_0x5deb21){return _0x1f706e||_0x5deb21;},'opJxr':_0x3aab92(0x2b2)};if(!_0x2fe366)return;try{const _0x40fae4=atob(_0x2fe366),_0x21c650=_0x40fae4[_0x3aab92(0x315)],_0x5d9fb9=new Uint8Array(_0x21c650);for(let _0x259b01=0xc*0x1be+-0x1*-0xb7e+-0x2066;_0x859cf8['TgCsL'](_0x259b01,_0x21c650);_0x259b01++){_0x5d9fb9[_0x259b01]=_0x40fae4[_0x3aab92(0x213)](_0x259b01);}const _0x15e47b=new Blob([_0x5d9fb9],{'type':_0x859cf8[_0x3aab92(0x353)](_0x1d58df,_0x859cf8['opJxr'])});playTtsBlob(_0x15e47b,_0x4fc282,_0x45cbf6);}catch(_0x28b0a7){}}function isPcmMimeType(_0x566278){const _0x3cbacf=_0x99517c;if(!_0x566278)return![];return/audio\/l16/i[_0x3cbacf(0x336)](_0x566278)||/codec=pcm/i[_0x3cbacf(0x336)](_0x566278);}function parsePcmDataUrl(_0x51f27f){const _0x1a7918=_0x99517c,_0x551e3e={'SnGXV':_0x1a7918(0x20c),'CuNnR':function(_0x473b9f,_0x1bbe20){return _0x473b9f<_0x1bbe20;},'xVFCa':function(_0x14d1ec,_0x4e88ef){return _0x14d1ec(_0x4e88ef);}};if(!_0x51f27f||typeof _0x51f27f!==_0x551e3e['SnGXV'])return null;if(!_0x51f27f[_0x1a7918(0x302)](_0x1a7918(0x301)))return null;const _0x1b863c=_0x51f27f[_0x1a7918(0x381)](',');if(_0x551e3e['CuNnR'](_0x1b863c[_0x1a7918(0x315)],0x171c+0x1503+-0x1eb*0x17))return null;const _0x36aba0=_0x1b863c[-0x3*0xb71+-0x2174+0x43c7],_0x139889=_0x1b863c[_0x1a7918(0x284)](0x2*0x6dd+0x31*0x3+0x262*-0x6)[_0x1a7918(0x208)](','),_0x31f0c6=_0x36aba0[_0x1a7918(0x218)](/rate=(\d+)/i),_0x50cdb3=_0x31f0c6?_0x551e3e['xVFCa'](Number,_0x31f0c6[0xf46*-0x1+-0x7*-0x3f1+0x314*-0x4]):0x2397+0x1285*0x1+-0x3b*-0xac,_0x4f7ae9=_0x36aba0[_0x1a7918(0x284)](0x41*-0x8c+0x1003*0x1+0x138e)[_0x1a7918(0x381)](';')[-0x1fa9+0x1709+0x8a0];return{'base64':_0x139889,'sampleRate':_0x50cdb3,'mimeType':_0x4f7ae9};}function buildWavBlobFromPcm(_0x2b1bbb,_0x396263){const _0x5616ae=_0x99517c,_0x143b3e={'aSLEX':function(_0x8883d0,_0x38de0e){return _0x8883d0<_0x38de0e;},'YeWzH':function(_0x58315d,_0x513f41){return _0x58315d+_0x513f41;},'AYEVq':function(_0x5cdfb0,_0x4aa57f){return _0x5cdfb0||_0x4aa57f;},'fLvuk':function(_0xa03ac0,_0x53dfa6){return _0xa03ac0*_0x53dfa6;},'bDKiI':function(_0x1c23b,_0x146e3d,_0x14f2c5){return _0x1c23b(_0x146e3d,_0x14f2c5);},'YiJIx':_0x5616ae(0x24e),'elKjc':function(_0x4dbc3c,_0x34ac15){return _0x4dbc3c+_0x34ac15;},'fTwRK':function(_0x3b157a,_0x3a0a2f,_0x270c7b){return _0x3b157a(_0x3a0a2f,_0x270c7b);},'WeQYH':_0x5616ae(0x3bf),'yhnLk':function(_0x54376a,_0x235edc,_0x494c52){return _0x54376a(_0x235edc,_0x494c52);},'fvwdR':_0x5616ae(0x242),'nxFBe':'audio/wav'};if(!_0x2b1bbb||!_0x2b1bbb[_0x5616ae(0x315)])return null;const _0x16c2d6=_0x143b3e[_0x5616ae(0x24f)](_0x396263,-0x1*-0x90ff+0x7525+-0x2*0x5432),_0xeec4b7=0x20c5+-0x1df*-0xd+-0x3917,_0xd00449=-0xe*-0x18e+-0x26d*-0xf+-0x3a17,_0x322401=_0xeec4b7*_0xd00449/(0x1044+-0x1205*0x2+0x13ce),_0x43a287=_0x143b3e[_0x5616ae(0x368)](_0x16c2d6,_0x322401),_0xc4dbe=_0x2b1bbb[_0x5616ae(0x315)],_0x2933a6=new ArrayBuffer(0x5*-0x67d+0xe3*0x1e+0x603),_0x224bea=new DataView(_0x2933a6),_0x5c4a37=function(_0x2457de,_0x2066cb){const _0x277e89=_0x5616ae;for(let _0x38bfaf=-0x3b*-0x79+-0x840+0x1*-0x13a3;_0x143b3e[_0x277e89(0x23c)](_0x38bfaf,_0x2066cb[_0x277e89(0x315)]);_0x38bfaf++){_0x224bea[_0x277e89(0x2fe)](_0x143b3e['YeWzH'](_0x2457de,_0x38bfaf),_0x2066cb['charCodeAt'](_0x38bfaf));}};return _0x143b3e[_0x5616ae(0x21e)](_0x5c4a37,0x4a*-0xd+0x1*-0x7dc+0xb9e,_0x143b3e[_0x5616ae(0x30d)]),_0x224bea[_0x5616ae(0x2bb)](0x338*-0x7+0xf*0x13f+0x3db,_0x143b3e[_0x5616ae(0x2b0)](0x1227+0x1c3d*-0x1+0xe*0xbb,_0xc4dbe),!![]),_0x143b3e['fTwRK'](_0x5c4a37,0x2*-0x110b+-0x24b3+-0x1*-0x46d1,_0x5616ae(0x376)),_0x5c4a37(-0x180d+0x217+0x1602,_0x143b3e[_0x5616ae(0x2b5)]),_0x224bea['setUint32'](0x12f*-0x2+0x157d+-0x130f,0x23cf*-0x1+-0x1cbf+-0x9*-0x72e,!![]),_0x224bea[_0x5616ae(0x251)](0x125f+-0x177+0x59c*-0x3,0x1f9a+0xc04*-0x1+-0x1395,!![]),_0x224bea[_0x5616ae(0x251)](-0xfb8+-0x295+-0x3*-0x621,_0xeec4b7,!![]),_0x224bea[_0x5616ae(0x2bb)](-0xedd+0x1755+-0x860*0x1,_0x16c2d6,!![]),_0x224bea[_0x5616ae(0x2bb)](-0x394+0x1f0f*0x1+0x8f*-0x31,_0x43a287,!![]),_0x224bea['setUint16'](0x2a6*-0x8+-0xfe4+0x2534,_0x322401,!![]),_0x224bea[_0x5616ae(0x251)](-0x22d5+-0x1d53*0x1+-0x3*-0x156e,_0xd00449,!![]),_0x143b3e[_0x5616ae(0x2e5)](_0x5c4a37,-0x39*0x5a+-0x433+0x1*0x1861,_0x143b3e[_0x5616ae(0x392)]),_0x224bea[_0x5616ae(0x2bb)](-0x23*0x3c+0x1ced+-0x1491,_0xc4dbe,!![]),new Blob([_0x2933a6,_0x2b1bbb],{'type':_0x143b3e[_0x5616ae(0x2af)]});}function playPcmBase64AsWav(_0x24ca91,_0xc3bbd9,_0x41cd21,_0xddcd9b){const _0x21c0b1=_0x99517c,_0x4d0751={'HFeyW':function(_0x1705d8,_0xb99c06){return _0x1705d8(_0xb99c06);},'inYtO':function(_0x32294e,_0x320eda){return _0x32294e<_0x320eda;},'GMlNM':function(_0x23b99e,_0x568e22,_0x3c2458){return _0x23b99e(_0x568e22,_0x3c2458);},'FdMZu':function(_0x46b5ed,_0x5b01cf,_0x45d98d,_0x87752e){return _0x46b5ed(_0x5b01cf,_0x45d98d,_0x87752e);}};if(!_0x24ca91)return;try{const _0x391baa=_0x4d0751['HFeyW'](atob,_0x24ca91),_0x59122a=_0x391baa[_0x21c0b1(0x315)],_0x1835ef=new Uint8Array(_0x59122a);for(let _0xbd0731=0x21b7+-0x1f26+-0x291;_0x4d0751[_0x21c0b1(0x1ff)](_0xbd0731,_0x59122a);_0xbd0731++){_0x1835ef[_0xbd0731]=_0x391baa['charCodeAt'](_0xbd0731);}const _0x36b3c9=_0x4d0751[_0x21c0b1(0x23f)](buildWavBlobFromPcm,_0x1835ef,_0xc3bbd9);if(_0x36b3c9)_0x4d0751[_0x21c0b1(0x253)](playTtsBlob,_0x36b3c9,_0x41cd21,_0xddcd9b);}catch(_0x3725fe){}}function playPcmBufferAsWav(_0x58c0fd,_0x9ab61c,_0x20ba8b,_0x273de2){const _0x23d4a6=_0x99517c,_0x4a6b90={'ohpWa':function(_0x77fcec,_0x17595a,_0xa55da4){return _0x77fcec(_0x17595a,_0xa55da4);},'LTKNY':function(_0x308ef2,_0x284d63,_0x296273,_0x5dfcdb){return _0x308ef2(_0x284d63,_0x296273,_0x5dfcdb);}};if(!_0x58c0fd)return;const _0x503c1e=new Uint8Array(_0x58c0fd),_0x114f08=_0x4a6b90[_0x23d4a6(0x2da)](buildWavBlobFromPcm,_0x503c1e,_0x9ab61c);if(_0x114f08)_0x4a6b90[_0x23d4a6(0x248)](playTtsBlob,_0x114f08,_0x20ba8b,_0x273de2);}function resolveBaseUrl(_0x312669){const _0x73df69=_0x99517c,_0xef4100={'ylUKD':function(_0xfaffed,_0x5601fa){return _0xfaffed!==_0x5601fa;}};if(!_0x312669||_0xef4100[_0x73df69(0x22c)](typeof _0x312669,_0x73df69(0x20c)))return'';let _0x307e9e=_0x312669[_0x73df69(0x358)]();if(!_0x307e9e)return'';return!/^https?:\/\//i[_0x73df69(0x336)](_0x307e9e)&&(_0x307e9e=_0x73df69(0x21a)+_0x307e9e),_0x307e9e[_0x73df69(0x224)](/\/+$/,'');}async function requestTtsAudio(_0x3c1f33){const _0x3798e4=_0x99517c,_0x499963={'YsItE':function(_0x45bb77,_0x2c6f9f){return _0x45bb77(_0x2c6f9f);},'oSCMF':function(_0x252a4a,_0x396f26,_0x1ad445){return _0x252a4a(_0x396f26,_0x1ad445);},'fpXPr':_0x3798e4(0x39b),'cNiXH':_0x3798e4(0x2ad),'XBQli':_0x3798e4(0x2ed),'sKotC':_0x3798e4(0x1f8),'MwviX':function(_0x2b03d6,_0x5b6d9b){return _0x2b03d6(_0x5b6d9b);},'AEjyX':function(_0x131f9e,_0x49cc9b,_0x21f943){return _0x131f9e(_0x49cc9b,_0x21f943);},'dWMnf':function(_0x48b8c6,_0x5f4302,_0x40d67b){return _0x48b8c6(_0x5f4302,_0x40d67b);},'EkmBB':function(_0x3e8881,_0x4714c6,_0x35f047){return _0x3e8881(_0x4714c6,_0x35f047);},'OxqkE':'SuFi\x20menjawab...','tKHdK':function(_0xbb6030,_0x196b68,_0x2bb6aa){return _0xbb6030(_0x196b68,_0x2bb6aa);},'LZbcA':function(_0x106cb2,_0x60f346,_0x569447){return _0x106cb2(_0x60f346,_0x569447);},'vcsDt':function(_0x2bfb52,_0x2f6ab6,_0x294b29){return _0x2bfb52(_0x2f6ab6,_0x294b29);},'zESSm':function(_0x42db4f,_0x463ea6){return _0x42db4f(_0x463ea6);},'kxtsx':function(_0x138cbc,_0x4c734a){return _0x138cbc(_0x4c734a);},'kisVT':function(_0xd37bbc,_0x19fa38,_0x1e0626){return _0xd37bbc(_0x19fa38,_0x1e0626);},'eKxIg':function(_0xd55423,_0x50c04e){return _0xd55423(_0x50c04e);},'Gjhnm':function(_0x456512,_0x7833df,_0x5c0278){return _0x456512(_0x7833df,_0x5c0278);},'VKsGB':_0x3798e4(0x2e1),'XSzCw':function(_0x4ba025,_0x43586c){return _0x4ba025===_0x43586c;},'WmqLa':_0x3798e4(0x2c0),'dOuKs':_0x3798e4(0x2d0),'AnecO':_0x3798e4(0x20f),'lXTaR':_0x3798e4(0x2e9),'giXmm':function(_0x41601f,_0x39c2ec,_0x1c0024){return _0x41601f(_0x39c2ec,_0x1c0024);},'xXpTK':_0x3798e4(0x282),'jeMHL':function(_0x6b7b18,_0x3b80ae,_0x461d9f){return _0x6b7b18(_0x3b80ae,_0x461d9f);},'OEbbX':function(_0x5ad323,_0x3157f1,_0x2038ae){return _0x5ad323(_0x3157f1,_0x2038ae);},'BrnVx':'bot','wTOPN':_0x3798e4(0x2ff),'VVdVm':_0x3798e4(0x26a),'TnHGX':_0x3798e4(0x356),'fjpmQ':'application/octet-stream','qPtrV':function(_0x7d6dbd,_0x424613){return _0x7d6dbd(_0x424613);},'DuPbz':function(_0x27c106,_0x332770,_0x1ab790,_0x33e1e4,_0x2c9cd2){return _0x27c106(_0x332770,_0x1ab790,_0x33e1e4,_0x2c9cd2);},'LoWbj':function(_0x4e5fbd,_0x5d7e64){return _0x4e5fbd(_0x5d7e64);},'gXrbE':function(_0x25d783,_0x4112ce,_0x41bf35){return _0x25d783(_0x4112ce,_0x41bf35);},'xQQfg':function(_0x220c5a,_0x495bc4,_0x41481b,_0x4fb6a9,_0x42f36b){return _0x220c5a(_0x495bc4,_0x41481b,_0x4fb6a9,_0x42f36b);},'IFZAD':function(_0x5bfd51,_0xc94c3b,_0x5e8946,_0x33e367){return _0x5bfd51(_0xc94c3b,_0x5e8946,_0x33e367);},'dGrNc':function(_0x1b8847,_0x114312,_0x54719d){return _0x1b8847(_0x114312,_0x54719d);},'Osoqn':_0x3798e4(0x2b2),'QTphQ':function(_0x111e61,_0x41bf27,_0x2a5e16){return _0x111e61(_0x41bf27,_0x2a5e16);},'ffmXG':function(_0x72a96c,_0x31445e,_0x32cb27){return _0x72a96c(_0x31445e,_0x32cb27);},'fglzC':function(_0x5702fa,_0x35a8b7,_0x36e14d){return _0x5702fa(_0x35a8b7,_0x36e14d);},'yfjFs':function(_0x5e6d6d,_0x33c0e1,_0x12624e,_0x1fd9eb,_0x48446b){return _0x5e6d6d(_0x33c0e1,_0x12624e,_0x1fd9eb,_0x48446b);},'FgcUK':function(_0x593d3a,_0x2b9d82,_0x3ed5d8,_0x317d17,_0x5ad67e){return _0x593d3a(_0x2b9d82,_0x3ed5d8,_0x317d17,_0x5ad67e);},'DNRUy':function(_0x174b52,_0x350d9d){return _0x174b52(_0x350d9d);}};if(!_0x3c1f33)return;const _0x3e8db8=_0x499963[_0x3798e4(0x2fc)],_0x12536d=_0x499963[_0x3798e4(0x256)](currentMode,_0x499963[_0x3798e4(0x2b9)]),_0x32b97a=_0x12536d?null:_0x499963[_0x3798e4(0x38b)](showTypingIndicator,_0x499963['dOuKs']);_0x12536d&&setVoiceStatus(_0x499963[_0x3798e4(0x39a)],_0x499963['lXTaR']);let _0xf1e155=null;try{_0xf1e155=await _0x499963[_0x3798e4(0x2ef)](fetch,_0x3e8db8,{'method':_0x499963[_0x3798e4(0x3a0)],'headers':{'Content-Type':_0x3798e4(0x360)},'body':JSON[_0x3798e4(0x216)]({'prompt':_0x3c1f33,'voiceName':_0x3798e4(0x398)})});}catch(_0x1c6baa){if(_0x32b97a)_0x499963[_0x3798e4(0x246)](removeTypingIndicator,_0x32b97a);_0x499963[_0x3798e4(0x2f6)](setVoiceStatus,_0x499963[_0x3798e4(0x2b1)],_0x3798e4(0x2ad)),_0x499963['OEbbX'](appendMessage,_0x499963[_0x3798e4(0x2b6)],_0x499963[_0x3798e4(0x2e8)]);return;}const _0xe71831=(_0xf1e155['headers'][_0x3798e4(0x30c)](_0x499963[_0x3798e4(0x2ea)])||'')['toLowerCase']();if(_0xf1e155['ok']&&(_0xe71831[_0x3798e4(0x264)](_0x499963[_0x3798e4(0x394)])||_0xe71831['includes'](_0x499963[_0x3798e4(0x354)]))){if(_0x499963[_0x3798e4(0x1f5)](isPcmMimeType,_0xe71831)){const _0x58fe13=await _0xf1e155[_0x3798e4(0x36c)](),_0x8f372c=_0xe71831[_0x3798e4(0x218)](/rate=(\d+)/i),_0x13a757=_0x8f372c?Number(_0x8f372c[0x1904*-0x1+0x1cf6+-0x3f1]):-0x7535+0x49*0x256+0x286f;if(_0x32b97a)_0x499963[_0x3798e4(0x2f6)](updateTypingIndicator,_0x32b97a,_0x499963['XBQli']);if(_0x12536d)setVoiceStatus(_0x499963[_0x3798e4(0x28b)],_0x3798e4(0x34c));_0x499963[_0x3798e4(0x326)](playPcmBufferAsWav,_0x58fe13,_0x13a757,function(){const _0x3d3b06=_0x3798e4;if(_0x32b97a)_0x499963[_0x3d3b06(0x35c)](removeTypingIndicator,_0x32b97a);_0x499963[_0x3d3b06(0x306)](setVoiceStatus,_0x499963[_0x3d3b06(0x2b1)],_0x499963[_0x3d3b06(0x384)]);},function(){const _0x2c78e6=_0x3798e4;if(_0x32b97a)_0x499963['oSCMF'](updateTypingIndicator,_0x32b97a,_0x499963['XBQli']);if(_0x12536d)_0x499963[_0x2c78e6(0x306)](setVoiceStatus,_0x499963[_0x2c78e6(0x28b)],'SuFi\x20menjawab...');});return;}const _0x4899f7=await _0xf1e155['blob']();if(_0x32b97a)updateTypingIndicator(_0x32b97a,_0x499963[_0x3798e4(0x3b2)]);if(_0x12536d)_0x499963[_0x3798e4(0x35f)](setVoiceStatus,'speaking',_0x499963[_0x3798e4(0x22b)]);playTtsBlob(_0x4899f7,function(){const _0x500440=_0x3798e4;if(_0x32b97a)_0x499963['MwviX'](removeTypingIndicator,_0x32b97a);setVoiceStatus(_0x499963['fpXPr'],_0x499963[_0x500440(0x384)]);},function(){const _0x52374d=_0x3798e4;if(_0x32b97a)_0x499963[_0x52374d(0x306)](updateTypingIndicator,_0x32b97a,_0x52374d(0x2ed));if(_0x12536d)_0x499963['oSCMF'](setVoiceStatus,_0x499963[_0x52374d(0x28b)],_0x52374d(0x34c));});return;}let _0x59b668=null;try{_0x59b668=await _0xf1e155['json']();}catch(_0x474d4b){}if(!_0xf1e155['ok']){if(_0x32b97a)removeTypingIndicator(_0x32b97a);setVoiceStatus(_0x499963[_0x3798e4(0x2b1)],_0x499963[_0x3798e4(0x384)]),_0x499963[_0x3798e4(0x2f6)](appendMessage,_0x499963['BrnVx'],_0x499963[_0x3798e4(0x2e8)]);return;}if(_0x59b668&&_0x59b668[_0x3798e4(0x201)]){const _0x5ed0d9=_0x499963[_0x3798e4(0x385)](parsePcmDataUrl,_0x59b668[_0x3798e4(0x201)]);if(_0x5ed0d9&&_0x499963[_0x3798e4(0x1f5)](isPcmMimeType,_0x5ed0d9['mimeType'])){if(_0x32b97a)_0x499963['gXrbE'](updateTypingIndicator,_0x32b97a,_0x499963[_0x3798e4(0x3b2)]);if(_0x12536d)_0x499963[_0x3798e4(0x395)](setVoiceStatus,_0x3798e4(0x1f8),_0x499963['OxqkE']);_0x499963['xQQfg'](playPcmBase64AsWav,_0x5ed0d9['base64'],_0x5ed0d9[_0x3798e4(0x2ec)],function(){const _0x237e91=_0x3798e4;if(_0x32b97a)removeTypingIndicator(_0x32b97a);_0x499963[_0x237e91(0x2b3)](setVoiceStatus,'idle',_0x499963[_0x237e91(0x384)]);},function(){const _0x202279=_0x3798e4;if(_0x32b97a)_0x499963[_0x202279(0x270)](updateTypingIndicator,_0x32b97a,_0x499963[_0x202279(0x3b2)]);if(_0x12536d)_0x499963[_0x202279(0x230)](setVoiceStatus,'speaking',_0x499963[_0x202279(0x22b)]);});return;}if(_0x32b97a)updateTypingIndicator(_0x32b97a,_0x499963[_0x3798e4(0x3b2)]);if(_0x12536d)setVoiceStatus(_0x499963[_0x3798e4(0x28b)],_0x3798e4(0x34c));_0x499963[_0x3798e4(0x370)](playTtsAudio,_0x59b668['audioUrl'],function(){const _0x438d5b=_0x3798e4;if(_0x32b97a)removeTypingIndicator(_0x32b97a);setVoiceStatus(_0x499963[_0x438d5b(0x2b1)],_0x499963[_0x438d5b(0x384)]);},function(){const _0xaba49b=_0x3798e4;if(_0x32b97a)_0x499963[_0xaba49b(0x31b)](updateTypingIndicator,_0x32b97a,_0xaba49b(0x2ed));if(_0x12536d)_0x499963[_0xaba49b(0x2b3)](setVoiceStatus,_0x499963[_0xaba49b(0x28b)],_0xaba49b(0x34c));});return;}const _0x47c8f3=_0x59b668&&_0x59b668[_0x3798e4(0x299)]&&_0x59b668[_0x3798e4(0x299)]['url'];if(_0x47c8f3){const _0x2a5a1b=parsePcmDataUrl(_0x47c8f3);if(_0x2a5a1b&&_0x499963[_0x3798e4(0x385)](isPcmMimeType,_0x2a5a1b['mimeType'])){if(_0x32b97a)_0x499963[_0x3798e4(0x2fa)](updateTypingIndicator,_0x32b97a,_0x3798e4(0x2ed));if(_0x12536d)_0x499963[_0x3798e4(0x33a)](setVoiceStatus,_0x3798e4(0x1f8),_0x499963[_0x3798e4(0x22b)]);_0x499963[_0x3798e4(0x326)](playPcmBase64AsWav,_0x2a5a1b[_0x3798e4(0x38c)],_0x2a5a1b[_0x3798e4(0x2ec)],function(){const _0x131ab0=_0x3798e4;if(_0x32b97a)removeTypingIndicator(_0x32b97a);setVoiceStatus(_0x499963['fpXPr'],_0x499963[_0x131ab0(0x384)]);},function(){const _0x25dea0=_0x3798e4;if(_0x32b97a)_0x499963[_0x25dea0(0x230)](updateTypingIndicator,_0x32b97a,_0x25dea0(0x2ed));if(_0x12536d)_0x499963[_0x25dea0(0x306)](setVoiceStatus,_0x499963['sKotC'],_0x499963[_0x25dea0(0x22b)]);});return;}if(_0x32b97a)_0x499963['dGrNc'](updateTypingIndicator,_0x32b97a,_0x499963[_0x3798e4(0x3b2)]);if(_0x12536d)setVoiceStatus(_0x499963['sKotC'],_0x499963[_0x3798e4(0x22b)]);_0x499963[_0x3798e4(0x370)](playTtsAudio,_0x47c8f3,function(){const _0x4168ae=_0x3798e4;if(_0x32b97a)_0x499963[_0x4168ae(0x35c)](removeTypingIndicator,_0x32b97a);_0x499963[_0x4168ae(0x230)](setVoiceStatus,_0x499963[_0x4168ae(0x2b1)],_0x499963[_0x4168ae(0x384)]);},function(){const _0x5f277f=_0x3798e4;if(_0x32b97a)_0x499963[_0x5f277f(0x33a)](updateTypingIndicator,_0x32b97a,_0x5f277f(0x2ed));if(_0x12536d)_0x499963['vcsDt'](setVoiceStatus,_0x499963[_0x5f277f(0x28b)],_0x499963['OxqkE']);});return;}const _0x23f9df=_0x59b668&&(_0x59b668[_0x3798e4(0x3b8)]||_0x59b668[_0x3798e4(0x299)]&&_0x59b668[_0x3798e4(0x299)]['data']),_0x122e7f=_0x59b668&&_0x59b668[_0x3798e4(0x299)]&&_0x59b668[_0x3798e4(0x299)]['mimeType']||_0x499963[_0x3798e4(0x25c)];if(_0x23f9df){if(_0x499963[_0x3798e4(0x355)](isPcmMimeType,_0x122e7f)){const _0x181f46=_0x122e7f['match'](/rate=(\d+)/i),_0x365603=_0x181f46?_0x499963['YsItE'](Number,_0x181f46[0x37*-0xa6+0x83a+-0x119*-0x19]):0x107*-0x5+-0xa106*0x1+0x103e9;if(_0x32b97a)_0x499963[_0x3798e4(0x2d4)](updateTypingIndicator,_0x32b97a,_0x499963[_0x3798e4(0x3b2)]);if(_0x12536d)_0x499963[_0x3798e4(0x23a)](setVoiceStatus,_0x499963[_0x3798e4(0x28b)],_0x499963[_0x3798e4(0x22b)]);playPcmBase64AsWav(_0x23f9df,_0x365603,function(){const _0x1cb232=_0x3798e4;if(_0x32b97a)_0x499963['zESSm'](removeTypingIndicator,_0x32b97a);_0x499963[_0x1cb232(0x33a)](setVoiceStatus,_0x499963[_0x1cb232(0x2b1)],_0x499963[_0x1cb232(0x384)]);},function(){const _0xdec4a7=_0x3798e4;if(_0x32b97a)updateTypingIndicator(_0x32b97a,_0x499963[_0xdec4a7(0x3b2)]);if(_0x12536d)_0x499963['tKHdK'](setVoiceStatus,_0x499963['sKotC'],_0x499963['OxqkE']);});}else{if(_0x32b97a)_0x499963[_0x3798e4(0x2ee)](updateTypingIndicator,_0x32b97a,_0x499963['XBQli']);if(_0x12536d)_0x499963[_0x3798e4(0x270)](setVoiceStatus,_0x499963[_0x3798e4(0x28b)],_0x3798e4(0x34c));_0x499963[_0x3798e4(0x33d)](playTtsBase64,_0x23f9df,_0x122e7f,function(){const _0x55d053=_0x3798e4;if(_0x32b97a)removeTypingIndicator(_0x32b97a);_0x499963[_0x55d053(0x2b3)](setVoiceStatus,_0x499963['fpXPr'],_0x499963[_0x55d053(0x384)]);},function(){const _0x494a17=_0x3798e4;if(_0x32b97a)_0x499963[_0x494a17(0x230)](updateTypingIndicator,_0x32b97a,_0x499963[_0x494a17(0x3b2)]);if(_0x12536d)setVoiceStatus(_0x499963[_0x494a17(0x28b)],_0x499963['OxqkE']);});}return;}const _0x430354=_0x59b668&&_0x59b668[_0x3798e4(0x343)]&&_0x59b668[_0x3798e4(0x343)][-0x1e93+0x718+-0x177b*-0x1]&&_0x59b668[_0x3798e4(0x343)][0xf39+0x3a*0x18+0x2b*-0x7b][_0x3798e4(0x2c6)]&&_0x59b668[_0x3798e4(0x343)][0x1*0x1613+-0xa9a+-0x21*0x59][_0x3798e4(0x2c6)][_0x3798e4(0x380)]&&_0x59b668[_0x3798e4(0x343)][-0x16c5+0x469*0x1+0x125c][_0x3798e4(0x2c6)][_0x3798e4(0x380)][0xcf6*0x1+-0x16d+-0xb89]&&_0x59b668[_0x3798e4(0x343)][-0xf4d*0x2+0x19*0x9+-0x1db9*-0x1][_0x3798e4(0x2c6)][_0x3798e4(0x380)][-0x3*0xc31+0xca*-0x4+-0x1*-0x27bb]['inlineData'];if(_0x430354&&_0x430354[_0x3798e4(0x242)]){const _0x32162f=_0x430354[_0x3798e4(0x22e)]||_0x3798e4(0x2b2);if(_0x499963[_0x3798e4(0x355)](isPcmMimeType,_0x32162f)){const _0x284cff=_0x32162f[_0x3798e4(0x218)](/rate=(\d+)/i),_0x3d3390=_0x284cff?_0x499963['eKxIg'](Number,_0x284cff[-0x1e3d*0x1+-0x17f*0x6+0x2738]):-0xb15e+0x12d*-0x49+0x164f3;if(_0x32b97a)updateTypingIndicator(_0x32b97a,_0x499963[_0x3798e4(0x3b2)]);if(_0x12536d)_0x499963['QTphQ'](setVoiceStatus,_0x499963[_0x3798e4(0x28b)],_0x499963[_0x3798e4(0x22b)]);_0x499963[_0x3798e4(0x337)](playPcmBase64AsWav,_0x430354[_0x3798e4(0x242)],_0x3d3390,function(){const _0x925a7=_0x3798e4;if(_0x32b97a)_0x499963['kxtsx'](removeTypingIndicator,_0x32b97a);_0x499963[_0x925a7(0x270)](setVoiceStatus,_0x925a7(0x39b),_0x499963[_0x925a7(0x384)]);},function(){const _0x1b6b5a=_0x3798e4;if(_0x32b97a)updateTypingIndicator(_0x32b97a,_0x499963[_0x1b6b5a(0x3b2)]);if(_0x12536d)_0x499963[_0x1b6b5a(0x35f)](setVoiceStatus,_0x499963[_0x1b6b5a(0x28b)],_0x1b6b5a(0x34c));});}else{if(_0x32b97a)updateTypingIndicator(_0x32b97a,'SuFi\x20sedang\x20berbicara...');if(_0x12536d)setVoiceStatus(_0x499963[_0x3798e4(0x28b)],_0x499963[_0x3798e4(0x22b)]);playTtsBase64(_0x430354[_0x3798e4(0x242)],_0x32162f,function(){const _0x1cde1a=_0x3798e4;if(_0x32b97a)_0x499963[_0x1cde1a(0x246)](removeTypingIndicator,_0x32b97a);_0x499963['Gjhnm'](setVoiceStatus,_0x1cde1a(0x39b),'Tekan\x20mic\x20untuk\x20mulai');},function(){const _0x16abf3=_0x3798e4;if(_0x32b97a)updateTypingIndicator(_0x32b97a,_0x499963['XBQli']);if(_0x12536d)_0x499963[_0x16abf3(0x35f)](setVoiceStatus,_0x499963[_0x16abf3(0x28b)],_0x499963['OxqkE']);});}return;}if(_0x32b97a)_0x499963[_0x3798e4(0x3b7)](removeTypingIndicator,_0x32b97a);_0x499963[_0x3798e4(0x230)](setVoiceStatus,_0x499963[_0x3798e4(0x2b1)],_0x3798e4(0x2ad)),_0x499963[_0x3798e4(0x1fe)](appendMessage,_0x499963[_0x3798e4(0x2b6)],_0x499963[_0x3798e4(0x2e8)]);}async function sendVoiceMessage(_0x3522d8){const _0x52871b=_0x99517c,_0x2a17c8={'MaYSt':_0x52871b(0x38a),'dftrD':function(_0x3fc4f9,_0x48675a,_0x5724bb){return _0x3fc4f9(_0x48675a,_0x5724bb);},'jsvze':_0x52871b(0x37f),'hHJHo':_0x52871b(0x378),'jXSPp':'SuFi\x20berfikir...','phYMG':_0x52871b(0x2c0),'LlnHX':_0x52871b(0x2ca),'mUGBm':function(_0x30b4d3,_0x304d73){return _0x30b4d3(_0x304d73);},'NcTIm':'server/chat.php','EqUSJ':_0x52871b(0x282),'zVByS':'no-store','gGReK':function(_0x2e2c89,_0x42e5fc){return _0x2e2c89===_0x42e5fc;},'NtaZz':_0x52871b(0x20c),'ngSVu':function(_0x2bfdfd,_0x251aa7){return _0x2bfdfd(_0x251aa7);},'BNElM':'bot','pqPzM':function(_0x33690a,_0x1071d7){return _0x33690a||_0x1071d7;},'cUccx':function(_0x2a4f0d,_0xcdc634){return _0x2a4f0d(_0xcdc634);},'oVyYz':_0x52871b(0x39b),'xUxon':_0x52871b(0x2ad),'vOCQl':function(_0xcd2fa7,_0x52b0a7,_0x38702d){return _0xcd2fa7(_0x52b0a7,_0x38702d);},'BejrZ':'Maaf,\x20saya\x20sedang\x20gangguan.\x20Coba\x20lagi\x20nanti.','sezhN':function(_0x1581e1,_0x3c8ce9,_0x47d18c){return _0x1581e1(_0x3c8ce9,_0x47d18c);},'fZoMR':function(_0x26d36f,_0x1d5d03,_0x3a571b){return _0x26d36f(_0x1d5d03,_0x3a571b);},'NAsQR':_0x52871b(0x3a8)},_0x47d30b=(_0x3522d8||'')['trim']();if(!_0x47d30b)return;chatInput[_0x52871b(0x2e0)]='',chatInput['style'][_0x52871b(0x320)]=_0x2a17c8['MaYSt'],_0x2a17c8[_0x52871b(0x2aa)](appendMessage,_0x2a17c8[_0x52871b(0x38f)],_0x47d30b),_0x2a17c8[_0x52871b(0x2aa)](setVoiceStatus,_0x2a17c8[_0x52871b(0x2a1)],_0x2a17c8[_0x52871b(0x2b7)]),setInputState(!![]);const _0x336eb8=currentMode===_0x2a17c8[_0x52871b(0x31f)]?null:showTypingIndicator(_0x2a17c8[_0x52871b(0x389)]);try{const _0x988a65=new FormData(),_0x420630=_0x2a17c8[_0x52871b(0x22f)](buildChatPrompt,_0x47d30b);_0x988a65[_0x52871b(0x20b)](_0x52871b(0x1fd),_0x420630);const _0x52eaba=await fetch(_0x2a17c8['NcTIm'],{'method':_0x2a17c8[_0x52871b(0x25a)],'cache':_0x2a17c8[_0x52871b(0x309)],'body':_0x988a65}),_0x4fd04e=await _0x52eaba['json']();if(_0x4fd04e['success']||_0x4fd04e['response']){const _0x26e216=_0x4fd04e[_0x52871b(0x2e4)]||_0x4fd04e[_0x52871b(0x343)]?.[-0x1*-0x2511+-0xb2*0x31+-0x1*0x2ff]?.['content']?.[_0x52871b(0x380)]?.[-0x1*-0xf07+0x4d6*-0x7+0x12d3]?.[_0x52871b(0x3c2)],_0x27ef83=_0x2a17c8[_0x52871b(0x210)](typeof _0x26e216,_0x2a17c8[_0x52871b(0x345)])?_0x26e216[_0x52871b(0x358)]():'';if(_0x336eb8)await _0x2a17c8[_0x52871b(0x383)](showAnsweredStatus,_0x336eb8);setVoiceStatus(_0x52871b(0x313),'SuFi\x20sudah\x20mendapatkan\x20jawaban...'),_0x2a17c8['dftrD'](appendMessage,_0x2a17c8[_0x52871b(0x29e)],_0x2a17c8[_0x52871b(0x30a)](_0x27ef83,'')),_0x27ef83&&await _0x2a17c8[_0x52871b(0x37b)](requestTtsAudio,_0x27ef83);}else{if(_0x336eb8)removeTypingIndicator(_0x336eb8);_0x2a17c8[_0x52871b(0x2aa)](setVoiceStatus,_0x2a17c8['oVyYz'],_0x2a17c8[_0x52871b(0x3c4)]),_0x2a17c8['vOCQl'](appendMessage,_0x2a17c8[_0x52871b(0x29e)],_0x2a17c8['BejrZ']);}}catch(_0x69e851){if(_0x336eb8)_0x2a17c8['mUGBm'](removeTypingIndicator,_0x336eb8);_0x2a17c8[_0x52871b(0x228)](setVoiceStatus,_0x2a17c8[_0x52871b(0x35a)],_0x2a17c8[_0x52871b(0x3c4)]),_0x2a17c8[_0x52871b(0x26b)](appendMessage,_0x2a17c8['BNElM'],_0x2a17c8[_0x52871b(0x33b)]);}finally{_0x2a17c8[_0x52871b(0x22f)](setInputState,![]);}}async function sendChatMessage(){const _0x4809b6=_0x99517c,_0x3894d={'gARlS':_0x4809b6(0x38a),'CUBnu':_0x4809b6(0x386),'QYGEd':function(_0x27cc8a,_0x1785f8){return _0x27cc8a/_0x1785f8;},'ONFhV':function(_0x39411c,_0x577313){return _0x39411c/_0x577313;},'fbMCC':function(_0x41f412,_0x4d81ad){return _0x41f412-_0x4d81ad;},'Qsoqn':_0x4809b6(0x37f),'hNwQI':function(_0x2b5f4c,_0x1d54be){return _0x2b5f4c(_0x1d54be);},'iIVEl':function(_0x38a915){return _0x38a915();},'xFlxI':function(_0x26c3a6,_0x29d2fe){return _0x26c3a6!==_0x29d2fe;},'wTkwI':function(_0x9643b4,_0x5a17ad,_0x13c19e){return _0x9643b4(_0x5a17ad,_0x13c19e);},'NSQHh':_0x4809b6(0x2ca),'FyiJz':function(_0x32974b,_0x3b9df1){return _0x32974b===_0x3b9df1;},'TQcwJ':_0x4809b6(0x2a2),'NYAfT':'Mengoptimalkan\x20prompt...','zNfAf':_0x4809b6(0x1fd),'MpfQX':_0x4809b6(0x223),'okJtM':_0x4809b6(0x2d8),'oxpZX':_0x4809b6(0x282),'FtcTG':_0x4809b6(0x1f9),'xIvXp':_0x4809b6(0x28d),'cZTcP':_0x4809b6(0x29c),'EAfJE':_0x4809b6(0x241),'HmHZW':_0x4809b6(0x212),'nFZTn':_0x4809b6(0x260),'QPtXC':function(_0x301fe0,_0x237591){return _0x301fe0||_0x237591;},'Uqnqh':_0x4809b6(0x330),'lkzrJ':_0x4809b6(0x339),'WmZRZ':function(_0x5eab95,_0x1fbae1,_0x32ca8e){return _0x5eab95(_0x1fbae1,_0x32ca8e);},'yDbNH':_0x4809b6(0x2c3),'sIkMQ':function(_0x1a8e87,_0x157bb1,_0x121965){return _0x1a8e87(_0x157bb1,_0x121965);},'odtZI':function(_0x40fd7e,_0xeadad7,_0x427bf6,_0x4f1911){return _0x40fd7e(_0xeadad7,_0x427bf6,_0x4f1911);},'DFaQJ':'Gagal\x20memproses\x20gambar.\x20Silakan\x20coba\x20lagi.','jPECF':function(_0x436128,_0x316e24){return _0x436128===_0x316e24;},'wYWgF':function(_0x1e24d2,_0x281dd9,_0x49ca19){return _0x1e24d2(_0x281dd9,_0x49ca19);},'jarHp':function(_0x32d372,_0x125008,_0x162318){return _0x32d372(_0x125008,_0x162318);},'jOJXg':_0x4809b6(0x35d),'zmShb':function(_0x23327b,_0x30221a){return _0x23327b(_0x30221a);},'BLCog':_0x4809b6(0x3a8)},_0x4a6422=chatInput[_0x4809b6(0x2e0)][_0x4809b6(0x358)]();if(!_0x4a6422&&!currentChatImage)return;chatInput[_0x4809b6(0x2e0)]='',chatInput[_0x4809b6(0x20d)][_0x4809b6(0x320)]=_0x3894d['gARlS'];let _0x53787d=null,_0x1e0d54=_0x3894d['CUBnu'];if(currentChatImage){_0x53787d=chatImagePreview['src'];if(chatImagePreview[_0x4809b6(0x278)]&&chatImagePreview[_0x4809b6(0x322)]){const _0xbd8dd8=chatImagePreview['naturalWidth'],_0x2385a9=chatImagePreview['naturalHeight'],_0x376abf=_0x3894d[_0x4809b6(0x297)](_0xbd8dd8,_0x2385a9),_0x371063={'1:1':0x1,'16:9':(0x1b89+0x8fd*0x2+-0x2d73*0x1)/(0x759*0x2+-0x3*-0x9f7+-0x2c8e*0x1),'9:16':_0x3894d[_0x4809b6(0x37a)](-0x140a+-0x5*-0x2f6+0x545,0x988+-0x661*0x2+-0x1*-0x34a),'4:3':(0x5c*-0x3e+-0xa01*-0x1+0xc4b)/(-0xc54+-0x17*0x3+0xc9c*0x1),'3:4':(0x4f5+-0xb5*-0x2f+0x1d*-0x151)/(0x8f*0x7+-0x5*-0x6b9+-0x2582),'21:9':_0x3894d[_0x4809b6(0x37a)](-0x141e+-0xfbb*-0x2+-0x1*0xb43,-0x50a+-0x1*0x957+-0x1*-0xe6a),'9:21':(0x2ce*0x3+0x1bfc+-0x245d)/(-0x1f81+-0x1*0xed5+0x2e6b)};let _0xbe2163=Infinity;for(const [_0x147509,_0x5cdbb2]of Object[_0x4809b6(0x203)](_0x371063)){const _0x1222f5=Math[_0x4809b6(0x37d)](_0x3894d[_0x4809b6(0x26f)](_0x376abf,_0x5cdbb2));_0x1222f5<_0xbe2163&&(_0xbe2163=_0x1222f5,_0x1e0d54=_0x147509);}console[_0x4809b6(0x2d2)]('Detected\x20image\x20ratio:\x20'+_0xbd8dd8+'x'+_0x2385a9+'\x20('+_0x376abf[_0x4809b6(0x229)](0xfca+0xc32+-0x1bfa)+_0x4809b6(0x327)+_0x1e0d54);}}appendMessage(_0x3894d[_0x4809b6(0x3a7)],_0x4a6422,_0x53787d);const _0x4975b4=currentChatImage;clearChatImage(),_0x3894d['hNwQI'](setInputState,!![]);const _0x32a3b6=_0x3894d[_0x4809b6(0x26e)](showTypingIndicator);_0x3894d[_0x4809b6(0x250)](currentMode,'image')&&_0x3894d[_0x4809b6(0x367)](updateTypingIndicator,_0x32a3b6,_0x3894d[_0x4809b6(0x32f)]);try{if(_0x3894d[_0x4809b6(0x3ad)](currentMode,_0x3894d[_0x4809b6(0x226)])){if(!_0x4975b4){updateTypingIndicator(_0x32a3b6,_0x3894d[_0x4809b6(0x31d)]);const _0x4bf664=new FormData();_0x4bf664[_0x4809b6(0x20b)](_0x3894d['zNfAf'],buildRefinePrompt(_0x3894d['MpfQX'],_0x4a6422));const _0x128309=await fetch(_0x3894d[_0x4809b6(0x382)],{'method':_0x3894d[_0x4809b6(0x396)],'cache':_0x3894d['FtcTG'],'body':_0x4bf664}),_0x165a8c=await _0x128309[_0x4809b6(0x2bc)](),_0x1527ea=_0x165a8c[_0x4809b6(0x2e4)]||_0x4a6422;removeTypingIndicator(_0x32a3b6),appendMessage(_0x3894d[_0x4809b6(0x319)],'**Prompt\x20Teroptimasi:**\x0a'+_0x1527ea);const _0x48e50c=_0x3894d['hNwQI'](showTypingIndicator,_0x3894d[_0x4809b6(0x3b5)]),_0x3a31c8=new FormData();_0x3a31c8[_0x4809b6(0x20b)]('instruction',_0x1527ea),_0x3a31c8[_0x4809b6(0x20b)](_0x3894d[_0x4809b6(0x2d3)],_0x3894d[_0x4809b6(0x295)]);const _0x2dccac=await _0x3894d[_0x4809b6(0x367)](fetch,_0x3894d[_0x4809b6(0x2db)],{'method':_0x3894d[_0x4809b6(0x396)],'cache':_0x4809b6(0x1f9),'body':_0x3a31c8}),_0x446616=await _0x2dccac[_0x4809b6(0x2bc)]();removeTypingIndicator(_0x48e50c);if(_0x446616[_0x4809b6(0x388)]&&_0x446616[_0x4809b6(0x1f7)]){appendMessage(_0x3894d[_0x4809b6(0x319)],_0x4809b6(0x32d),_0x446616[_0x4809b6(0x1f7)]);if(window[_0x4809b6(0x204)])window[_0x4809b6(0x204)]();}else{appendMessage(_0x3894d[_0x4809b6(0x319)],_0x4809b6(0x1f3));if(window[_0x4809b6(0x2f7)])window[_0x4809b6(0x2f7)]();}}else{_0x3894d[_0x4809b6(0x367)](updateTypingIndicator,_0x32a3b6,_0x3894d['nFZTn']);const _0x572d9c=_0x3894d['QPtXC'](_0x4a6422,_0x3894d[_0x4809b6(0x237)]),_0x37d3a8=new FormData();_0x37d3a8[_0x4809b6(0x20b)](_0x3894d[_0x4809b6(0x271)],_0x3894d[_0x4809b6(0x367)](buildRefinePrompt,_0x4809b6(0x344),_0x572d9c)),_0x37d3a8[_0x4809b6(0x20b)](_0x3894d[_0x4809b6(0x3a5)],_0x4975b4);const _0x26e832=await _0x3894d[_0x4809b6(0x303)](fetch,_0x3894d[_0x4809b6(0x382)],{'method':_0x3894d[_0x4809b6(0x396)],'cache':_0x4809b6(0x1f9),'body':_0x37d3a8}),_0xcfb072=await _0x26e832[_0x4809b6(0x2bc)](),_0x4b9f6a=_0xcfb072['response']||_0x572d9c;removeTypingIndicator(_0x32a3b6),_0x3894d['WmZRZ'](appendMessage,_0x3894d['xIvXp'],_0x4809b6(0x38e)+_0x4b9f6a);const _0xdcc1d=showTypingIndicator(_0x3894d['yDbNH']),_0x4c8435=new FormData();_0x4c8435['append'](_0x4809b6(0x273),_0x4b9f6a),_0x4c8435['append']('images[]',_0x4975b4),_0x4c8435[_0x4809b6(0x20b)](_0x3894d[_0x4809b6(0x2d3)],_0x1e0d54);const _0x361306=await _0x3894d['sIkMQ'](fetch,_0x3894d[_0x4809b6(0x2db)],{'method':_0x3894d[_0x4809b6(0x396)],'cache':_0x3894d['FtcTG'],'body':_0x4c8435}),_0xcb9711=await _0x361306[_0x4809b6(0x2bc)]();_0x3894d[_0x4809b6(0x2de)](removeTypingIndicator,_0xdcc1d);if(_0xcb9711[_0x4809b6(0x388)]&&_0xcb9711[_0x4809b6(0x1f7)]){_0x3894d[_0x4809b6(0x262)](appendMessage,_0x4809b6(0x28d),_0x4809b6(0x29a),_0xcb9711[_0x4809b6(0x1f7)]);if(window[_0x4809b6(0x204)])window['playSuccessSound']();}else{appendMessage(_0x4809b6(0x28d),_0x3894d['DFaQJ']);if(window['playErrorSound'])window[_0x4809b6(0x2f7)]();}}}else{const _0x2d6376=new FormData(),_0x2ef154=_0x3894d[_0x4809b6(0x2de)](buildChatPrompt,_0x4a6422);_0x2d6376[_0x4809b6(0x20b)](_0x3894d['zNfAf'],_0x2ef154);_0x4975b4&&_0x2d6376['append'](_0x3894d[_0x4809b6(0x3a5)],_0x4975b4);const _0x2268ec=await fetch(_0x4809b6(0x2d8),{'method':'POST','cache':_0x4809b6(0x1f9),'body':_0x2d6376}),_0x55a585=await _0x2268ec['json']();if(_0x55a585[_0x4809b6(0x388)]||_0x55a585[_0x4809b6(0x2e4)]){const _0x7587d9=_0x55a585[_0x4809b6(0x2e4)]||_0x55a585[_0x4809b6(0x343)]?.[-0x204a+0x1*-0x208c+-0x56*-0xc1]?.[_0x4809b6(0x2c6)]?.[_0x4809b6(0x380)]?.[-0x23*-0x79+0x2*-0x11ab+0x1*0x12cb]?.[_0x4809b6(0x3c2)],_0x33ca5f=_0x3894d[_0x4809b6(0x28f)](typeof _0x7587d9,_0x4809b6(0x20c))?_0x7587d9[_0x4809b6(0x358)]():'';await showAnsweredStatus(_0x32a3b6),_0x3894d[_0x4809b6(0x2d9)](appendMessage,_0x3894d[_0x4809b6(0x319)],_0x3894d[_0x4809b6(0x32a)](_0x33ca5f,'')),_0x3894d[_0x4809b6(0x3ad)](currentMode,_0x4809b6(0x2c0))&&_0x33ca5f&&(_0x3894d['jarHp'](setVoiceStatus,_0x4809b6(0x313),_0x3894d[_0x4809b6(0x375)]),await _0x3894d['hNwQI'](requestTtsAudio,_0x33ca5f));}else removeTypingIndicator(_0x32a3b6),appendMessage(_0x4809b6(0x28d),_0x4809b6(0x3c1));}}catch(_0x467899){console[_0x4809b6(0x267)](_0x467899),_0x3894d[_0x4809b6(0x3aa)](removeTypingIndicator,_0x32a3b6),_0x3894d[_0x4809b6(0x303)](appendMessage,_0x4809b6(0x28d),_0x3894d[_0x4809b6(0x3b6)]);}finally{_0x3894d[_0x4809b6(0x3aa)](setInputState,![]);}}function _0x2e11(){const _0x5080e2=['SpeechRecognition','oVyYz','User\x20menyalakan\x20mikrofon...','YsItE','SuFi\x20sudah\x20mendapatkan\x20jawaban...','LvxWy','kisVT','application/json','innerHTML','3809449DvEXhG','switch-mode-btn','pause','gQpiR','mode-image-theme','wTkwI','fLvuk','ONOui','SlZbb','HWjJL','arrayBuffer','focus','mode-chat-theme','Hyhbr','IFZAD','closeAssistantModal','map','CSPTo','&quot;','jOJXg','WAVE','fas\x20fa-volume-up','thinking','jwoWr','ONFhV','cUccx','XdtBU','abs','OeMHG','user','parts','split','okJtM','ngSVu','cNiXH','LoWbj','1:1','\x27)\x22\x20style=\x22cursor:pointer;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22','success','LlnHX','auto','kxtsx','base64','BvyDX','**Instruksi\x20Teroptimasi:**\x0a','jsvze','onstart','openAssistantModal','fvwdR','div','TnHGX','OEbbX','oxpZX','OSIFb','Fenrir','getElementById','AnecO','idle','wnuhC','start','qNcHD','</div>','xXpTK','Qquys','jJgTZ','User:\x20','fas\x20fa-check-circle','lkzrJ','object','Qsoqn','Terjadi\x20kesalahan\x20koneksi.','fas\x20fa-stop','zmShb','Mic\x20bermasalah.\x20Coba\x20izinkan\x20akses\x20mikrofon.','GpRyb','FyiJz','Hhxgd','LBWCe','5205720yapEYp','19193280NyxbIT','XBQli','0.5','<div\x20class=\x22message-content\x22>','cZTcP','BLCog','DNRUy','audioContent','Enter','puoPY','jDrwM','ooJnK','354454IyiivO','onerror','fmt\x20','KIzPu','Maaf,\x20saya\x20sedang\x20gangguan.\x20Coba\x20lagi\x20nanti.','text','mode-voice-theme','xUxon','parse','UBeyl','voice-orb','Maaf,\x20saya\x20gagal\x20membuat\x20gambar.\x20Pastikan\x20instruksi\x20jelas\x20atau\x20coba\x20upload\x20gambar\x20referensi.','chat-messages-chat','qPtrV','mRZyc','imageUrl','speaking','no-store','ySBqh','9|12|8|4|6|0|2|11|1|5|3|10|7','JCTrG','prompt','dGrNc','inYtO','keydown','audioUrl','Context\x20percakapan:\x0a','entries','playSuccessSound','XROMo','sbARC','knadL','join','click','selectMode','append','string','style','<br>','starting','gGReK','revokeObjectURL','server/generate.php','charCodeAt','chat-messages-container','fas\x20fa-brain','stringify','276gBhOTc','match','jblTS','https://','EGiga','is-','lfJMf','bDKiI','KyZOp','YvwXS','Tekan\x20mic\x20lalu\x20bicara...','FtKhx','Refine\x20this\x20user\x20request\x20into\x20a\x20high\x20quality\x20image\x20generation\x20prompt\x20(English).\x20User\x20request:\x20\x22{text}\x22.\x20Output\x20ONLY\x20the\x20prompt.','replace','2tDilOm','TQcwJ','HmQPq','sezhN','toFixed','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22position:\x20relative;\x20display:\x20inline-block;\x20margin-top:\x208px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22','OxqkE','ylUKD','change','mimeType','mUGBm','EkmBB','yPjFx','JvAQq','\x22\x20style=\x22position:\x20absolute;\x20bottom:\x208px;\x20right:\x208px;\x20width:\x2032px;\x20height:\x2032px;\x20border-radius:\x20999px;\x20background:\x20rgba(0,0,0,0.6);\x20color:\x20white;\x20display:\x20inline-flex;\x20align-items:\x20center;\x20justify-content:\x20center;\x20text-decoration:\x20none;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-download\x22\x20style=\x22font-size:\x200.85rem;\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','0|3|5|1|2|4','QYxKa','rsarq','Uqnqh','chat-image-preview','AgQkY','ffmXG','textContent','aSLEX','webkitSpeechRecognition','NUqKA','GMlNM','cfgCO','aspectRatio','data','voice-mic-btn','unknown','uEdQu','eKxIg','6651yEVjvO','LTKNY','RsVOn','Pdgmg','Browser\x20tidak\x20mendukung\x20fitur\x20mic.\x20Coba\x20gunakan\x20Chrome.','getItem','chat-container','RIFF','AYEVq','xFlxI','setUint16','push','FdMZu','fas\x20fa-circle-notch','XncmN','XSzCw','vIQPl','yKqXX','<code>$1</code>','EqUSJ','https://cdn.jsdelivr.net/gh/karyawaktuluang/magic.fitri@main/assets/chat.mp3','Osoqn','Anda\x20adalah\x20Sufi,\x20asisten\x20AI\x20yang\x20cerdas\x20dan\x20ramah\x20yang\x20dibuat\x20oleh\x20IchsanLabs.\x20Gunakan\x20Bahasa\x20Indonesia\x20yang\x20sopan.\x20Batasi\x20jawaban\x20maksimal\x2050\x20kata.\x20Tidak\x20perlu\x20menjelaskan\x20itu\x20semua\x20kecuali\x20ditanya\x0a\x0a','MVVna','GTVuG','Mengoptimalkan\x20instruksi...','ecosf','odtZI','ygnOD','includes','8907696tBKmHo','eJYhh','error','User','input-area','content-type','fZoMR','PyHOp','kGaeg','iIVEl','fbMCC','dWMnf','zNfAf','HaioA','instruction','scrollTop','<br>\x20$1','is-thinking','key','naturalWidth','hidden','mPZLA','MaAeJ','kkhAp','<strong>$1</strong>','0|8|11|1|2|10|4|6|5|7|3|12|9','assistant-modal','udTGd','fas\x20fa-microphone','POST','aGRtU','slice','czjeH','<br><img\x20src=\x22','qjylS','opacity','lang','.message-content','sKotC','voice-status-icon','bot','voice-status','jPECF','is-speaking','LXISJ','CTdRD','UhTBJ','is-idle','CUBnu','enzch','QYGEd','cQhjL','audio','Selesai!\x20Ini\x20hasilnya:','createObjectURL','Sedang\x20membuat\x20gambar...','KPZnc','BNElM','interimResults','GyxaZ','hHJHo','image','placeholder','className','src','HJRoe','preventDefault','currentTime','sVsEa','dftrD','<pre><code>$1</code></pre>','KbbGx','Tekan\x20mic\x20untuk\x20mulai','Svimi','nxFBe','elKjc','fpXPr','audio/mpeg','AEjyX','POROt','WeQYH','BrnVx','jXSPp','lRgMz','WmqLa','\x22\x20class=\x22chat-image-attachment\x22\x20onclick=\x22window.openImagePreview(\x27','setUint32','json','ImmiQ','sulapfitri_sufi_history','results','voice','now','yIkmY','Sedang\x20memproses\x20gambar...','FHIZq','KVpuI','content','uUPnO','hHkVk','TMsjX','SuFi\x20sedang\x20berfikir...','NsgVl','</span><div\x20class=\x22typing-indicator\x22\x20style=\x22display:inline-flex;\x20margin:0;\x22><span></span><span></span><span></span></div></div>','OCkFO','continuous','<div\x20class=\x22typing-indicator\x22><span></span><span></span><span></span></div>','SuFi\x20sedang\x20menyalakan\x20mikrofon...','shiftKey','log','EAfJE','QTphQ','ijwuQ','is-answered','.png','server/chat.php','wYWgF','ohpWa','HmHZW','querySelector','\x27)\x22\x20style=\x22cursor:pointer;\x22>','hNwQI','Mode\x20Kreatif\x20Aktif!\x20Silakan\x20tulis\x20deskripsi\x20gambar\x20yang\x20ingin\x20dibuat\x20atau\x20upload\x20foto\x20untuk\x20diedit.','value','server/tts.php','Lbbcq','voice-ui','response','yhnLk','ytvEP','catch','wTOPN','SuFi\x20menyalakan\x20mikrofon...','VVdVm','uAhOq','sampleRate','SuFi\x20sedang\x20berbicara...','fglzC','giXmm','disabled','XPmuJ','Ketik\x20pesan...','kIoOo','createElement','Assistant','jeMHL','playErrorSound','scrollHeight','msGPJ','Gjhnm','switchMode','VKsGB','is-starting','setUint8','Maaf,\x20suara\x20belum\x20tersedia.','stop','data:','startsWith','WmZRZ','fEWWC','setItem','oSCMF','FQyfo','NIfgJ','zVByS','pqPzM','onresult','get','YiJIx','remove','input','role','qKYaG','voice-status-icon\x20','answered','chat-messages-image','length','{text}','mPuHZ','parentElement','xIvXp','5ERWYkt','tKHdK','add','NYAfT','nyFVF','phYMG','height','1651908QuCIwn','naturalHeight','chat-image-btn','fYXSi','<div\x20style=\x22display:flex;\x20align-items:center;\x20gap:8px;\x22><span>','DuPbz',')\x20->\x20Closest:\x20','onend','chat','QPtXC','XrdPd','onload','Berikut\x20hasil\x20gambarnya:','readOnly','NSQHh','Enhance\x20this\x20image','classList','YUgXQ','WECQD','BbsYr','ClcvO','test','FgcUK','PjXpG','images[]','LZbcA','NAsQR','UUwOM','yfjFs','id-ID','assistant','xSzBa','isArray','Cjatt','candidates','Refine\x20this\x20user\x20request\x20into\x20a\x20precise\x20image\x20editing\x20instruction\x20(English).\x20User\x20request:\x20\x22{text}\x22.\x20The\x20user\x20has\x20also\x20provided\x20an\x20image\x20which\x20you\x20can\x20see.\x20Output\x20ONLY\x20the\x20instruction.','NtaZz','tQKYJ','showFeaturePage','mlqxu','play','typing-','appendChild','SuFi\x20menjawab...','ended','zhTzG','WxgxG','veayB','mode-selection','addEventListener','jUYyO','fjpmQ','MwviX','audio/','chat-send-btn','trim'];_0x2e11=function(){return _0x5080e2;};return _0x2e11();}