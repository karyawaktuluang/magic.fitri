const _0x36f41d=_0x22d1;(function(_0x41e2b8,_0x583937){const _0x521872=_0x22d1,_0x2495fa=_0x41e2b8();while(!![]){try{const _0x28c27b=parseInt(_0x521872(0x1f5))/(0x697+0x1*-0x564+-0x132)+parseInt(_0x521872(0x271))/(0x17*0x119+-0x8d8+-0x577*0x3)*(parseInt(_0x521872(0x2b3))/(-0x1265+0x1*0x167+-0x1101*-0x1))+-parseInt(_0x521872(0x298))/(-0xec8+0xb6f+0x35d)*(-parseInt(_0x521872(0x24b))/(-0x3*0xcfe+0x6a9+-0x1*-0x2056))+parseInt(_0x521872(0x285))/(-0x15f*-0x4+0x83*-0x3e+-0x1a44*-0x1)*(parseInt(_0x521872(0x235))/(-0x1*-0x2173+-0x239e+-0x1*-0x232))+parseInt(_0x521872(0x2be))/(-0x1*-0x51a+-0x950+0x2*0x21f)*(-parseInt(_0x521872(0x26f))/(0x1*0x412+0x1d*0x4a+0x11*-0xbb))+parseInt(_0x521872(0x26e))/(0x2*-0x5f3+-0x1f2c+0x2b1c)+-parseInt(_0x521872(0x2ab))/(-0x40+0x1dad+-0xeb1*0x2)*(parseInt(_0x521872(0x106))/(0x84c+0x1fb0+-0x27f0));if(_0x28c27b===_0x583937)break;else _0x2495fa['push'](_0x2495fa['shift']());}catch(_0x406684){_0x2495fa['push'](_0x2495fa['shift']());}}}(_0x5198,0x7ec*0xdd+-0x3*-0x5209f+-0x97ea8));var assistantModal=document['getElementById'](_0x36f41d(0x110)),chatContainer=document[_0x36f41d(0x19f)]('chat-container'),chatInput=document[_0x36f41d(0x19f)](_0x36f41d(0x148)),chatFileInput=document[_0x36f41d(0x19f)](_0x36f41d(0x2b9)),chatImagePreviewContainer=document[_0x36f41d(0x19f)]('chat-image-preview-container'),chatImagePreview=document['getElementById'](_0x36f41d(0x2c3)),chatSendBtn=document[_0x36f41d(0x19f)](_0x36f41d(0x16a)),chatImageBtn=document[_0x36f41d(0x19f)](_0x36f41d(0x220)),voiceMicBtn=document[_0x36f41d(0x19f)]('voice-mic-btn'),voiceUi=document[_0x36f41d(0x19f)]('voice-ui'),voiceOrb=document[_0x36f41d(0x19f)](_0x36f41d(0x1bd)),voiceStatus=document[_0x36f41d(0x19f)](_0x36f41d(0x23c)),voiceStatusText=document[_0x36f41d(0x19f)](_0x36f41d(0x102)),voiceStatusIcon=document[_0x36f41d(0x19f)]('voice-status-icon'),aiResponseAudio=new Audio(_0x36f41d(0x224)),currentChatImage=null,currentMode=null,voiceRecognizer=null,isVoiceListening=![],isVoiceStarting=![],ttsAudio=null,CHAT_HISTORY_KEY=_0x36f41d(0x172),CHAT_HISTORY_LIMIT=0x1ab1+-0x12cf+-0x1*0x7ca;function loadChatHistory(){const _0x131cb4=_0x36f41d,_0x29c040={'NQJdd':function(_0x2af9be,_0x419bdb){return _0x2af9be===_0x419bdb;},'VcKKi':_0x131cb4(0x1fe),'JuoMU':_0x131cb4(0x116),'QPQSR':function(_0x9cb41b,_0x59b808){return _0x9cb41b!==_0x59b808;},'HHioB':_0x131cb4(0x1e9)};try{const _0x2be414=_0x29c040[_0x131cb4(0x186)][_0x131cb4(0x2bf)]('|');let _0x1d2154=-0x3*0x51d+0x64c+0x90b;while(!![]){switch(_0x2be414[_0x1d2154++]){case'0':if(!Array[_0x131cb4(0x1d7)](_0x44c1cb))return[];continue;case'1':if(!_0x4a14b3)return[];continue;case'2':return _0x44c1cb[_0x131cb4(0x17d)](function(_0x255f26){const _0x3a93e6=_0x131cb4;return _0x255f26&&_0x29c040[_0x3a93e6(0x28c)](typeof _0x255f26,_0x29c040[_0x3a93e6(0x1fb)])&&_0x29c040[_0x3a93e6(0x28c)](typeof _0x255f26['text'],_0x29c040[_0x3a93e6(0x11c)])&&_0x29c040[_0x3a93e6(0x2bb)](_0x255f26['text']['trim'](),'');});case'3':var _0x4a14b3=localStorage[_0x131cb4(0xff)](CHAT_HISTORY_KEY);continue;case'4':var _0x44c1cb=JSON[_0x131cb4(0x20c)](_0x4a14b3);continue;}break;}}catch(_0x4b8eb4){return[];}}function saveChatHistory(_0x296c8a){const _0x2ec05d=_0x36f41d;try{localStorage[_0x2ec05d(0x10b)](CHAT_HISTORY_KEY,JSON[_0x2ec05d(0x114)](_0x296c8a));}catch(_0x24dbb3){}}function addChatHistory(_0x4bfcf3,_0x57070f){const _0x3a7538=_0x36f41d,_0x25c112={'aOtfu':_0x3a7538(0x12a),'vTmPV':function(_0x599781,_0x4f6b73){return _0x599781>_0x4f6b73;},'wnmwr':function(_0x5dbec3,_0x317afc){return _0x5dbec3-_0x317afc;},'OEXNY':_0x3a7538(0x14e),'ozLed':'assistant','cwmAs':_0x3a7538(0x1d3),'Uvvas':function(_0x36d0d9,_0x24161f){return _0x36d0d9||_0x24161f;}},_0x4d17f0=_0x25c112['aOtfu']['split']('|');let _0x3cea7a=-0x1736*-0x1+-0x1*0xa80+-0xcb6;while(!![]){switch(_0x4d17f0[_0x3cea7a++]){case'0':_0x25c112[_0x3a7538(0x270)](_0x572198['length'],CHAT_HISTORY_LIMIT)&&(_0x572198=_0x572198[_0x3a7538(0x17e)](_0x25c112[_0x3a7538(0x1a5)](_0x572198['length'],CHAT_HISTORY_LIMIT)));continue;case'1':_0x572198[_0x3a7538(0xfe)]({'role':_0x4bfcf3===_0x3a7538(0x14e)?_0x25c112[_0x3a7538(0x184)]:_0x25c112[_0x3a7538(0x157)],'text':_0x249a4b,'mode':currentMode||_0x25c112['cwmAs'],'ts':Date[_0x3a7538(0x16e)]()});continue;case'2':if(!_0x249a4b)return;continue;case'3':saveChatHistory(_0x572198);continue;case'4':var _0x249a4b=_0x25c112[_0x3a7538(0x124)](_0x57070f,'')[_0x3a7538(0x112)]();continue;case'5':var _0x572198=loadChatHistory();continue;}break;}}function buildContextLines(_0x5d0d8f){const _0x42d295=_0x36f41d,_0x43affd={'KbuCM':function(_0x5d4eba,_0x163306){return _0x5d4eba===_0x163306;},'COGoj':_0x42d295(0x14e),'XKZZj':_0x42d295(0x164),'DzZyS':_0x42d295(0x217),'NWJGA':function(_0x1c3480,_0x34e586){return _0x1c3480+_0x34e586;},'UzsuG':function(_0x9b9b61,_0x574fa3){return _0x9b9b61-_0x574fa3;}};var _0x3fb9c4=loadChatHistory();if(_0x3fb9c4[_0x42d295(0x1e3)]&&_0x5d0d8f){var _0x2788bc=_0x3fb9c4[_0x43affd['UzsuG'](_0x3fb9c4[_0x42d295(0x1e3)],-0x33a+-0x2*-0x1065+0x7*-0x439)];_0x2788bc&&_0x2788bc['role']===_0x43affd[_0x42d295(0x195)]&&_0x43affd['KbuCM'](_0x2788bc['text'],_0x5d0d8f)&&(_0x3fb9c4=_0x3fb9c4[_0x42d295(0x17e)](0xcda+0xd3b*0x1+-0x1*0x1a15,-(-0x1a*0x12d+-0x1928+0x37bb)));}return _0x3fb9c4[_0x42d295(0x11f)](function(_0x409d87){const _0x500bb6=_0x42d295;var _0xb2eb60=_0x43affd['KbuCM'](_0x409d87[_0x500bb6(0x158)],_0x43affd['COGoj'])?_0x43affd[_0x500bb6(0x16b)]:_0x43affd['DzZyS'];return _0x43affd[_0x500bb6(0x2c2)](_0xb2eb60,':\x20')+_0x409d87[_0x500bb6(0x2b6)];});}function buildChatPrompt(_0x31220f){const _0x4e7132=_0x36f41d,_0x36fb17={'AvgUz':function(_0x29a1cc,_0x4158e0){return _0x29a1cc+_0x4158e0;},'skQop':function(_0x2bd55b,_0x3a1fe4){return _0x2bd55b+_0x3a1fe4;},'mkcCn':_0x4e7132(0x111),'CSYnK':function(_0x9f0d31,_0x453c07){return _0x9f0d31+_0x453c07;},'uhKjS':function(_0x6f25d5,_0x1f9532){return _0x6f25d5+_0x1f9532;},'CFwgl':_0x4e7132(0x256)};var _0x1fb08d=buildContextLines(_0x31220f),_0x9011c6=_0x1fb08d['length']?_0x36fb17[_0x4e7132(0x153)](_0x36fb17[_0x4e7132(0x283)](_0x4e7132(0x295),_0x1fb08d['join']('\x0a')),'\x0a\x0a'):'',_0x5d9e4b=_0x36fb17[_0x4e7132(0x22d)];return _0x36fb17[_0x4e7132(0xf5)](_0x36fb17[_0x4e7132(0x23f)](_0x5d9e4b,_0x9011c6)+_0x36fb17[_0x4e7132(0x215)],_0x31220f);}function buildRefinePrompt(_0x3ac7b5,_0x5831a9){const _0x485ad6=_0x36f41d,_0x181055={'WOXiP':function(_0x18a418,_0xef85fd){return _0x18a418(_0xef85fd);},'sVsBb':function(_0x515ca8,_0x2595b5){return _0x515ca8+_0x2595b5;},'qBpUM':'Context\x20percakapan:\x0a'};var _0x2a4fb6=_0x181055[_0x485ad6(0x115)](buildContextLines,_0x5831a9),_0x57ee14=_0x2a4fb6[_0x485ad6(0x1e3)]?_0x181055['sVsBb'](_0x181055['qBpUM'],_0x2a4fb6[_0x485ad6(0x169)]('\x0a'))+'\x0a\x0a':'';return _0x181055[_0x485ad6(0x2bd)](_0x57ee14,_0x3ac7b5[_0x485ad6(0xfc)](_0x485ad6(0x107),_0x5831a9));}function selectMode(_0x2e69b3){const _0x25a702=_0x36f41d,_0x3abab5={'tXsVa':_0x25a702(0x12f),'HKPlw':_0x25a702(0x1e6),'tFZQj':_0x25a702(0x137),'EamWM':_0x25a702(0x1df),'ykquT':_0x25a702(0x14d),'bClEv':_0x25a702(0x101),'rwefT':function(_0x4e3223,_0x5b8827){return _0x4e3223===_0x5b8827;},'kDZam':_0x25a702(0x1b2),'sBHnI':_0x25a702(0x267),'HnsdD':_0x25a702(0x14f),'dyiQH':_0x25a702(0x180),'IpOae':'mode-chat-theme','uUAYn':_0x25a702(0x24a),'quAVN':_0x25a702(0x1b5),'QAsEe':'Tekan\x20mic\x20lalu\x20bicara...','LnLrG':function(_0x5ba473){return _0x5ba473();},'fWpgp':function(_0x1ee083,_0x157a09,_0x412aeb){return _0x1ee083(_0x157a09,_0x412aeb);},'FoALd':'idle','ifWgW':'Tekan\x20mic\x20untuk\x20mulai','MLwRn':'12|6|11|4|1|5|3|7|2|9|8|0|10','kMkkp':'Mode\x20Kreatif\x20Aktif!\x20Silakan\x20tulis\x20deskripsi\x20gambar\x20yang\x20ingin\x20dibuat\x20atau\x20upload\x20foto\x20untuk\x20diedit.','uaRVr':function(_0x7adb7f,_0x12e0cf){return _0x7adb7f(_0x12e0cf);},'lxPMo':function(_0x354a33,_0x21c032){return _0x354a33!==_0x21c032;}};currentMode=_0x2e69b3,document['getElementById'](_0x3abab5[_0x25a702(0x1c1)])['classList']['add'](_0x3abab5[_0x25a702(0x2c7)]),document[_0x25a702(0x19f)](_0x3abab5[_0x25a702(0x1cb)])['classList'][_0x25a702(0xf6)](_0x3abab5[_0x25a702(0x2c7)]),document['getElementById'](_0x3abab5['EamWM'])['classList'][_0x25a702(0xf6)](_0x25a702(0x1e6)),document['getElementById'](_0x25a702(0x108))[_0x25a702(0x1b8)][_0x25a702(0xf6)](_0x3abab5[_0x25a702(0x2c7)]);const _0x34a084=document[_0x25a702(0x19f)](_0x25a702(0x110));_0x34a084[_0x25a702(0x1b8)]['remove']('mode-chat-theme',_0x3abab5[_0x25a702(0x13d)],_0x25a702(0x1b5));const _0x4b6bb0=document[_0x25a702(0x19f)](_0x25a702(0x231)),_0x1d456a=document[_0x25a702(0x19f)](_0x3abab5[_0x25a702(0x119)]);if(_0x3abab5['rwefT'](_0x2e69b3,_0x3abab5[_0x25a702(0x2d1)])){const _0x2168fb=_0x3abab5['sBHnI'][_0x25a702(0x2bf)]('|');let _0x50295f=-0x2*-0x824+-0xc*-0x1a9+-0x2434;while(!![]){switch(_0x2168fb[_0x50295f++]){case'0':chatInput['readOnly']=![];continue;case'1':_0x3abab5[_0x25a702(0x290)](_0x4b6bb0[_0x25a702(0x12c)][_0x25a702(0x112)](),'')&&appendMessage(_0x3abab5[_0x25a702(0x192)],_0x25a702(0x2b7));continue;case'2':chatFileInput[_0x25a702(0x19a)]=![];continue;case'3':if(voiceUi)voiceUi[_0x25a702(0x1b8)]['add'](_0x3abab5['HKPlw']);continue;case'4':_0x1d456a[_0x25a702(0x1b8)][_0x25a702(0x207)](_0x3abab5[_0x25a702(0x2c7)]);continue;case'5':setVoiceSpeaking(![]);continue;case'6':chatSendBtn[_0x25a702(0x1b8)][_0x25a702(0xf6)](_0x3abab5[_0x25a702(0x2c7)]);continue;case'7':_0x4b6bb0[_0x25a702(0x1b8)][_0x25a702(0xf6)](_0x3abab5[_0x25a702(0x2c7)]);continue;case'8':document[_0x25a702(0x19f)](_0x25a702(0x137))[_0x25a702(0x1b8)][_0x25a702(0xf6)](_0x3abab5[_0x25a702(0x2c7)]);continue;case'9':chatInput[_0x25a702(0x171)]=_0x3abab5['dyiQH'];continue;case'10':chatImageBtn['classList'][_0x25a702(0xf6)](_0x3abab5[_0x25a702(0x2c7)]);continue;case'11':document[_0x25a702(0x19f)](_0x3abab5[_0x25a702(0x1a9)])[_0x25a702(0x1b8)][_0x25a702(0xf6)](_0x25a702(0x1e6));continue;case'12':_0x34a084[_0x25a702(0x1b8)]['add'](_0x3abab5[_0x25a702(0x2d9)]);continue;}break;}}else{if(_0x2e69b3===_0x3abab5[_0x25a702(0x288)]){_0x34a084[_0x25a702(0x1b8)][_0x25a702(0x207)](_0x3abab5[_0x25a702(0x10d)]),_0x4b6bb0[_0x25a702(0x1b8)][_0x25a702(0x207)](_0x25a702(0x1e6)),_0x1d456a[_0x25a702(0x1b8)][_0x25a702(0x207)](_0x3abab5['HKPlw']);if(voiceUi)voiceUi[_0x25a702(0x1b8)]['remove'](_0x3abab5[_0x25a702(0x2c7)]);document[_0x25a702(0x19f)](_0x3abab5[_0x25a702(0x1cb)])[_0x25a702(0x1b8)]['add'](_0x3abab5['HKPlw']),document[_0x25a702(0x19f)](_0x25a702(0x1df))['classList'][_0x25a702(0x207)](_0x3abab5['HKPlw']),chatInput[_0x25a702(0x1d8)]=!![],chatInput[_0x25a702(0x171)]=_0x3abab5[_0x25a702(0x1e7)],chatSendBtn[_0x25a702(0x1b8)]['add'](_0x3abab5[_0x25a702(0x2c7)]),chatImageBtn[_0x25a702(0x1b8)]['add'](_0x3abab5[_0x25a702(0x2c7)]),chatFileInput[_0x25a702(0x19a)]=!![],_0x3abab5[_0x25a702(0x1ad)](clearChatImage),_0x3abab5['fWpgp'](setVoiceStatus,_0x3abab5['FoALd'],_0x3abab5[_0x25a702(0x167)]),_0x3abab5['LnLrG'](setupVoiceRecognition);}else{const _0x166a79=_0x3abab5[_0x25a702(0x2a8)][_0x25a702(0x2bf)]('|');let _0x1a49a1=0x2cf*0xb+-0x193*0x4+-0x1899;while(!![]){switch(_0x166a79[_0x1a49a1++]){case'0':_0x1d456a['innerHTML'][_0x25a702(0x112)]()===''&&_0x3abab5[_0x25a702(0x2a1)](appendMessage,_0x3abab5[_0x25a702(0x192)],_0x3abab5[_0x25a702(0x247)]);continue;case'1':document[_0x25a702(0x19f)](_0x3abab5[_0x25a702(0x1cb)])[_0x25a702(0x1b8)][_0x25a702(0xf6)](_0x3abab5[_0x25a702(0x2c7)]);continue;case'2':chatSendBtn[_0x25a702(0x1b8)][_0x25a702(0xf6)](_0x25a702(0x1e6));continue;case'3':chatInput[_0x25a702(0x1d8)]=![];continue;case'4':if(voiceUi)voiceUi[_0x25a702(0x1b8)][_0x25a702(0x207)](_0x3abab5[_0x25a702(0x2c7)]);continue;case'5':document[_0x25a702(0x19f)](_0x3abab5[_0x25a702(0x1a9)])['classList'][_0x25a702(0xf6)](_0x3abab5[_0x25a702(0x2c7)]);continue;case'6':_0x1d456a['classList'][_0x25a702(0xf6)](_0x3abab5[_0x25a702(0x2c7)]);continue;case'7':chatInput[_0x25a702(0x171)]=_0x25a702(0x180);continue;case'8':chatFileInput[_0x25a702(0x19a)]=![];continue;case'9':chatImageBtn[_0x25a702(0x1b8)][_0x25a702(0xf6)](_0x3abab5[_0x25a702(0x2c7)]);continue;case'10':_0x3abab5[_0x25a702(0x10e)](setVoiceSpeaking,![]);continue;case'11':_0x4b6bb0[_0x25a702(0x1b8)]['add'](_0x3abab5[_0x25a702(0x2c7)]);continue;case'12':_0x34a084[_0x25a702(0x1b8)]['add'](_0x3abab5[_0x25a702(0x13d)]);continue;}break;}}}_0x3abab5[_0x25a702(0x2a6)](_0x2e69b3,_0x25a702(0x24a))&&chatInput['focus'](),chatContainer[_0x25a702(0x282)]=chatContainer[_0x25a702(0x1bc)];}function switchMode(){const _0x2d223a=_0x36f41d,_0x5e1cc3={'pCZNw':_0x2d223a(0x12f),'Ytqku':_0x2d223a(0x1e6),'pPpha':_0x2d223a(0x1df),'hbTtk':_0x2d223a(0x108),'LnqGo':_0x2d223a(0x110),'cqZzk':_0x2d223a(0x28b),'yQtLd':_0x2d223a(0x14d),'PREgB':_0x2d223a(0x1b5),'FiWSO':function(_0x3ca8b6){return _0x3ca8b6();},'sJizS':function(_0x5ef52e,_0x3e0f2e,_0x1d221c){return _0x5ef52e(_0x3e0f2e,_0x1d221c);}};currentMode=null,document['getElementById'](_0x5e1cc3[_0x2d223a(0x1d5)])[_0x2d223a(0x1b8)][_0x2d223a(0xf6)](_0x5e1cc3['Ytqku']),document[_0x2d223a(0x19f)](_0x2d223a(0x137))['classList']['add'](_0x5e1cc3[_0x2d223a(0x22f)]),document['getElementById'](_0x5e1cc3[_0x2d223a(0x2a5)])[_0x2d223a(0x1b8)][_0x2d223a(0x207)](_0x5e1cc3[_0x2d223a(0x22f)]),document[_0x2d223a(0x19f)](_0x5e1cc3[_0x2d223a(0x154)])[_0x2d223a(0x1b8)]['add'](_0x5e1cc3[_0x2d223a(0x22f)]);if(voiceUi)voiceUi[_0x2d223a(0x1b8)][_0x2d223a(0x207)](_0x5e1cc3[_0x2d223a(0x22f)]);const _0x1c4565=document[_0x2d223a(0x19f)](_0x5e1cc3[_0x2d223a(0x262)]);_0x1c4565[_0x2d223a(0x1b8)][_0x2d223a(0xf6)](_0x5e1cc3[_0x2d223a(0x28f)],_0x5e1cc3[_0x2d223a(0x11d)],_0x5e1cc3[_0x2d223a(0x163)]),_0x5e1cc3[_0x2d223a(0x24e)](stopVoiceRecognition),setVoiceSpeaking(![]),_0x5e1cc3[_0x2d223a(0x18e)](setVoiceStatus,_0x2d223a(0x1cd),_0x2d223a(0x269));}function openAssistantModal(){const _0x5e6350=_0x36f41d,_0xcb4604={'utjej':function(_0x4cebc7,_0x2758db){return _0x4cebc7!==_0x2758db;},'WLVsW':_0x5e6350(0x24a)};window[_0x5e6350(0x109)](_0x5e6350(0x110)),chatContainer[_0x5e6350(0x282)]=chatContainer['scrollHeight'],_0xcb4604[_0x5e6350(0x223)](currentMode,_0xcb4604['WLVsW'])&&chatInput[_0x5e6350(0x21e)]();}function closeAssistantModal(){const _0x172b4c=_0x36f41d,_0xc2649c={'smpXn':function(_0x5b848a){return _0x5b848a();},'JFXLT':function(_0x47ea5e,_0x181d7e){return _0x47ea5e(_0x181d7e);},'tDfMV':function(_0x4dabd7,_0xa46edd,_0x125ad8){return _0x4dabd7(_0xa46edd,_0x125ad8);},'HzMnw':_0x172b4c(0x1cd),'beulF':_0x172b4c(0x269),'uySuo':_0x172b4c(0x110)};_0xc2649c[_0x172b4c(0x227)](stopVoiceRecognition),_0xc2649c[_0x172b4c(0x21c)](setVoiceSpeaking,![]),_0xc2649c[_0x172b4c(0x28a)](setVoiceStatus,_0xc2649c[_0x172b4c(0x100)],_0xc2649c[_0x172b4c(0x1f8)]),window['closeFeaturePage'](_0xc2649c['uySuo']);}window[_0x36f41d(0x196)]=openAssistantModal,window['closeAssistantModal']=closeAssistantModal,window[_0x36f41d(0x12d)]=selectMode,window['switchMode']=switchMode,window[_0x36f41d(0x188)]=sendChatMessage,chatInput['addEventListener']('input',function(){const _0x4d44eb=_0x36f41d,_0x3a9ec5={'Qarxh':function(_0x428472,_0x440c0a){return _0x428472+_0x440c0a;},'kmoOA':function(_0x14e91a,_0x58c93a){return _0x14e91a===_0x58c93a;},'LuEnd':_0x4d44eb(0x29c)};this[_0x4d44eb(0x131)]['height']=_0x4d44eb(0x29c),this[_0x4d44eb(0x131)][_0x4d44eb(0x280)]=_0x3a9ec5[_0x4d44eb(0x255)](this[_0x4d44eb(0x1bc)],'px');if(_0x3a9ec5[_0x4d44eb(0x263)](this[_0x4d44eb(0x182)],''))this[_0x4d44eb(0x131)]['height']=_0x3a9ec5[_0x4d44eb(0x249)];}),chatInput[_0x36f41d(0x142)](_0x36f41d(0x251),function(_0x4c791){const _0x44f533=_0x36f41d,_0x4fcfeb={'bauoI':function(_0x4417f1,_0x3d4738){return _0x4417f1===_0x3d4738;},'obdor':'Enter','KxFLK':_0x44f533(0x24a),'QpAXz':function(_0x418434){return _0x418434();}};if(_0x4fcfeb['bauoI'](_0x4c791['key'],_0x4fcfeb[_0x44f533(0x13a)])&&!_0x4c791[_0x44f533(0x225)]){if(_0x4fcfeb[_0x44f533(0xfd)](currentMode,_0x4fcfeb[_0x44f533(0xf4)]))return;_0x4c791[_0x44f533(0x144)](),_0x4fcfeb[_0x44f533(0x1d2)](sendChatMessage);}}),chatFileInput[_0x36f41d(0x142)]('change',function(){const _0x4b4058=_0x36f41d,_0x26957f={'MQKdb':_0x4b4058(0x1e6)},_0x50a951=this[_0x4b4058(0x294)][-0x1a13+0x164b+0x3c8];if(_0x50a951){currentChatImage=_0x50a951;const _0x59c6b6=new FileReader();_0x59c6b6[_0x4b4058(0x2ce)]=function(_0x55ff2f){const _0x9bf0b0=_0x4b4058;chatImagePreview[_0x9bf0b0(0x1f4)]=_0x55ff2f[_0x9bf0b0(0x200)]['result'],chatImagePreviewContainer['classList'][_0x9bf0b0(0xf6)](_0x26957f[_0x9bf0b0(0x2d0)]);},_0x59c6b6[_0x4b4058(0x19d)](_0x50a951);}});function clearChatImage(){const _0x5bd593=_0x36f41d,_0x25b5cd={'vXMEQ':_0x5bd593(0x1e6)};currentChatImage=null,chatFileInput[_0x5bd593(0x182)]='',chatImagePreview[_0x5bd593(0x1f4)]='',chatImagePreviewContainer[_0x5bd593(0x1b8)][_0x5bd593(0x207)](_0x25b5cd[_0x5bd593(0x2a0)]);}function parseMarkdown(_0x3695e3){const _0x3ae741=_0x36f41d,_0x14b31d={'GzKBB':_0x3ae741(0x1bf),'ddeBg':_0x3ae741(0x25d),'LjQGE':'<em>$1</em>','JpNug':_0x3ae741(0x1f2),'OSYXK':'<br>'};if(!_0x3695e3)return'';let _0x25564d=_0x3695e3['replace'](/```([\s\S]*?)```/g,_0x14b31d[_0x3ae741(0x2ba)])['replace'](/`([^`]+)`/g,'<code>$1</code>')[_0x3ae741(0xfc)](/\*\*(.*?)\*\*/g,_0x14b31d['ddeBg'])[_0x3ae741(0xfc)](/\*(.*?)\*/g,_0x14b31d[_0x3ae741(0x10c)])[_0x3ae741(0xfc)](/(?:^|\n)- (.*)/g,_0x14b31d[_0x3ae741(0x252)])['replace'](/\n/g,_0x14b31d[_0x3ae741(0x2cc)]);return _0x25564d;}function appendMessage(_0x1146fd,_0x5c17d7,_0x415d36=null){const _0xcbd5b7=_0x36f41d,_0x483239={'acEtq':'div','XRDov':function(_0x4bc91a,_0x12018c){return _0x4bc91a===_0x12018c;},'jzKGV':_0xcbd5b7(0x14f),'nfRaU':function(_0x45f338,_0x3fffc2){return _0x45f338(_0x3fffc2);},'KitTh':_0xcbd5b7(0x281),'SLBzV':function(_0x54527f,_0x2291b6){return _0x54527f===_0x2291b6;},'mrHfO':_0xcbd5b7(0x21f),'cfGRs':function(_0xa04b69,_0x456226){return _0xa04b69!==_0x456226;},'BokAb':'chat-messages-image','oSSdr':'chat-messages-chat','YeoTd':_0xcbd5b7(0x14e),'YtTrA':_0xcbd5b7(0x1ae)},_0x5bf436=document[_0xcbd5b7(0x2c8)](_0x483239[_0xcbd5b7(0x29f)]);_0x5bf436[_0xcbd5b7(0x1fd)]=_0xcbd5b7(0x155)+_0x1146fd;let _0xd1b35=_0x483239[_0xcbd5b7(0x176)](_0x1146fd,_0x483239[_0xcbd5b7(0x2a4)])?_0x483239[_0xcbd5b7(0x1ab)](parseMarkdown,_0x5c17d7):_0x5c17d7['replace'](/\n/g,_0xcbd5b7(0x1cf));if(_0x415d36){const _0x1fba7c=_0x483239[_0xcbd5b7(0x1ab)](String,_0x415d36),_0x5d37d8=_0x1fba7c[_0xcbd5b7(0xfc)](/"/g,_0x483239[_0xcbd5b7(0x1c0)]),_0x2be11e=_0x1fba7c[_0xcbd5b7(0xfc)](/'/g,'\x5c\x27');if(_0x483239[_0xcbd5b7(0x176)](_0x1146fd,_0x483239[_0xcbd5b7(0x2a4)])&&_0x483239[_0xcbd5b7(0x2b1)](currentMode,_0x483239['mrHfO'])){const _0x281057=_0xcbd5b7(0x105)+Date[_0xcbd5b7(0x16e)]()+_0xcbd5b7(0x260);_0xd1b35+=_0xcbd5b7(0x1d0)+_0x5d37d8+'\x22\x20class=\x22chat-image-attachment\x22\x20onclick=\x22window.openImagePreview(\x27'+_0x2be11e+_0xcbd5b7(0x240)+_0x5d37d8+'\x22\x20download=\x22'+_0x281057+_0xcbd5b7(0x17b);}else _0xd1b35+=_0xcbd5b7(0x15e)+_0x5d37d8+_0xcbd5b7(0x149)+_0x2be11e+'\x27)\x22\x20style=\x22cursor:pointer;\x22>';}_0x1146fd===_0x483239[_0xcbd5b7(0x2a4)]&&_0x483239[_0xcbd5b7(0x18d)](currentMode,_0xcbd5b7(0x24a))&&(aiResponseAudio[_0xcbd5b7(0x2ca)]=0x186f+0x1*-0x2186+0x1*0x917,aiResponseAudio[_0xcbd5b7(0x20e)]()['catch'](_0x8564ed=>console[_0xcbd5b7(0x27c)](_0xcbd5b7(0x1ef),_0x8564ed)));_0x5bf436[_0xcbd5b7(0x12c)]='<div\x20class=\x22message-content\x22>'+_0xd1b35+_0xcbd5b7(0x258);const _0x3a42f8=currentMode===_0x483239[_0xcbd5b7(0x1eb)]?_0x483239['BokAb']:_0x483239[_0xcbd5b7(0x29a)],_0x424e6b=document[_0xcbd5b7(0x19f)](_0x3a42f8);_0x424e6b&&_0x424e6b[_0xcbd5b7(0x14c)](_0x5bf436),chatContainer[_0xcbd5b7(0x282)]=chatContainer[_0xcbd5b7(0x1bc)],(_0x1146fd===_0x483239[_0xcbd5b7(0x1ed)]||_0x483239[_0xcbd5b7(0x176)](_0x1146fd,_0xcbd5b7(0x14f)))&&addChatHistory(_0x1146fd===_0x483239['YeoTd']?_0x483239['YeoTd']:_0x483239[_0xcbd5b7(0x248)],_0x5c17d7);}function showTypingIndicator(_0x2d071a=null){const _0x2fae8a=_0x36f41d,_0x146e50={'cSrVv':_0x2fae8a(0x118),'pmQWw':'div','batXH':function(_0x94c483,_0xd423aa){return _0x94c483===_0xd423aa;},'diUGw':_0x2fae8a(0x21f),'dtdYA':_0x2fae8a(0x101)},_0x13bf15=_0x146e50[_0x2fae8a(0x250)]+Date['now'](),_0x543c3a=document['createElement'](_0x146e50[_0x2fae8a(0x187)]);_0x543c3a[_0x2fae8a(0x1fd)]=_0x2fae8a(0x2db),_0x543c3a['id']=_0x13bf15;let _0x5593dd='';_0x2d071a?_0x5593dd=_0x2fae8a(0x126)+_0x2d071a+_0x2fae8a(0x16c):_0x5593dd='<div\x20class=\x22typing-indicator\x22><span></span><span></span><span></span></div>';_0x543c3a[_0x2fae8a(0x12c)]=_0x2fae8a(0x173)+_0x5593dd+_0x2fae8a(0x258);const _0x2766ab=_0x146e50['batXH'](currentMode,_0x146e50[_0x2fae8a(0x194)])?_0x146e50[_0x2fae8a(0x1a4)]:'chat-messages-chat',_0x2ee37a=document[_0x2fae8a(0x19f)](_0x2766ab);return _0x2ee37a&&_0x2ee37a[_0x2fae8a(0x14c)](_0x543c3a),chatContainer[_0x2fae8a(0x282)]=chatContainer['scrollHeight'],_0x13bf15;}function updateTypingIndicator(_0x166ea6,_0x28e333){const _0x4aa797=_0x36f41d,_0x4cb956=document[_0x4aa797(0x19f)](_0x166ea6);if(_0x4cb956){const _0x185f61=_0x4cb956[_0x4aa797(0x15a)](_0x4aa797(0x1fc));_0x185f61&&(_0x185f61[_0x4aa797(0x12c)]='<div\x20style=\x22display:flex;\x20align-items:center;\x20gap:8px;\x22><span>'+_0x28e333+_0x4aa797(0x16c));}}function _0x5198(){const _0xf33db6=['QLtAe','wlave','MunLs','JKCdC','<strong>$1</strong>','UTFLw','CosaU','.png','uHTCb','LnqGo','kmoOA','pVgvE','UUfFe','oWfLV','12|7|4|3|8|11|0|9|6|10|2|1|5','webkitSpeechRecognition','Tekan\x20mic\x20untuk\x20mulai','WywWt','fas\x20fa-stop','eAUJY','fLiYu','1968330PSJUch','2169GLNaAe','vTmPV','139718AFjuKN','setUint32','blob','application/octet-stream','laMKD','DRFwM','is-idle','onresult','RakMW','SuFi\x20menjawab...','nhyrZ','log','jgXEt','toFixed','candidates','height','&quot;','scrollTop','skQop','XDgKu','6MKMVAD','jWPSX','Fenrir','uUAYn','rXhTd','tDfMV','mode-chat-theme','NQJdd','LXrTV','DsWQe','cqZzk','rwefT','is-listening','click','Maaf,\x20saya\x20sedang\x20gangguan.\x20Coba\x20lagi\x20nanti.','files','Riwayat\x20percakapan:\x0a','zXGuR','RDFEk','76TxORyF','interimResults','oSSdr','continuous','auto','FJILT','nSUlg','acEtq','vXMEQ','fWpgp','pause','POST','jzKGV','pPpha','lxPMo','PkMwY','MLwRn','VdWNI','vmKwP','1243dFtbhw','append','hIkZu','jkMgg','eLmpn','ZOeYk','SLBzV','error','27DvARuG','test','ended','text','Assalamualaikum!\x20Saya\x20siap\x20menjawab\x20pertanyaan\x20seputar\x20Ramadhan.\x20Apa\x20yang\x20ingin\x20ditanyakan?','eVlMW','chat-file-input','GzKBB','QPQSR','KpXJV','sVsBb','24184IqFqVN','split','RIFF','IhsET','NWJGA','chat-image-preview','Mic\x20bermasalah.\x20Coba\x20izinkan\x20akses\x20mikrofon.','yiviI','cEVsO','HKPlw','createElement','QlhhP','currentTime','is-starting','OSYXK','SuFi\x20berfikir...','onload','mcNrL','MQKdb','kDZam','DgScR','onerror','rNjPa','ArGmU','audioContent','rLqtN','**Prompt\x20Teroptimasi:**\x0a','IpOae','success','chat-message\x20bot','qXseF','KtOGx','KxFLK','CSYnK','remove','VXwyt','voice-status-icon\x20','qLyKc','nqiKK','DGHFO','replace','bauoI','push','getItem','HzMnw','chat-messages-image','voice-status-text','lrVtH','entries','sufi-image-','98352DnaFEu','{text}','switch-mode-btn','showFeaturePage','fas\x20fa-check-circle','setItem','LjQGE','quAVN','uaRVr','gSyKw','assistant-modal','Anda\x20adalah\x20Sufi,\x20asisten\x20AI\x20yang\x20cerdas\x20dan\x20ramah\x20yang\x20dibuat\x20oleh\x20IchsanLabs.\x20Gunakan\x20Bahasa\x20Indonesia\x20yang\x20sopan.\x20Batasi\x20jawaban\x20maksimal\x2050\x20kata.\x20Tidak\x20perlu\x20menjelaskan\x20itu\x20semua\x20kecuali\x20ditanya\x0a\x0a','trim','imageUrl','stringify','WOXiP','string','Sedang\x20membuat\x20gambar...','typing-','bClEv','data','audio','JuoMU','yQtLd','WGBGK','map','ryBio','SuFi\x20sedang\x20menyalakan\x20mikrofon...','PMksL','piKDd','Uvvas','llEGP','<div\x20style=\x22display:flex;\x20align-items:center;\x20gap:8px;\x22><span>','FlIIT','GaoBy','enegL','4|2|5|1|0|3','onend','innerHTML','selectMode','muedW','mode-selection','ypuba','style','base64','hEimA','JSPFL','AWMYm','TvYTW','chat-messages-container','kqLDS','twtBU','obdor','toLowerCase','ZKZOX','ykquT','**Instruksi\x20Teroptimasi:**\x0a','SpeechRecognition','liGDO','wRbxO','addEventListener','nyQrO','preventDefault','aYnyu','vbXJq','transcript','chat-input','\x22\x20class=\x22chat-image-attachment\x22\x20onclick=\x22window.openImagePreview(\x27','kXmOQ',')\x20->\x20Closest:\x20','appendChild','mode-image-theme','user','bot','playErrorSound','WAVE','uDipY','AvgUz','hbTtk','chat-message\x20','hJbkh','ozLed','role','results','querySelector','no-store','pbkYq','charCodeAt','<br><img\x20src=\x22','vcIHM','VDQkS','CuYFn','luDFS','PREgB','User','nJGBs','opacity','ifWgW','1:1','join','chat-send-btn','XKZZj','</span><div\x20class=\x22typing-indicator\x22\x20style=\x22display:inline-flex;\x20margin:0;\x22><span></span><span></span><span></span></div></div>','HNGFG','now','0.5','parts','placeholder','sulapfitri_sufi_history','<div\x20class=\x22message-content\x22>','dLoYZ','fmt\x20','XRDov','MPZlc','User\x20menyalakan\x20mikrofon...','OwjJt','wXpkl','\x22\x20style=\x22position:\x20absolute;\x20bottom:\x208px;\x20right:\x208px;\x20width:\x2032px;\x20height:\x2032px;\x20border-radius:\x20999px;\x20background:\x20rgba(0,0,0,0.6);\x20color:\x20white;\x20display:\x20inline-flex;\x20align-items:\x20center;\x20justify-content:\x20center;\x20text-decoration:\x20none;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-download\x22\x20style=\x22font-size:\x200.85rem;\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ndFJn','filter','slice','application/json','Ketik\x20pesan...','nyCLs','value','Refine\x20this\x20user\x20request\x20into\x20a\x20precise\x20image\x20editing\x20instruction\x20(English).\x20User\x20request:\x20\x22{text}\x22.\x20The\x20user\x20has\x20also\x20provided\x20an\x20image\x20which\x20you\x20can\x20see.\x20Output\x20ONLY\x20the\x20instruction.','OEXNY','match','HHioB','pmQWw','sendChatMessage','instruction','Terjadi\x20kesalahan\x20koneksi.','tBlxd','aAoQx','cfGRs','sJizS','audio/wav','DRKfY','mDbLP','HnsdD','duAxY','diUGw','COGoj','openAssistantModal','Sedang\x20memproses\x20gambar...','dIytJ','rYbsN','disabled','textContent','server/chat.php','readAsDataURL','XHZSr','getElementById','SuFi\x20sudah\x20mendapatkan\x20jawaban...','fas\x20fa-microphone','PyIxK','cYHbE','dtdYA','wnmwr','dxEuQ','speaking','coiuy','EamWM','PwZvt','nfRaU','vxnJa','LnLrG','assistant','hGrOc','audio/mpeg','is-answered','chat','Berikut\x20hasil\x20gambarnya:','data:','mode-voice-theme','xnRoZ','HRLMN','classList','hlPAJ','apVDp','images[]','scrollHeight','voice-orb','krTND','<pre><code>$1</code></pre>','KitTh','tXsVa','RXSGz','audioUrl','GffpO','fLwFx','yKkWB','YZiLe','UHSzD','0|5|1|2|4|3','aspectRatio','tFZQj','mcxsm','idle','dAUMJ','<br>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22position:\x20relative;\x20display:\x20inline-block;\x20margin-top:\x208px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22','aOYsD','QpAXz','unknown','iiGpX','pCZNw','IEMCZ','isArray','readOnly','guGVE','BMwYz','KAacY','fKEqK','content','DAJoP','input-area','json','BJHXH','DOgBD','length','Browser\x20tidak\x20mendukung\x20fitur\x20mic.\x20Coba\x20gunakan\x20Chrome.','xFLPn','hidden','QAsEe','eXbDQ','3|1|4|0|2','GKllL','mrHfO','fas\x20fa-circle-notch','YeoTd','WJqXt','Audio\x20play\x20blocked:','qyeQf','playing','<br>â€¢\x20$1','EUDQj','src','159623gVMQNi','SuFi\x20sedang\x20berbicara...','url','beulF','sRpJK','eBzQc','VcKKi','.message-content','className','object','PqrXj','target','rdchC','prompt','xgrLe','catch','is-','abs','add','uPaTL','acQRs','headers','GUpsv','parse','ItWtk','play','CCLbp','oujZG','KLJMb','includes','StyeS','sampleRate','CFwgl','WKFTt','Assistant','HqNaW','naturalHeight','server/generate.php','OUyhR','JFXLT','stop','focus','image','chat-image-btn','Enhance\x20this\x20image','is-thinking','utjej','https://cdn.jsdelivr.net/gh/karyawaktuluang/magic.fitri@main/assets/chat.mp3','shiftKey','ApBBk','smpXn','get','lKvGB','oTGCx','efFpc','naturalWidth','mkcCn','TNwBK','Ytqku','thinking','chat-messages-chat','iWykd','HeYiW','wMvfe','4712393CqOvRo','RlDIu','setUint16','audio/','RkPgm','onstart','rmeRy','voice-status','playSuccessSound','starting','uhKjS','\x27)\x22\x20style=\x22cursor:pointer;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22','lxqbm','id-ID','CSvRA','elpOA','setUint8','qjeTy','kMkkp','YtTrA','LuEnd','voice','218510kdCERJ','mimeType','answered','FiWSO','cmYOD','cSrVv','keydown','JpNug','server/tts.php','BqQxl','Qarxh','User:\x20','response','</div>'];_0x5198=function(){return _0xf33db6;};return _0x5198();}function _0x22d1(_0x442a96,_0x318d44){_0x442a96=_0x442a96-(-0x3*0x8ba+0x642+0xa7*0x20);const _0x228c0f=_0x5198();let _0x146631=_0x228c0f[_0x442a96];return _0x146631;}function removeTypingIndicator(_0x39a510){const _0x1eec15=_0x36f41d,_0x23b0dd=document[_0x1eec15(0x19f)](_0x39a510);if(_0x23b0dd)_0x23b0dd[_0x1eec15(0xf6)]();}function wait(_0xde6473){return new Promise(_0x478f3d=>setTimeout(_0x478f3d,_0xde6473));}async function showAnsweredStatus(_0x996026){const _0x5e5d25=_0x36f41d,_0x4f7bf2={'vmKwP':function(_0x453bc2,_0x301ce7,_0x31433e){return _0x453bc2(_0x301ce7,_0x31433e);},'AWMYm':_0x5e5d25(0x1a0)};if(!_0x996026)return;_0x4f7bf2[_0x5e5d25(0x2aa)](updateTypingIndicator,_0x996026,_0x4f7bf2[_0x5e5d25(0x135)]),await wait(0x2119+0x1b7*0x4+-0x2539),removeTypingIndicator(_0x996026);}function setInputState(_0x24c66a){const _0x40684d=_0x36f41d,_0x2b4474={'rdchC':'0.5'};chatInput[_0x40684d(0x19a)]=_0x24c66a,chatSendBtn['disabled']=_0x24c66a,chatFileInput[_0x40684d(0x19a)]=_0x24c66a;if(voiceMicBtn)voiceMicBtn[_0x40684d(0x19a)]=_0x24c66a;_0x24c66a?(chatInput['parentElement']['style'][_0x40684d(0x166)]=_0x40684d(0x16f),chatSendBtn[_0x40684d(0x131)][_0x40684d(0x166)]=_0x2b4474[_0x40684d(0x201)]):(chatInput['parentElement'][_0x40684d(0x131)]['opacity']='1',chatSendBtn[_0x40684d(0x131)]['opacity']='1',chatInput['focus']());}function setupVoiceRecognition(){const _0x2e06f5=_0x36f41d,_0x370396={'LVetY':function(_0x7daca2,_0x4078c6){return _0x7daca2(_0x4078c6);},'CSvRA':function(_0x6d0fba,_0x54ace3,_0x35a414){return _0x6d0fba(_0x54ace3,_0x35a414);},'HqNaW':_0x2e06f5(0x2c4),'guGVE':function(_0x26c4ac,_0x33e8b4){return _0x26c4ac(_0x33e8b4);},'hDDzs':function(_0x56f130,_0x20145d,_0x260377){return _0x56f130(_0x20145d,_0x260377);},'MmDib':_0x2e06f5(0x14f),'uRqdq':_0x2e06f5(0x1e4),'QlhhP':_0x2e06f5(0x242)};if(voiceRecognizer)return;const _0x1d4dc2=window[_0x2e06f5(0x13f)]||window[_0x2e06f5(0x268)];if(!_0x1d4dc2){_0x370396['hDDzs'](appendMessage,_0x370396['MmDib'],_0x370396['uRqdq']);if(voiceMicBtn)voiceMicBtn[_0x2e06f5(0x19a)]=!![];return;}voiceRecognizer=new _0x1d4dc2(),voiceRecognizer['lang']=_0x370396[_0x2e06f5(0x2c9)],voiceRecognizer[_0x2e06f5(0x299)]=![],voiceRecognizer[_0x2e06f5(0x29b)]=![],voiceRecognizer[_0x2e06f5(0x23a)]=function(){isVoiceStarting=![],setVoiceListening(!![]);},voiceRecognizer[_0x2e06f5(0x12b)]=function(){isVoiceStarting=![],_0x370396['LVetY'](setVoiceListening,![]);},voiceRecognizer[_0x2e06f5(0x2d3)]=function(){const _0x2f59aa=_0x2e06f5;isVoiceStarting=![],setVoiceListening(![]),_0x370396[_0x2f59aa(0x243)](appendMessage,_0x2f59aa(0x14f),_0x370396[_0x2f59aa(0x218)]);},voiceRecognizer[_0x2e06f5(0x278)]=function(_0x479c17){const _0x5e0c93=_0x2e06f5,_0x3680d9=_0x479c17[_0x5e0c93(0x159)]&&_0x479c17[_0x5e0c93(0x159)][0x1b8d+-0xa*0x16b+-0xd5f]&&_0x479c17[_0x5e0c93(0x159)][0x283*-0xb+-0x216f+0x3d10][-0x3f2+-0x1*0xec5+0x12b7],_0xb19157=_0x3680d9?_0x3680d9[_0x5e0c93(0x147)][_0x5e0c93(0x112)]():'';_0xb19157&&(stopVoiceRecognition(),chatInput[_0x5e0c93(0x182)]=_0xb19157,_0x370396[_0x5e0c93(0x1d9)](sendVoiceMessage,_0xb19157));};}function setVoiceListening(_0x2458e2){const _0x3c5018=_0x36f41d,_0x17bcde={'DRFwM':_0x3c5018(0x291),'nqiKK':_0x3c5018(0x26b),'KpXJV':'fas\x20fa-microphone'};isVoiceListening=_0x2458e2;voiceOrb&&(_0x2458e2?voiceOrb[_0x3c5018(0x1b8)][_0x3c5018(0x207)](_0x17bcde[_0x3c5018(0x276)]):voiceOrb[_0x3c5018(0x1b8)][_0x3c5018(0xf6)](_0x17bcde[_0x3c5018(0x276)]));if(!voiceMicBtn)return;const _0x1088e8=voiceMicBtn[_0x3c5018(0x15a)]('i');_0x1088e8&&(_0x1088e8['className']=_0x2458e2?_0x17bcde[_0x3c5018(0xfa)]:_0x17bcde[_0x3c5018(0x2bc)]);}function setVoiceStatus(_0x5a41b2,_0x530cb3){const _0x46eb1a=_0x36f41d,_0xe0b490={'elpOA':function(_0x547531,_0x397361){return _0x547531||_0x397361;},'sPOEL':_0x46eb1a(0x24a),'zXGuR':_0x46eb1a(0x277),'jgXEt':_0x46eb1a(0x2cb),'liGDO':'is-speaking','PwZvt':function(_0xd6e5e7,_0x9585e8){return _0xd6e5e7===_0x9585e8;},'krTND':_0x46eb1a(0x230),'mcNrL':function(_0x55ebe4,_0x2511fc){return _0x55ebe4===_0x2511fc;},'GUpsv':_0x46eb1a(0x24d),'ndFJn':function(_0x530bfd,_0x1e9326){return _0x530bfd===_0x1e9326;},'DAJoP':_0x46eb1a(0x23e),'vHeEs':_0x46eb1a(0x1ec),'WGBGK':_0x46eb1a(0x1a7),'wMvfe':'fas\x20fa-volume-up'};if(_0xe0b490[_0x46eb1a(0x244)](!voiceStatus,!voiceStatusText)||!voiceStatusIcon)return;if(currentMode!==_0xe0b490['sPOEL'])return;const _0x3cd9ff=[_0xe0b490[_0x46eb1a(0x296)],_0x46eb1a(0x222),_0x46eb1a(0x1b1),_0xe0b490[_0x46eb1a(0x27d)],_0xe0b490[_0x46eb1a(0x140)]];voiceStatus['classList'][_0x46eb1a(0xf6)](..._0x3cd9ff);const _0x256da1=_0x5a41b2?_0x46eb1a(0x205)+_0x5a41b2:_0xe0b490['zXGuR'];voiceStatus[_0x46eb1a(0x1b8)][_0x46eb1a(0x207)](_0x256da1);_0x530cb3&&(voiceStatusText[_0x46eb1a(0x19b)]=_0x530cb3);let _0x4aff02=_0x46eb1a(0x1a1);if(_0xe0b490[_0x46eb1a(0x1aa)](_0x5a41b2,_0xe0b490[_0x46eb1a(0x1be)]))_0x4aff02='fas\x20fa-brain';if(_0xe0b490[_0x46eb1a(0x2cf)](_0x5a41b2,_0xe0b490[_0x46eb1a(0x20b)]))_0x4aff02=_0x46eb1a(0x10a);if(_0xe0b490[_0x46eb1a(0x17c)](_0x5a41b2,_0xe0b490[_0x46eb1a(0x1de)]))_0x4aff02=_0xe0b490['vHeEs'];if(_0xe0b490[_0x46eb1a(0x2cf)](_0x5a41b2,_0xe0b490[_0x46eb1a(0x11e)]))_0x4aff02=_0xe0b490[_0x46eb1a(0x234)];voiceStatusIcon[_0x46eb1a(0x1fd)]=_0x46eb1a(0xf8)+_0x4aff02;}function setVoiceSpeaking(_0x19832b){const _0x250bcf=_0x36f41d,_0x47a252={'eLmpn':'is-speaking','DgScR':'fas\x20fa-volume-up','DGHFO':'fas\x20fa-microphone'};if(!voiceOrb)return;if(currentMode!=='voice'){voiceOrb[_0x250bcf(0x1b8)][_0x250bcf(0xf6)](_0x47a252['eLmpn']);return;}_0x19832b?voiceOrb['classList']['add'](_0x47a252[_0x250bcf(0x2af)]):voiceOrb['classList'][_0x250bcf(0xf6)](_0x47a252[_0x250bcf(0x2af)]);voiceMicBtn&&(voiceMicBtn['disabled']=_0x19832b);if(!voiceMicBtn||isVoiceListening)return;const _0x128f67=voiceMicBtn['querySelector']('i');if(!_0x128f67)return;_0x128f67[_0x250bcf(0x1fd)]=_0x19832b?_0x47a252[_0x250bcf(0x2d2)]:_0x47a252[_0x250bcf(0xfb)];}function bindTtsEvents(_0x4b9091,_0x5c335c,_0x439e2f){const _0x18bacf=_0x36f41d,_0x239011={'eAUJY':function(_0x3cecfc,_0x256003){return _0x3cecfc(_0x256003);},'AxJxt':function(_0x5c1ab5){return _0x5c1ab5();},'OwjJt':function(_0x57b0d7,_0x570c8f){return _0x57b0d7(_0x570c8f);},'tBlxd':_0x18bacf(0x2b5),'jkMgg':_0x18bacf(0x2b2),'zjDYK':_0x18bacf(0x2a2),'enegL':_0x18bacf(0x1f1)};if(!_0x4b9091)return;const _0x493fd3=function(){const _0x59690d=_0x18bacf;_0x239011[_0x59690d(0x26c)](setVoiceSpeaking,![]);if(_0x5c335c)_0x239011['AxJxt'](_0x5c335c);};_0x4b9091[_0x18bacf(0x142)](_0x239011[_0x18bacf(0x18b)],_0x493fd3),_0x4b9091[_0x18bacf(0x142)](_0x239011[_0x18bacf(0x2ae)],_0x493fd3),_0x4b9091[_0x18bacf(0x142)](_0x239011['zjDYK'],_0x493fd3),_0x4b9091[_0x18bacf(0x142)](_0x239011[_0x18bacf(0x129)],function(){const _0x515b05=_0x18bacf;_0x239011[_0x515b05(0x179)](setVoiceSpeaking,!![]);if(_0x439e2f)_0x239011['AxJxt'](_0x439e2f);});}function stopVoiceRecognition(){const _0x13d2b7=_0x36f41d;voiceRecognizer&&isVoiceListening&&voiceRecognizer[_0x13d2b7(0x21d)](),isVoiceStarting=![],setVoiceListening(![]);}voiceMicBtn&&voiceMicBtn[_0x36f41d(0x142)](_0x36f41d(0x292),function(){const _0x2b8fd7=_0x36f41d,_0x3fdaa6={'siUui':function(_0x4706f0){return _0x4706f0();},'nSUlg':function(_0x1802e4,_0x53e89a,_0x236f57){return _0x1802e4(_0x53e89a,_0x236f57);},'muedW':_0x2b8fd7(0x178)};if(!voiceRecognizer)_0x3fdaa6['siUui'](setupVoiceRecognition);if(!voiceRecognizer)return;if(isVoiceListening)voiceRecognizer[_0x2b8fd7(0x21d)]();else{if(isVoiceStarting)return;try{isVoiceStarting=!![],_0x3fdaa6[_0x2b8fd7(0x29e)](setVoiceStatus,'starting',_0x3fdaa6[_0x2b8fd7(0x12e)]),voiceRecognizer['start']();}catch(_0xe97179){isVoiceStarting=![];}}});function playTtsAudio(_0x4af092,_0x46a31b,_0x5b9c3f){const _0x5c63e9=_0x36f41d,_0x2b3087={'GffpO':_0x5c63e9(0x1c9),'DjDyk':function(_0x14443c,_0x45dade,_0x26eefc,_0xcf13c0){return _0x14443c(_0x45dade,_0x26eefc,_0xcf13c0);},'oTGCx':function(_0x1d87a8,_0x31858c){return _0x1d87a8(_0x31858c);}},_0x56b63f=_0x2b3087[_0x5c63e9(0x1c4)][_0x5c63e9(0x2bf)]('|');let _0x12d86e=0xcb+-0xa*0x82+0x449;while(!![]){switch(_0x56b63f[_0x12d86e++]){case'0':if(!_0x4af092)return;continue;case'1':ttsAudio=new Audio(_0x4af092);continue;case'2':_0x2b3087['DjDyk'](bindTtsEvents,ttsAudio,_0x46a31b,_0x5b9c3f);continue;case'3':ttsAudio['play']()[_0x5c63e9(0x204)](function(){});continue;case'4':_0x2b3087[_0x5c63e9(0x22a)](setVoiceSpeaking,!![]);continue;case'5':ttsAudio&&(ttsAudio[_0x5c63e9(0x2a2)](),ttsAudio[_0x5c63e9(0x2ca)]=-0x6e6+0x23c0+-0x1*0x1cda);continue;}break;}}function playTtsBlob(_0x5c0ba4,_0x24501b,_0x2ad0fa){const _0x4cea3b=_0x36f41d,_0x2592b1={'wXpkl':function(_0x38910f,_0x5426d7,_0x439b27,_0x4c2591){return _0x38910f(_0x5426d7,_0x439b27,_0x4c2591);},'pbkYq':function(_0x1fe225,_0x112a4c){return _0x1fe225(_0x112a4c);},'RkPgm':_0x4cea3b(0x2b5),'hIkZu':'error'};if(!_0x5c0ba4)return;ttsAudio&&(ttsAudio[_0x4cea3b(0x2a2)](),ttsAudio['currentTime']=0xdf9+0x2ab+-0x10a4);const _0x189a53=URL['createObjectURL'](_0x5c0ba4);ttsAudio=new Audio(_0x189a53),_0x2592b1[_0x4cea3b(0x17a)](bindTtsEvents,ttsAudio,_0x24501b,_0x2ad0fa),_0x2592b1[_0x4cea3b(0x15c)](setVoiceSpeaking,!![]);const _0x3b4da8=function(){URL['revokeObjectURL'](_0x189a53);};ttsAudio[_0x4cea3b(0x142)](_0x2592b1[_0x4cea3b(0x239)],_0x3b4da8),ttsAudio[_0x4cea3b(0x142)](_0x2592b1[_0x4cea3b(0x2ad)],_0x3b4da8),ttsAudio['play']()[_0x4cea3b(0x204)](function(){});}function playTtsBase64(_0x5580a6,_0x54e1e4,_0x1a288c,_0x553fdd){const _0x56cd4b=_0x36f41d,_0x6a9ec2={'TvYTW':function(_0x4516e9,_0x4a0677){return _0x4516e9(_0x4a0677);},'uDipY':function(_0x16d581,_0x4c2d39){return _0x16d581<_0x4c2d39;},'UuVkf':function(_0x247758,_0x24f34){return _0x247758||_0x24f34;},'ZOeYk':_0x56cd4b(0x1b0),'NCKse':function(_0x18b545,_0x2f8092,_0x1eec7c,_0xf653e7){return _0x18b545(_0x2f8092,_0x1eec7c,_0xf653e7);}};if(!_0x5580a6)return;try{const _0x4481ba=_0x6a9ec2[_0x56cd4b(0x136)](atob,_0x5580a6),_0x20fb34=_0x4481ba[_0x56cd4b(0x1e3)],_0x255420=new Uint8Array(_0x20fb34);for(let _0x4b58e1=-0x8b8+-0x5a1*-0x3+-0x7b*0x11;_0x6a9ec2[_0x56cd4b(0x152)](_0x4b58e1,_0x20fb34);_0x4b58e1++){_0x255420[_0x4b58e1]=_0x4481ba[_0x56cd4b(0x15d)](_0x4b58e1);}const _0x5edf7f=new Blob([_0x255420],{'type':_0x6a9ec2['UuVkf'](_0x54e1e4,_0x6a9ec2[_0x56cd4b(0x2b0)])});_0x6a9ec2['NCKse'](playTtsBlob,_0x5edf7f,_0x1a288c,_0x553fdd);}catch(_0x2b9145){}}function isPcmMimeType(_0x528c2e){const _0x5d1d50=_0x36f41d;if(!_0x528c2e)return![];return/audio\/l16/i[_0x5d1d50(0x2b4)](_0x528c2e)||/codec=pcm/i['test'](_0x528c2e);}function parsePcmDataUrl(_0x322bce){const _0x16b6fa=_0x36f41d,_0xd8643a={'TGdxY':'string','PkMwY':_0x16b6fa(0x1b4),'EEAzT':function(_0x3c08ce,_0x2fd5da){return _0x3c08ce(_0x2fd5da);}};if(!_0x322bce||typeof _0x322bce!==_0xd8643a['TGdxY'])return null;if(!_0x322bce['startsWith'](_0xd8643a[_0x16b6fa(0x2a7)]))return null;const _0x27fd92=_0x322bce[_0x16b6fa(0x2bf)](',');if(_0x27fd92['length']<0x1fc7+-0xb*0x118+-0x13bd)return null;const _0x3796f4=_0x27fd92[0x26e9+0x4*0x752+0xfd*-0x45],_0x14d688=_0x27fd92[_0x16b6fa(0x17e)](-0x1be1+-0x1*-0x1151+-0x5*-0x21d)[_0x16b6fa(0x169)](','),_0x4cf84e=_0x3796f4[_0x16b6fa(0x185)](/rate=(\d+)/i),_0x2c0957=_0x4cf84e?_0xd8643a['EEAzT'](Number,_0x4cf84e[0xa75+-0x1*0x159d+0x1*0xb29]):0x1*-0x457d+0x2cb2+0x768b,_0x298957=_0x3796f4[_0x16b6fa(0x17e)](0x21c8+-0x4c*0x15+-0x1b87)[_0x16b6fa(0x2bf)](';')[-0x2018+0x1*0x1ec1+0x31*0x7];return{'base64':_0x14d688,'sampleRate':_0x2c0957,'mimeType':_0x298957};}function buildWavBlobFromPcm(_0x1f2b5d,_0x50dab1){const _0x10be48=_0x36f41d,_0xc75f40={'PyIxK':function(_0x69c583,_0x2a1896){return _0x69c583<_0x2a1896;},'ItWtk':function(_0x956e61,_0xba98de){return _0x956e61+_0xba98de;},'piKDd':function(_0x3d213d,_0x387591){return _0x3d213d||_0x387591;},'cYHbE':function(_0x1b7d28,_0x3a07fa){return _0x1b7d28/_0x3a07fa;},'RakMW':function(_0xed2633,_0x571cc1,_0x20caaf){return _0xed2633(_0x571cc1,_0x20caaf);},'qjeTy':_0x10be48(0x2c0),'fLiYu':function(_0x3b87ab,_0x437e04){return _0x3b87ab+_0x437e04;},'WywWt':function(_0x199942,_0x1c9461,_0x59da58){return _0x199942(_0x1c9461,_0x59da58);},'rNjPa':_0x10be48(0x151),'EeyJP':_0x10be48(0x175),'xnRoZ':function(_0x552f0f,_0x6f169e,_0x41d6e4){return _0x552f0f(_0x6f169e,_0x41d6e4);},'aeqDx':_0x10be48(0x18f)};if(!_0x1f2b5d||!_0x1f2b5d['length'])return null;const _0x2b9beb=_0xc75f40[_0x10be48(0x123)](_0x50dab1,0x486d+-0x99b9+-0xaf0c*-0x1),_0x565bec=-0x6c*-0x16+0xefd+-0x1844,_0x307789=-0x1440+0x3*-0x4eb+0xbf*0x2f,_0xf41ab0=_0xc75f40[_0x10be48(0x1a3)](_0x565bec*_0x307789,0x125+0x2482*-0x1+-0xdd*-0x29),_0x2386ac=_0x2b9beb*_0xf41ab0,_0x44d363=_0x1f2b5d[_0x10be48(0x1e3)],_0x559890=new ArrayBuffer(-0xa36+0x5*-0x43f+0x1f9d*0x1),_0x31ae96=new DataView(_0x559890),_0x329599=function(_0x1aeedd,_0x18d5d2){const _0x734270=_0x10be48;for(let _0x587b6f=-0xab2+-0x2483+0x2f35;_0xc75f40[_0x734270(0x1a2)](_0x587b6f,_0x18d5d2[_0x734270(0x1e3)]);_0x587b6f++){_0x31ae96[_0x734270(0x245)](_0xc75f40[_0x734270(0x20d)](_0x1aeedd,_0x587b6f),_0x18d5d2['charCodeAt'](_0x587b6f));}};return _0xc75f40[_0x10be48(0x279)](_0x329599,0x14aa+0x2517+-0x39c1,_0xc75f40[_0x10be48(0x246)]),_0x31ae96['setUint32'](-0xc17+0x2601+0x82*-0x33,_0xc75f40[_0x10be48(0x26d)](-0x17*0xc5+-0x37b+0x1552,_0x44d363),!![]),_0xc75f40[_0x10be48(0x26a)](_0x329599,0x72*-0x8+0xd67+-0x9cf,_0xc75f40[_0x10be48(0x2d4)]),_0xc75f40[_0x10be48(0x26a)](_0x329599,0x1*0x3d2+-0x139b*-0x1+0x5*-0x4ad,_0xc75f40['EeyJP']),_0x31ae96[_0x10be48(0x272)](0x108d+0x10c3+0x428*-0x8,-0x1*-0x1b31+0x7*0x31f+-0x30fa,!![]),_0x31ae96[_0x10be48(0x237)](-0x306+-0x1*-0x13f+0x1db,-0x7*-0x419+0x2c+-0x1cda,!![]),_0x31ae96[_0x10be48(0x237)](-0x2*-0x80b+0x14*0x49+-0x15b4,_0x565bec,!![]),_0x31ae96['setUint32'](0x1f1a+-0x2*-0x1357+-0x45b0,_0x2b9beb,!![]),_0x31ae96[_0x10be48(0x272)](-0x727*-0x2+0x2095+0x1*-0x2ec7,_0x2386ac,!![]),_0x31ae96[_0x10be48(0x237)](-0x7ef*-0x2+-0x1bf5+0x35*0x3b,_0xf41ab0,!![]),_0x31ae96['setUint16'](-0x234c+-0x65*-0x27+0x140b,_0x307789,!![]),_0xc75f40[_0x10be48(0x1b6)](_0x329599,0x255e+-0x1af3+-0x3*0x36d,_0x10be48(0x11a)),_0x31ae96[_0x10be48(0x272)](0x11bf+0xde+0x69*-0x2d,_0x44d363,!![]),new Blob([_0x559890,_0x1f2b5d],{'type':_0xc75f40['aeqDx']});}function playPcmBase64AsWav(_0x2c043e,_0x5d1e88,_0x59e663,_0x42c12b){const _0x30aedf=_0x36f41d,_0x37bf18={'apVDp':function(_0x3a339a,_0x5c4610){return _0x3a339a<_0x5c4610;},'DOgBD':function(_0x1e1f2d,_0x4fd7e3,_0x2edd02){return _0x1e1f2d(_0x4fd7e3,_0x2edd02);},'PMksL':function(_0x1e9fe6,_0x2937fc,_0x5a59f0,_0x3a57c5){return _0x1e9fe6(_0x2937fc,_0x5a59f0,_0x3a57c5);}};if(!_0x2c043e)return;try{const _0x41942c=atob(_0x2c043e),_0x172437=_0x41942c[_0x30aedf(0x1e3)],_0x21d2d2=new Uint8Array(_0x172437);for(let _0xbf5960=-0x1*0x174f+-0x23b9+0x3b08;_0x37bf18[_0x30aedf(0x1ba)](_0xbf5960,_0x172437);_0xbf5960++){_0x21d2d2[_0xbf5960]=_0x41942c[_0x30aedf(0x15d)](_0xbf5960);}const _0x6621ce=_0x37bf18[_0x30aedf(0x1e2)](buildWavBlobFromPcm,_0x21d2d2,_0x5d1e88);if(_0x6621ce)_0x37bf18[_0x30aedf(0x122)](playTtsBlob,_0x6621ce,_0x59e663,_0x42c12b);}catch(_0x314d3c){}}function playPcmBufferAsWav(_0x5e3f68,_0x12434b,_0x100f5c,_0x3f3bc6){const _0x37ce84=_0x36f41d,_0xc25118={'MkpWa':function(_0x40a0fa,_0x4de259,_0x5dd51a){return _0x40a0fa(_0x4de259,_0x5dd51a);},'vcIHM':function(_0x4c3cf5,_0x4027c7,_0x2550bd,_0x44be86){return _0x4c3cf5(_0x4027c7,_0x2550bd,_0x44be86);}};if(!_0x5e3f68)return;const _0x42d166=new Uint8Array(_0x5e3f68),_0x25e789=_0xc25118['MkpWa'](buildWavBlobFromPcm,_0x42d166,_0x12434b);if(_0x25e789)_0xc25118[_0x37ce84(0x15f)](playTtsBlob,_0x25e789,_0x100f5c,_0x3f3bc6);}function resolveBaseUrl(_0x49c10a){const _0x4cbb61=_0x36f41d,_0x94430={'hlPAJ':function(_0xdc1840,_0x4ba67c){return _0xdc1840!==_0x4ba67c;},'oujZG':'string'};if(!_0x49c10a||_0x94430[_0x4cbb61(0x1b9)](typeof _0x49c10a,_0x94430[_0x4cbb61(0x210)]))return'';let _0x99df61=_0x49c10a[_0x4cbb61(0x112)]();if(!_0x99df61)return'';return!/^https?:\/\//i[_0x4cbb61(0x2b4)](_0x99df61)&&(_0x99df61='https://'+_0x99df61),_0x99df61['replace'](/\/+$/,'');}async function requestTtsAudio(_0x21d137){const _0x388307=_0x36f41d,_0x57b23f={'RXSGz':function(_0x3b13db,_0x2acfd6){return _0x3b13db(_0x2acfd6);},'XHZSr':function(_0xf93b39,_0x5cbe07,_0x12745f){return _0xf93b39(_0x5cbe07,_0x12745f);},'dxEuQ':'idle','rYbsN':_0x388307(0x269),'MunLs':_0x388307(0x1f6),'hJbkh':'speaking','GaoBy':function(_0x5d94c8,_0x4155a2,_0x2bd018){return _0x5d94c8(_0x4155a2,_0x2bd018);},'RDFEk':function(_0x1670fd,_0x2b428e,_0x33c91a){return _0x1670fd(_0x2b428e,_0x33c91a);},'uPaTL':_0x388307(0x27a),'BJHXH':function(_0x32cdf8,_0x17090d){return _0x32cdf8(_0x17090d);},'RlDIu':function(_0xc4e78b,_0x362c13,_0x379d05){return _0xc4e78b(_0x362c13,_0x379d05);},'DsWQe':function(_0x5c1d2b,_0x49086b){return _0x5c1d2b(_0x49086b);},'aAoQx':function(_0x2744c1,_0x33db8d,_0x1ab2dc){return _0x2744c1(_0x33db8d,_0x1ab2dc);},'lrVtH':function(_0x3bf82d,_0x4d32a3,_0x6ee453){return _0x3bf82d(_0x4d32a3,_0x6ee453);},'KtOGx':function(_0x3f6b70,_0xec030c,_0x3f96c3){return _0x3f6b70(_0xec030c,_0x3f96c3);},'yiviI':function(_0x3741b2,_0x55f2e8,_0x6618ed){return _0x3741b2(_0x55f2e8,_0x6618ed);},'XDgKu':function(_0x2a5e18,_0x319845,_0x1c2cd7){return _0x2a5e18(_0x319845,_0x1c2cd7);},'LXrTV':function(_0x503c16,_0x23317f,_0x488460){return _0x503c16(_0x23317f,_0x488460);},'BqQxl':function(_0x375871,_0x3d3c57,_0xe70911){return _0x375871(_0x3d3c57,_0xe70911);},'lxqbm':_0x388307(0x253),'KAacY':function(_0x35ed4d,_0x15c452){return _0x35ed4d===_0x15c452;},'dIPzi':_0x388307(0x121),'rLqtN':_0x388307(0x23e),'UHSzD':_0x388307(0x2a3),'FJILT':_0x388307(0x17f),'aoXFB':function(_0x10f30c,_0x38ef66,_0x1d40c2){return _0x10f30c(_0x38ef66,_0x1d40c2);},'fKEqK':function(_0x21e4b2,_0x4aee55,_0x238cc0){return _0x21e4b2(_0x4aee55,_0x238cc0);},'coiuy':'Maaf,\x20suara\x20belum\x20tersedia.','ArGmU':'content-type','qXseF':_0x388307(0x238),'UTFLw':_0x388307(0x274),'WKFTt':function(_0x5a9bf1,_0x4c60d3,_0x3e2b08){return _0x5a9bf1(_0x4c60d3,_0x3e2b08);},'hEimA':function(_0x503181,_0x5e98b3,_0x4ec51f,_0x5384e0,_0x3f35e9){return _0x503181(_0x5e98b3,_0x4ec51f,_0x5384e0,_0x3f35e9);},'ehPrY':function(_0x5db724,_0x4dcb45,_0x4a0c6d,_0x31e0a6){return _0x5db724(_0x4dcb45,_0x4a0c6d,_0x31e0a6);},'WJqXt':function(_0x4c9ab9,_0x1f8b3f,_0xbfddbb){return _0x4c9ab9(_0x1f8b3f,_0xbfddbb);},'CbVib':'bot','rmeRy':function(_0x1d2dd8,_0xfc6ea,_0x1f938d){return _0x1d2dd8(_0xfc6ea,_0x1f938d);},'vbXJq':function(_0x28c4f2,_0x2308db,_0xf742e8){return _0x28c4f2(_0x2308db,_0xf742e8);},'iWykd':function(_0x27d4a8,_0x5062c8,_0x1a52a3){return _0x27d4a8(_0x5062c8,_0x1a52a3);},'nyCLs':function(_0x2744ab,_0x1de924,_0x34d96e,_0x43b1fa,_0x11297a){return _0x2744ab(_0x1de924,_0x34d96e,_0x43b1fa,_0x11297a);},'iiGpX':function(_0x40ad7c,_0x275a88,_0x596225,_0x175efa){return _0x40ad7c(_0x275a88,_0x596225,_0x175efa);},'YZiLe':function(_0x4ac43a,_0x1a85c4){return _0x4ac43a(_0x1a85c4);},'fLwFx':function(_0x5379c3,_0x137e4a,_0x1a3537){return _0x5379c3(_0x137e4a,_0x1a3537);},'GlpoU':function(_0x10dc52,_0x44097a,_0x25be5e){return _0x10dc52(_0x44097a,_0x25be5e);},'FlIIT':function(_0xd546c8,_0x1db60f,_0x3a972f){return _0xd546c8(_0x1db60f,_0x3a972f);},'QLtAe':function(_0x32e7c9,_0x47a6b5,_0x2f928c,_0x2b9ddd,_0x33a627){return _0x32e7c9(_0x47a6b5,_0x2f928c,_0x2b9ddd,_0x33a627);},'eBzQc':_0x388307(0x1b0),'efFpc':function(_0x14ada2,_0x13cfe9){return _0x14ada2(_0x13cfe9);},'twtBU':function(_0x2cf1ad,_0x3dbff9){return _0x2cf1ad(_0x3dbff9);},'kqLDS':function(_0x397787,_0x58ed4d,_0x2de2bd){return _0x397787(_0x58ed4d,_0x2de2bd);},'fjgjJ':function(_0x4aae41,_0x1659a1,_0x3a42a3){return _0x4aae41(_0x1659a1,_0x3a42a3);},'ryBio':function(_0x2fdaef,_0x39c74b){return _0x2fdaef(_0x39c74b);}};if(!_0x21d137)return;const _0x17fa5e=_0x57b23f[_0x388307(0x241)],_0x207b8d=_0x57b23f[_0x388307(0x1db)](currentMode,_0x388307(0x24a)),_0x1c673c=_0x207b8d?null:_0x57b23f[_0x388307(0x28e)](showTypingIndicator,_0x57b23f['dIPzi']);_0x207b8d&&setVoiceStatus(_0x57b23f[_0x388307(0x2d7)],'SuFi\x20menyalakan\x20mikrofon...');let _0x3600f4=null;try{_0x3600f4=await fetch(_0x17fa5e,{'method':_0x57b23f[_0x388307(0x1c8)],'headers':{'Content-Type':_0x57b23f[_0x388307(0x29d)]},'body':JSON[_0x388307(0x114)]({'prompt':_0x21d137,'voiceName':_0x388307(0x287)})});}catch(_0x1b8f42){if(_0x1c673c)removeTypingIndicator(_0x1c673c);_0x57b23f['aoXFB'](setVoiceStatus,_0x57b23f['dxEuQ'],_0x57b23f['rYbsN']),_0x57b23f[_0x388307(0x1dc)](appendMessage,'bot',_0x57b23f[_0x388307(0x1a8)]);return;}const _0x4cff21=(_0x3600f4[_0x388307(0x20a)][_0x388307(0x228)](_0x57b23f[_0x388307(0x2d5)])||'')[_0x388307(0x13b)]();if(_0x3600f4['ok']&&(_0x4cff21[_0x388307(0x212)](_0x57b23f[_0x388307(0x2dc)])||_0x4cff21[_0x388307(0x212)](_0x57b23f[_0x388307(0x25e)]))){if(isPcmMimeType(_0x4cff21)){const _0x382a6d=await _0x3600f4['arrayBuffer'](),_0x529a8c=_0x4cff21[_0x388307(0x185)](/rate=(\d+)/i),_0x27c5c9=_0x529a8c?_0x57b23f[_0x388307(0x1e1)](Number,_0x529a8c[0x1001+-0x7*-0x2cb+-0x238d*0x1]):0x9c2+0x3*0x1b43+0x235*0x1;if(_0x1c673c)_0x57b23f[_0x388307(0x216)](updateTypingIndicator,_0x1c673c,_0x57b23f[_0x388307(0x25b)]);if(_0x207b8d)_0x57b23f['RDFEk'](setVoiceStatus,_0x388307(0x1a7),_0x57b23f['uPaTL']);_0x57b23f['hEimA'](playPcmBufferAsWav,_0x382a6d,_0x27c5c9,function(){const _0x470155=_0x388307;if(_0x1c673c)_0x57b23f[_0x470155(0x1c2)](removeTypingIndicator,_0x1c673c);_0x57b23f[_0x470155(0x19e)](setVoiceStatus,_0x57b23f['dxEuQ'],_0x57b23f[_0x470155(0x199)]);},function(){const _0x997383=_0x388307;if(_0x1c673c)_0x57b23f[_0x997383(0x19e)](updateTypingIndicator,_0x1c673c,_0x57b23f[_0x997383(0x25b)]);if(_0x207b8d)_0x57b23f[_0x997383(0x19e)](setVoiceStatus,_0x57b23f[_0x997383(0x156)],_0x997383(0x27a));});return;}const _0x50f5cb=await _0x3600f4[_0x388307(0x273)]();if(_0x1c673c)_0x57b23f['GaoBy'](updateTypingIndicator,_0x1c673c,_0x57b23f[_0x388307(0x25b)]);if(_0x207b8d)_0x57b23f[_0x388307(0x284)](setVoiceStatus,_0x57b23f['hJbkh'],_0x57b23f[_0x388307(0x208)]);_0x57b23f['ehPrY'](playTtsBlob,_0x50f5cb,function(){const _0xd77ac3=_0x388307;if(_0x1c673c)_0x57b23f[_0xd77ac3(0x1c2)](removeTypingIndicator,_0x1c673c);_0x57b23f['XHZSr'](setVoiceStatus,_0x57b23f[_0xd77ac3(0x1a6)],_0x57b23f[_0xd77ac3(0x199)]);},function(){const _0xabdf28=_0x388307;if(_0x1c673c)_0x57b23f[_0xabdf28(0x128)](updateTypingIndicator,_0x1c673c,_0x57b23f[_0xabdf28(0x25b)]);if(_0x207b8d)_0x57b23f[_0xabdf28(0x297)](setVoiceStatus,_0x57b23f[_0xabdf28(0x156)],_0x57b23f[_0xabdf28(0x208)]);});return;}let _0x12f924=null;try{_0x12f924=await _0x3600f4[_0x388307(0x1e0)]();}catch(_0x32d087){}if(!_0x3600f4['ok']){if(_0x1c673c)_0x57b23f[_0x388307(0x1c2)](removeTypingIndicator,_0x1c673c);setVoiceStatus(_0x57b23f[_0x388307(0x1a6)],_0x388307(0x269)),_0x57b23f[_0x388307(0x1ee)](appendMessage,_0x57b23f['CbVib'],_0x57b23f['coiuy']);return;}if(_0x12f924&&_0x12f924[_0x388307(0x1c3)]){const _0x3cffb0=parsePcmDataUrl(_0x12f924['audioUrl']);if(_0x3cffb0&&isPcmMimeType(_0x3cffb0['mimeType'])){if(_0x1c673c)updateTypingIndicator(_0x1c673c,_0x388307(0x1f6));if(_0x207b8d)_0x57b23f[_0x388307(0x23b)](setVoiceStatus,'speaking',_0x57b23f['uPaTL']);_0x57b23f[_0x388307(0x133)](playPcmBase64AsWav,_0x3cffb0[_0x388307(0x132)],_0x3cffb0[_0x388307(0x214)],function(){const _0x41d381=_0x388307;if(_0x1c673c)_0x57b23f[_0x41d381(0x1e1)](removeTypingIndicator,_0x1c673c);_0x57b23f[_0x41d381(0x236)](setVoiceStatus,_0x41d381(0x1cd),_0x57b23f[_0x41d381(0x199)]);},function(){const _0x2d528d=_0x388307;if(_0x1c673c)_0x57b23f[_0x2d528d(0x19e)](updateTypingIndicator,_0x1c673c,_0x57b23f['MunLs']);if(_0x207b8d)_0x57b23f['RlDIu'](setVoiceStatus,_0x57b23f[_0x2d528d(0x156)],_0x57b23f[_0x2d528d(0x208)]);});return;}if(_0x1c673c)_0x57b23f['RDFEk'](updateTypingIndicator,_0x1c673c,_0x57b23f['MunLs']);if(_0x207b8d)_0x57b23f[_0x388307(0x146)](setVoiceStatus,_0x388307(0x1a7),_0x57b23f['uPaTL']);playTtsAudio(_0x12f924[_0x388307(0x1c3)],function(){const _0x3bc3a1=_0x388307;if(_0x1c673c)_0x57b23f[_0x3bc3a1(0x1c2)](removeTypingIndicator,_0x1c673c);setVoiceStatus(_0x57b23f[_0x3bc3a1(0x1a6)],'Tekan\x20mic\x20untuk\x20mulai');},function(){const _0x27833c=_0x388307;if(_0x1c673c)_0x57b23f[_0x27833c(0x236)](updateTypingIndicator,_0x1c673c,_0x57b23f[_0x27833c(0x25b)]);if(_0x207b8d)_0x57b23f[_0x27833c(0x236)](setVoiceStatus,_0x57b23f['hJbkh'],_0x57b23f[_0x27833c(0x208)]);});return;}const _0x51ca44=_0x12f924&&_0x12f924[_0x388307(0x11b)]&&_0x12f924['audio'][_0x388307(0x1f7)];if(_0x51ca44){const _0x862034=_0x57b23f[_0x388307(0x1e1)](parsePcmDataUrl,_0x51ca44);if(_0x862034&&isPcmMimeType(_0x862034['mimeType'])){if(_0x1c673c)_0x57b23f['WJqXt'](updateTypingIndicator,_0x1c673c,_0x388307(0x1f6));if(_0x207b8d)_0x57b23f[_0x388307(0x232)](setVoiceStatus,_0x57b23f[_0x388307(0x156)],_0x57b23f[_0x388307(0x208)]);_0x57b23f[_0x388307(0x181)](playPcmBase64AsWav,_0x862034[_0x388307(0x132)],_0x862034['sampleRate'],function(){const _0x55c119=_0x388307;if(_0x1c673c)_0x57b23f[_0x55c119(0x1e1)](removeTypingIndicator,_0x1c673c);_0x57b23f[_0x55c119(0x297)](setVoiceStatus,_0x57b23f[_0x55c119(0x1a6)],_0x57b23f['rYbsN']);},function(){const _0x5c2bbd=_0x388307;if(_0x1c673c)_0x57b23f[_0x5c2bbd(0x19e)](updateTypingIndicator,_0x1c673c,_0x57b23f['MunLs']);if(_0x207b8d)_0x57b23f[_0x5c2bbd(0x236)](setVoiceStatus,_0x57b23f[_0x5c2bbd(0x156)],_0x57b23f['uPaTL']);});return;}if(_0x1c673c)_0x57b23f[_0x388307(0x128)](updateTypingIndicator,_0x1c673c,_0x57b23f['MunLs']);if(_0x207b8d)_0x57b23f[_0x388307(0x284)](setVoiceStatus,_0x57b23f['hJbkh'],_0x388307(0x27a));_0x57b23f[_0x388307(0x1d4)](playTtsAudio,_0x51ca44,function(){const _0xd49212=_0x388307;if(_0x1c673c)_0x57b23f[_0xd49212(0x28e)](removeTypingIndicator,_0x1c673c);setVoiceStatus(_0xd49212(0x1cd),_0x57b23f[_0xd49212(0x199)]);},function(){const _0x45833c=_0x388307;if(_0x1c673c)_0x57b23f[_0x45833c(0x18c)](updateTypingIndicator,_0x1c673c,'SuFi\x20sedang\x20berbicara...');if(_0x207b8d)_0x57b23f[_0x45833c(0x103)](setVoiceStatus,_0x57b23f[_0x45833c(0x156)],_0x57b23f[_0x45833c(0x208)]);});return;}const _0x4fd23a=_0x12f924&&(_0x12f924[_0x388307(0x2d6)]||_0x12f924[_0x388307(0x11b)]&&_0x12f924[_0x388307(0x11b)][_0x388307(0x11a)]),_0x1a7a62=_0x12f924&&_0x12f924[_0x388307(0x11b)]&&_0x12f924[_0x388307(0x11b)][_0x388307(0x24c)]||_0x388307(0x1b0);if(_0x4fd23a){if(isPcmMimeType(_0x1a7a62)){const _0x4ca895=_0x1a7a62[_0x388307(0x185)](/rate=(\d+)/i),_0x3ad11c=_0x4ca895?_0x57b23f[_0x388307(0x1c7)](Number,_0x4ca895[-0x9dc+0xbe1+-0x204]):-0x8b9d+0x3234+-0x1*-0xb729;if(_0x1c673c)_0x57b23f[_0x388307(0x1c5)](updateTypingIndicator,_0x1c673c,_0x57b23f[_0x388307(0x25b)]);if(_0x207b8d)_0x57b23f['GlpoU'](setVoiceStatus,_0x57b23f[_0x388307(0x156)],_0x57b23f[_0x388307(0x208)]);_0x57b23f[_0x388307(0x181)](playPcmBase64AsWav,_0x4fd23a,_0x3ad11c,function(){const _0x1c1e92=_0x388307;if(_0x1c673c)_0x57b23f[_0x1c1e92(0x1e1)](removeTypingIndicator,_0x1c673c);_0x57b23f[_0x1c1e92(0x18c)](setVoiceStatus,_0x1c1e92(0x1cd),_0x57b23f[_0x1c1e92(0x199)]);},function(){const _0xfb98de=_0x388307;if(_0x1c673c)_0x57b23f[_0xfb98de(0x2dd)](updateTypingIndicator,_0x1c673c,_0x57b23f[_0xfb98de(0x25b)]);if(_0x207b8d)_0x57b23f[_0xfb98de(0x2c5)](setVoiceStatus,_0x57b23f[_0xfb98de(0x156)],_0x57b23f[_0xfb98de(0x208)]);});}else{if(_0x1c673c)updateTypingIndicator(_0x1c673c,_0x388307(0x1f6));if(_0x207b8d)_0x57b23f[_0x388307(0x127)](setVoiceStatus,_0x57b23f[_0x388307(0x156)],_0x57b23f['uPaTL']);_0x57b23f['QLtAe'](playTtsBase64,_0x4fd23a,_0x1a7a62,function(){const _0x2f878f=_0x388307;if(_0x1c673c)_0x57b23f['DsWQe'](removeTypingIndicator,_0x1c673c);setVoiceStatus(_0x57b23f[_0x2f878f(0x1a6)],_0x57b23f[_0x2f878f(0x199)]);},function(){const _0x182964=_0x388307;if(_0x1c673c)_0x57b23f[_0x182964(0x284)](updateTypingIndicator,_0x1c673c,_0x57b23f['MunLs']);if(_0x207b8d)setVoiceStatus(_0x57b23f['hJbkh'],_0x57b23f[_0x182964(0x208)]);});}return;}const _0xa4898b=_0x12f924&&_0x12f924[_0x388307(0x27f)]&&_0x12f924['candidates'][-0xf*0x67+0x125b*-0x1+0x1864]&&_0x12f924['candidates'][-0x9cf+0x1*0x18b9+-0xeea][_0x388307(0x1dd)]&&_0x12f924[_0x388307(0x27f)][0x170*0x3+0x1bb0+0x80*-0x40][_0x388307(0x1dd)][_0x388307(0x170)]&&_0x12f924['candidates'][-0x986*-0x4+-0x30d*0xb+-0x183*0x3][_0x388307(0x1dd)][_0x388307(0x170)][-0x19ec+0xd15*0x2+-0x3e]&&_0x12f924['candidates'][0x18f+-0x11ef+-0x20c*-0x8][_0x388307(0x1dd)]['parts'][0x49*0x2b+0xf3a*0x2+-0xf3*0x2d]['inlineData'];if(_0xa4898b&&_0xa4898b[_0x388307(0x11a)]){const _0x246c80=_0xa4898b[_0x388307(0x24c)]||_0x57b23f[_0x388307(0x1fa)];if(_0x57b23f[_0x388307(0x22b)](isPcmMimeType,_0x246c80)){const _0x50eb92=_0x246c80[_0x388307(0x185)](/rate=(\d+)/i),_0x4b35bd=_0x50eb92?_0x57b23f[_0x388307(0x139)](Number,_0x50eb92[0x37*-0x29+-0xfa2+0x2*0xc39]):0x284+0x297f+0x31bd;if(_0x1c673c)updateTypingIndicator(_0x1c673c,_0x388307(0x1f6));if(_0x207b8d)_0x57b23f['GlpoU'](setVoiceStatus,_0x388307(0x1a7),_0x57b23f[_0x388307(0x208)]);playPcmBase64AsWav(_0xa4898b['data'],_0x4b35bd,function(){const _0xcdd86e=_0x388307;if(_0x1c673c)_0x57b23f[_0xcdd86e(0x28e)](removeTypingIndicator,_0x1c673c);_0x57b23f['RlDIu'](setVoiceStatus,_0xcdd86e(0x1cd),_0x57b23f[_0xcdd86e(0x199)]);},function(){const _0x5a3cab=_0x388307;if(_0x1c673c)_0x57b23f[_0x5a3cab(0x28d)](updateTypingIndicator,_0x1c673c,_0x5a3cab(0x1f6));if(_0x207b8d)setVoiceStatus(_0x57b23f['hJbkh'],_0x57b23f[_0x5a3cab(0x208)]);});}else{if(_0x1c673c)_0x57b23f[_0x388307(0x138)](updateTypingIndicator,_0x1c673c,_0x57b23f[_0x388307(0x25b)]);if(_0x207b8d)_0x57b23f['fjgjJ'](setVoiceStatus,_0x57b23f['hJbkh'],_0x57b23f[_0x388307(0x208)]);_0x57b23f[_0x388307(0x259)](playTtsBase64,_0xa4898b[_0x388307(0x11a)],_0x246c80,function(){const _0x3018af=_0x388307;if(_0x1c673c)removeTypingIndicator(_0x1c673c);_0x57b23f[_0x3018af(0x254)](setVoiceStatus,_0x3018af(0x1cd),_0x57b23f[_0x3018af(0x199)]);},function(){const _0x2d452f=_0x388307;if(_0x1c673c)updateTypingIndicator(_0x1c673c,_0x57b23f[_0x2d452f(0x25b)]);if(_0x207b8d)_0x57b23f[_0x2d452f(0x297)](setVoiceStatus,_0x2d452f(0x1a7),_0x57b23f[_0x2d452f(0x208)]);});}return;}if(_0x1c673c)_0x57b23f[_0x388307(0x120)](removeTypingIndicator,_0x1c673c);_0x57b23f['WKFTt'](setVoiceStatus,_0x57b23f[_0x388307(0x1a6)],_0x57b23f['rYbsN']),_0x57b23f[_0x388307(0x138)](appendMessage,_0x57b23f['CbVib'],_0x57b23f[_0x388307(0x1a8)]);}async function sendVoiceMessage(_0x461607){const _0x36f017=_0x36f41d,_0x5b42c5={'luDFS':function(_0xfbce14,_0x38f9c0){return _0xfbce14||_0x38f9c0;},'gSyKw':function(_0x25885c,_0x1c82f4,_0x192f45){return _0x25885c(_0x1c82f4,_0x192f45);},'oWfLV':_0x36f017(0x14e),'dAUMJ':function(_0x2a0a14,_0x4aa667,_0x2fa626){return _0x2a0a14(_0x4aa667,_0x2fa626);},'KLJMb':_0x36f017(0x2cd),'IEMCZ':function(_0x4fe35f,_0x2e48fb){return _0x4fe35f===_0x2e48fb;},'VDQkS':'voice','uHTCb':function(_0x2e9103,_0x30587e){return _0x2e9103(_0x30587e);},'TqIAr':'SuFi\x20sedang\x20berfikir...','mDbLP':function(_0x1e37b3,_0x207b23){return _0x1e37b3(_0x207b23);},'ypuba':'prompt','HeYiW':function(_0x279501,_0xbe8124,_0x3ed7bf){return _0x279501(_0xbe8124,_0x3ed7bf);},'GKllL':_0x36f017(0x19c),'cmYOD':_0x36f017(0x2a3),'mcxsm':_0x36f017(0x15b),'mQGGj':'string','eXbDQ':function(_0x2df035,_0x16807c,_0x22b3b0){return _0x2df035(_0x16807c,_0x22b3b0);},'rXhTd':_0x36f017(0x14f),'CosaU':function(_0x2e0f61,_0x36406d){return _0x2e0f61||_0x36406d;},'dLoYZ':function(_0x475bb3,_0x2b29cc){return _0x475bb3(_0x2b29cc);},'JSPFL':_0x36f017(0x1cd),'vxnJa':_0x36f017(0x269),'jNFsV':'Maaf,\x20saya\x20sedang\x20gangguan.\x20Coba\x20lagi\x20nanti.','StyeS':function(_0x3c8f58,_0x6eaf42){return _0x3c8f58(_0x6eaf42);},'UUfFe':function(_0x1bad92,_0x42aaf6,_0x4c50ba){return _0x1bad92(_0x42aaf6,_0x4c50ba);},'CCLbp':function(_0x109e3a,_0x96e27,_0x10b403){return _0x109e3a(_0x96e27,_0x10b403);},'nhyrZ':_0x36f017(0x18a),'eVlMW':function(_0x48ccd9,_0xca3890){return _0x48ccd9(_0xca3890);}},_0xbab6df=_0x5b42c5[_0x36f017(0x162)](_0x461607,'')[_0x36f017(0x112)]();if(!_0xbab6df)return;chatInput['value']='',chatInput['style'][_0x36f017(0x280)]=_0x36f017(0x29c),_0x5b42c5[_0x36f017(0x10f)](appendMessage,_0x5b42c5[_0x36f017(0x266)],_0xbab6df),_0x5b42c5[_0x36f017(0x1ce)](setVoiceStatus,_0x36f017(0x230),_0x5b42c5[_0x36f017(0x211)]),setInputState(!![]);const _0x4c3995=_0x5b42c5[_0x36f017(0x1d6)](currentMode,_0x5b42c5[_0x36f017(0x160)])?null:_0x5b42c5[_0x36f017(0x261)](showTypingIndicator,_0x5b42c5['TqIAr']);try{const _0x35dabd=new FormData(),_0x29f234=_0x5b42c5[_0x36f017(0x191)](buildChatPrompt,_0xbab6df);_0x35dabd[_0x36f017(0x2ac)](_0x5b42c5[_0x36f017(0x130)],_0x29f234);const _0x46c533=await _0x5b42c5[_0x36f017(0x233)](fetch,_0x5b42c5[_0x36f017(0x1ea)],{'method':_0x5b42c5[_0x36f017(0x24f)],'cache':_0x5b42c5[_0x36f017(0x1cc)],'body':_0x35dabd}),_0x15477d=await _0x46c533['json']();if(_0x15477d[_0x36f017(0x2da)]||_0x15477d[_0x36f017(0x257)]){const _0x2fb61e=_0x15477d['response']||_0x15477d[_0x36f017(0x27f)]?.[0x1c13+-0x71*-0x9+-0x200c*0x1]?.[_0x36f017(0x1dd)]?.[_0x36f017(0x170)]?.[-0x36a+0xb*0xb1+0x1d*-0x25]?.['text'],_0x1bd44b=_0x5b42c5['IEMCZ'](typeof _0x2fb61e,_0x5b42c5['mQGGj'])?_0x2fb61e[_0x36f017(0x112)]():'';if(_0x4c3995)await _0x5b42c5[_0x36f017(0x191)](showAnsweredStatus,_0x4c3995);_0x5b42c5[_0x36f017(0x1e8)](setVoiceStatus,_0x36f017(0x24d),_0x36f017(0x1a0)),appendMessage(_0x5b42c5[_0x36f017(0x289)],_0x5b42c5[_0x36f017(0x25f)](_0x1bd44b,'')),_0x1bd44b&&await requestTtsAudio(_0x1bd44b);}else{if(_0x4c3995)_0x5b42c5[_0x36f017(0x174)](removeTypingIndicator,_0x4c3995);_0x5b42c5[_0x36f017(0x10f)](setVoiceStatus,_0x5b42c5['JSPFL'],_0x5b42c5['vxnJa']),_0x5b42c5[_0x36f017(0x1e8)](appendMessage,_0x5b42c5['rXhTd'],_0x5b42c5['jNFsV']);}}catch(_0x27d7b3){if(_0x4c3995)_0x5b42c5[_0x36f017(0x213)](removeTypingIndicator,_0x4c3995);_0x5b42c5[_0x36f017(0x265)](setVoiceStatus,_0x5b42c5[_0x36f017(0x134)],_0x5b42c5[_0x36f017(0x1ac)]),_0x5b42c5[_0x36f017(0x20f)](appendMessage,_0x5b42c5[_0x36f017(0x289)],_0x5b42c5[_0x36f017(0x27b)]);}finally{_0x5b42c5[_0x36f017(0x2b8)](setInputState,![]);}}async function sendChatMessage(){const _0x1073e6=_0x36f41d,_0xbcacbc={'eWYLS':function(_0x1b0335,_0x505e24){return _0x1b0335&&_0x505e24;},'dIytJ':'auto','wlave':_0x1073e6(0x168),'CuYFn':function(_0x5844,_0x22afa9){return _0x5844/_0x22afa9;},'ApBBk':function(_0x1d8d02,_0x383418){return _0x1d8d02/_0x383418;},'weBxz':function(_0x3096e5,_0x1f1ae6){return _0x3096e5/_0x1f1ae6;},'PQpno':function(_0x38f614,_0x72c0c1){return _0x38f614-_0x72c0c1;},'nyQrO':function(_0x4db97a,_0x140e3e){return _0x4db97a<_0x140e3e;},'HRLMN':_0x1073e6(0x14e),'jWPSX':function(_0x573252){return _0x573252();},'acQRs':function(_0x1bf8cd,_0x20eeaa){return _0x1bf8cd(_0x20eeaa);},'VdWNI':_0x1073e6(0x21f),'kXmOQ':function(_0x1ed6ca,_0x16b093,_0x4e706a){return _0x1ed6ca(_0x16b093,_0x4e706a);},'xgrLe':'SuFi\x20sedang\x20berfikir...','sRpJK':function(_0x6861d8,_0x30ed58){return _0x6861d8===_0x30ed58;},'ZKZOX':'Mengoptimalkan\x20prompt...','bIgNA':function(_0x406cd9,_0x1dd7d4,_0x579b50){return _0x406cd9(_0x1dd7d4,_0x579b50);},'laMKD':'Refine\x20this\x20user\x20request\x20into\x20a\x20high\x20quality\x20image\x20generation\x20prompt\x20(English).\x20User\x20request:\x20\x22{text}\x22.\x20Output\x20ONLY\x20the\x20prompt.','OUyhR':function(_0x35f7a3,_0x322f94,_0x16c4ae){return _0x35f7a3(_0x322f94,_0x16c4ae);},'nJGBs':_0x1073e6(0x19c),'cEVsO':_0x1073e6(0x2a3),'DRKfY':_0x1073e6(0x14f),'wRbxO':_0x1073e6(0x117),'qLyKc':_0x1073e6(0x189),'yKkWB':function(_0x51f3d8,_0x24855b,_0x4eb7db){return _0x51f3d8(_0x24855b,_0x4eb7db);},'mEMGf':_0x1073e6(0x21a),'JKCdC':function(_0x1ade42,_0x3c8869,_0x41697b,_0x234347){return _0x1ade42(_0x3c8869,_0x41697b,_0x234347);},'EUDQj':'Maaf,\x20saya\x20gagal\x20membuat\x20gambar.\x20Pastikan\x20instruksi\x20jelas\x20atau\x20coba\x20upload\x20gambar\x20referensi.','duAxY':'Mengoptimalkan\x20instruksi...','llEGP':function(_0x23a73a,_0x387fe4){return _0x23a73a||_0x387fe4;},'RBOrY':_0x1073e6(0x221),'HNGFG':_0x1073e6(0x183),'lKvGB':_0x1073e6(0x1bb),'MPZlc':_0x1073e6(0x15b),'TNwBK':function(_0x772a66,_0x280219){return _0x772a66(_0x280219);},'VXwyt':_0x1073e6(0x197),'BMwYz':function(_0x43d4f7,_0x5e0306){return _0x43d4f7(_0x5e0306);},'IhsET':function(_0x5dd264,_0x13a6d9,_0x3cb398,_0x5431a2){return _0x5dd264(_0x13a6d9,_0x3cb398,_0x5431a2);},'aOYsD':'Gagal\x20memproses\x20gambar.\x20Silakan\x20coba\x20lagi.','pVgvE':_0x1073e6(0x24a),'dMnfi':function(_0x541d83,_0x41b0cb,_0x80d360){return _0x541d83(_0x41b0cb,_0x80d360);},'xFLPn':_0x1073e6(0x24d),'hGrOc':_0x1073e6(0x1a0),'aYnyu':function(_0x468bc6,_0x36c3dc){return _0x468bc6(_0x36c3dc);},'KMDxU':function(_0x33bac4,_0x39eef5){return _0x33bac4(_0x39eef5);},'PqrXj':_0x1073e6(0x293),'qyeQf':function(_0x3661e7,_0x31d972){return _0x3661e7(_0x31d972);}},_0x22469e=chatInput[_0x1073e6(0x182)]['trim']();if(_0xbcacbc['eWYLS'](!_0x22469e,!currentChatImage))return;chatInput['value']='',chatInput['style']['height']=_0xbcacbc[_0x1073e6(0x198)];let _0x4f9bfa=null,_0x3be60f=_0xbcacbc[_0x1073e6(0x25a)];if(currentChatImage){_0x4f9bfa=chatImagePreview[_0x1073e6(0x1f4)];if(chatImagePreview[_0x1073e6(0x22c)]&&chatImagePreview[_0x1073e6(0x219)]){const _0x5b6174=chatImagePreview['naturalWidth'],_0xf3c028=chatImagePreview[_0x1073e6(0x219)],_0x2f9455=_0xbcacbc[_0x1073e6(0x161)](_0x5b6174,_0xf3c028),_0x5d3759={'1:1':0x1,'16:9':_0xbcacbc[_0x1073e6(0x226)](0x1*0x1c2b+-0x1fc0+0x3a5,0x449+0x2477+0x7*-0x5d1),'9:16':_0xbcacbc[_0x1073e6(0x161)](0xffa+0x104f+-0x158*0x18,0x1a1b*-0x1+0x29*-0x29+-0x5*-0x68c),'4:3':_0xbcacbc[_0x1073e6(0x226)](-0x7aa*-0x1+0x24f5*0x1+0x2c9b*-0x1,-0x174f+-0x15c4+0x2d16),'3:4':_0xbcacbc[_0x1073e6(0x161)](-0x9f4*0x2+-0xef*0x25+0x3676,0x6*-0x4d9+-0x1cd7+0x5b*0xa3),'21:9':(0x5*-0x761+-0x222e+0x9*0x7e8)/(-0x1*0x403+-0xe5d*-0x1+-0x1*0xa51),'9:21':_0xbcacbc['weBxz'](0xf5f+0x17f3+-0x2749,0x12d5+0x2534+-0x37f4*0x1)};let _0x854593=Infinity;for(const [_0x4d5cb6,_0x56d65f]of Object[_0x1073e6(0x104)](_0x5d3759)){const _0xed4400=Math[_0x1073e6(0x206)](_0xbcacbc['PQpno'](_0x2f9455,_0x56d65f));_0xbcacbc[_0x1073e6(0x143)](_0xed4400,_0x854593)&&(_0x854593=_0xed4400,_0x3be60f=_0x4d5cb6);}console['log']('Detected\x20image\x20ratio:\x20'+_0x5b6174+'x'+_0xf3c028+'\x20('+_0x2f9455[_0x1073e6(0x27e)](0x1*0x1cdb+-0x1*-0x190a+-0x35e3)+_0x1073e6(0x14b)+_0x3be60f);}}appendMessage(_0xbcacbc[_0x1073e6(0x1b7)],_0x22469e,_0x4f9bfa);const _0x589222=currentChatImage;_0xbcacbc[_0x1073e6(0x286)](clearChatImage),_0xbcacbc['acQRs'](setInputState,!![]);const _0x3468ce=_0xbcacbc[_0x1073e6(0x286)](showTypingIndicator);currentMode!==_0xbcacbc[_0x1073e6(0x2a9)]&&_0xbcacbc[_0x1073e6(0x14a)](updateTypingIndicator,_0x3468ce,_0xbcacbc[_0x1073e6(0x203)]);try{if(_0xbcacbc[_0x1073e6(0x1f9)](currentMode,_0x1073e6(0x21f))){if(!_0x589222){updateTypingIndicator(_0x3468ce,_0xbcacbc[_0x1073e6(0x13c)]);const _0x44a1b9=new FormData();_0x44a1b9[_0x1073e6(0x2ac)](_0x1073e6(0x202),_0xbcacbc['bIgNA'](buildRefinePrompt,_0xbcacbc[_0x1073e6(0x275)],_0x22469e));const _0x48ea2c=await _0xbcacbc['OUyhR'](fetch,_0xbcacbc[_0x1073e6(0x165)],{'method':_0xbcacbc[_0x1073e6(0x2c6)],'cache':_0x1073e6(0x15b),'body':_0x44a1b9}),_0x53d2dc=await _0x48ea2c[_0x1073e6(0x1e0)](),_0x225a81=_0x53d2dc['response']||_0x22469e;_0xbcacbc[_0x1073e6(0x209)](removeTypingIndicator,_0x3468ce),_0xbcacbc[_0x1073e6(0x14a)](appendMessage,_0xbcacbc['DRKfY'],_0x1073e6(0x2d8)+_0x225a81);const _0x8e315f=_0xbcacbc['acQRs'](showTypingIndicator,_0xbcacbc[_0x1073e6(0x141)]),_0x11e5e2=new FormData();_0x11e5e2[_0x1073e6(0x2ac)](_0xbcacbc[_0x1073e6(0xf9)],_0x225a81),_0x11e5e2[_0x1073e6(0x2ac)]('aspectRatio','1:1');const _0x8770ab=await _0xbcacbc[_0x1073e6(0x1c6)](fetch,_0xbcacbc['mEMGf'],{'method':_0xbcacbc[_0x1073e6(0x2c6)],'cache':_0x1073e6(0x15b),'body':_0x11e5e2}),_0x2ce904=await _0x8770ab[_0x1073e6(0x1e0)]();removeTypingIndicator(_0x8e315f);if(_0x2ce904[_0x1073e6(0x2da)]&&_0x2ce904[_0x1073e6(0x113)]){_0xbcacbc[_0x1073e6(0x25c)](appendMessage,_0x1073e6(0x14f),_0x1073e6(0x1b3),_0x2ce904[_0x1073e6(0x113)]);if(window['playSuccessSound'])window[_0x1073e6(0x23d)]();}else{_0xbcacbc[_0x1073e6(0x14a)](appendMessage,_0xbcacbc[_0x1073e6(0x190)],_0xbcacbc[_0x1073e6(0x1f3)]);if(window['playErrorSound'])window['playErrorSound']();}}else{_0xbcacbc[_0x1073e6(0x1c6)](updateTypingIndicator,_0x3468ce,_0xbcacbc[_0x1073e6(0x193)]);const _0x1144f6=_0xbcacbc[_0x1073e6(0x125)](_0x22469e,_0xbcacbc['RBOrY']),_0x48790e=new FormData();_0x48790e[_0x1073e6(0x2ac)](_0x1073e6(0x202),_0xbcacbc[_0x1073e6(0x14a)](buildRefinePrompt,_0xbcacbc[_0x1073e6(0x16d)],_0x1144f6)),_0x48790e[_0x1073e6(0x2ac)](_0xbcacbc['lKvGB'],_0x589222);const _0x132fe0=await fetch(_0xbcacbc[_0x1073e6(0x165)],{'method':_0xbcacbc[_0x1073e6(0x2c6)],'cache':_0xbcacbc[_0x1073e6(0x177)],'body':_0x48790e}),_0x5ed99a=await _0x132fe0[_0x1073e6(0x1e0)](),_0x4e6ee7=_0x5ed99a[_0x1073e6(0x257)]||_0x1144f6;_0xbcacbc[_0x1073e6(0x22e)](removeTypingIndicator,_0x3468ce),appendMessage(_0xbcacbc[_0x1073e6(0x190)],_0x1073e6(0x13e)+_0x4e6ee7);const _0x5ab26d=showTypingIndicator(_0xbcacbc[_0x1073e6(0xf7)]),_0x4623bf=new FormData();_0x4623bf[_0x1073e6(0x2ac)](_0xbcacbc[_0x1073e6(0xf9)],_0x4e6ee7),_0x4623bf['append'](_0xbcacbc['lKvGB'],_0x589222),_0x4623bf['append'](_0x1073e6(0x1ca),_0x3be60f);const _0x13976b=await _0xbcacbc[_0x1073e6(0x21b)](fetch,_0x1073e6(0x21a),{'method':_0xbcacbc['cEVsO'],'cache':_0xbcacbc['MPZlc'],'body':_0x4623bf}),_0xe98a4=await _0x13976b[_0x1073e6(0x1e0)]();_0xbcacbc[_0x1073e6(0x1da)](removeTypingIndicator,_0x5ab26d);if(_0xe98a4['success']&&_0xe98a4[_0x1073e6(0x113)]){_0xbcacbc[_0x1073e6(0x2c1)](appendMessage,_0xbcacbc[_0x1073e6(0x190)],'Selesai!\x20Ini\x20hasilnya:',_0xe98a4[_0x1073e6(0x113)]);if(window[_0x1073e6(0x23d)])window['playSuccessSound']();}else{_0xbcacbc[_0x1073e6(0x14a)](appendMessage,_0xbcacbc['DRKfY'],_0xbcacbc[_0x1073e6(0x1d1)]);if(window[_0x1073e6(0x150)])window[_0x1073e6(0x150)]();}}}else{const _0x2d30a5=new FormData(),_0x5a513d=_0xbcacbc[_0x1073e6(0x22e)](buildChatPrompt,_0x22469e);_0x2d30a5[_0x1073e6(0x2ac)](_0x1073e6(0x202),_0x5a513d);_0x589222&&_0x2d30a5[_0x1073e6(0x2ac)](_0xbcacbc[_0x1073e6(0x229)],_0x589222);const _0xea8be2=await _0xbcacbc[_0x1073e6(0x1c6)](fetch,_0xbcacbc[_0x1073e6(0x165)],{'method':'POST','cache':_0xbcacbc['MPZlc'],'body':_0x2d30a5}),_0x23c794=await _0xea8be2['json']();if(_0x23c794[_0x1073e6(0x2da)]||_0x23c794['response']){const _0x387a5b=_0x23c794['response']||_0x23c794[_0x1073e6(0x27f)]?.[0x1*0x1517+-0x2b*-0x19+-0x194a]?.[_0x1073e6(0x1dd)]?.[_0x1073e6(0x170)]?.[-0x2686*-0x1+-0xe60*-0x2+-0x4346]?.['text'],_0x392f51=typeof _0x387a5b===_0x1073e6(0x116)?_0x387a5b[_0x1073e6(0x112)]():'';await showAnsweredStatus(_0x3468ce),_0xbcacbc[_0x1073e6(0x1c6)](appendMessage,_0xbcacbc[_0x1073e6(0x190)],_0x392f51||''),_0xbcacbc[_0x1073e6(0x1f9)](currentMode,_0xbcacbc[_0x1073e6(0x264)])&&_0x392f51&&(_0xbcacbc['dMnfi'](setVoiceStatus,_0xbcacbc[_0x1073e6(0x1e5)],_0xbcacbc[_0x1073e6(0x1af)]),await _0xbcacbc[_0x1073e6(0x145)](requestTtsAudio,_0x392f51));}else _0xbcacbc['KMDxU'](removeTypingIndicator,_0x3468ce),appendMessage(_0xbcacbc['DRKfY'],_0xbcacbc[_0x1073e6(0x1ff)]);}}catch(_0x43eff5){console[_0x1073e6(0x2b2)](_0x43eff5),_0xbcacbc[_0x1073e6(0x1f0)](removeTypingIndicator,_0x3468ce),_0xbcacbc['kXmOQ'](appendMessage,_0xbcacbc[_0x1073e6(0x190)],_0x1073e6(0x18a));}finally{setInputState(![]);}}