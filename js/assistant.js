const _0x37c01f=_0x3494;(function(_0x384358,_0xe77ec3){const _0x4e3704=_0x3494,_0x59788b=_0x384358();while(!![]){try{const _0x253416=-parseInt(_0x4e3704(0x136))/(0x1301+0x1c11+0x1*-0x2f11)*(parseInt(_0x4e3704(0x25c))/(0x2675+0x7cc+-0x2e3f))+-parseInt(_0x4e3704(0x23a))/(-0x31f*-0x5+0x1*0x425+-0x1*0x13bd)*(parseInt(_0x4e3704(0x159))/(-0x668+-0x1ba6+0x2212))+-parseInt(_0x4e3704(0xe2))/(0x1c7b+-0x321*0x9+-0x4d)*(parseInt(_0x4e3704(0x1fd))/(-0x1d41+-0x1*-0x1591+0x7b6))+parseInt(_0x4e3704(0xf0))/(0x1021+0x5ff+0x1619*-0x1)+parseInt(_0x4e3704(0x167))/(-0x11a6+0x13*0x164+-0x8be)+parseInt(_0x4e3704(0x23b))/(-0x16e9*-0x1+-0xdb1+0x1*-0x92f)*(parseInt(_0x4e3704(0xfe))/(-0x6a*0x23+0x2034+0x8d6*-0x2))+parseInt(_0x4e3704(0xd4))/(-0x466*0x2+-0xc2a+0x1501);if(_0x253416===_0xe77ec3)break;else _0x59788b['push'](_0x59788b['shift']());}catch(_0x345c1c){_0x59788b['push'](_0x59788b['shift']());}}}(_0x3211,0x6e410+-0x54734+0x2a6f5));var assistantModal=document[_0x37c01f(0x189)](_0x37c01f(0x200)),chatContainer=document[_0x37c01f(0x189)](_0x37c01f(0x137)),chatInput=document[_0x37c01f(0x189)](_0x37c01f(0xc6)),chatFileInput=document[_0x37c01f(0x189)](_0x37c01f(0x177)),chatImagePreviewContainer=document[_0x37c01f(0x189)](_0x37c01f(0x1c0)),chatImagePreview=document[_0x37c01f(0x189)](_0x37c01f(0x202)),chatSendBtn=document[_0x37c01f(0x189)](_0x37c01f(0xa5)),chatImageBtn=document['getElementById']('chat-image-btn'),voiceMicBtn=document[_0x37c01f(0x189)](_0x37c01f(0x117)),voiceUi=document['getElementById']('voice-ui'),voiceOrb=document[_0x37c01f(0x189)](_0x37c01f(0x204)),voiceStatus=document[_0x37c01f(0x189)](_0x37c01f(0xf6)),voiceStatusText=document['getElementById'](_0x37c01f(0x109)),voiceStatusIcon=document['getElementById']('voice-status-icon'),aiResponseAudio=new Audio(_0x37c01f(0x192)),currentChatImage=null,currentMode=null,voiceRecognizer=null,isVoiceListening=![],isVoiceStarting=![],ttsAudio=null,CHAT_HISTORY_KEY=_0x37c01f(0xac),CHAT_HISTORY_LIMIT=-0x347*-0x1+-0x91*-0x44+-0x7*0x5f5;function loadChatHistory(){const _0x2c1541=_0x37c01f,_0x524852={'bGlCA':function(_0xdabcc,_0x2ec770){return _0xdabcc===_0x2ec770;},'ARiuY':'object','bsCDQ':_0x2c1541(0x222),'fipnN':function(_0x161232,_0x1cbd61){return _0x161232!==_0x1cbd61;}};try{const _0x2dc140=_0x2c1541(0x1b5)['split']('|');let _0x5c4934=-0x56a+0x963+-0x1*0x3f9;while(!![]){switch(_0x2dc140[_0x5c4934++]){case'0':var _0x2d6143=localStorage[_0x2c1541(0x12a)](CHAT_HISTORY_KEY);continue;case'1':if(!_0x2d6143)return[];continue;case'2':if(!Array[_0x2c1541(0xcb)](_0x3c86e1))return[];continue;case'3':var _0x3c86e1=JSON[_0x2c1541(0x210)](_0x2d6143);continue;case'4':return _0x3c86e1['filter'](function(_0x4cf49){const _0x46a03e=_0x2c1541;return _0x4cf49&&_0x524852[_0x46a03e(0x1c1)](typeof _0x4cf49,_0x524852[_0x46a03e(0xaf)])&&typeof _0x4cf49[_0x46a03e(0x1b2)]===_0x524852[_0x46a03e(0x183)]&&_0x524852[_0x46a03e(0x154)](_0x4cf49['text'][_0x46a03e(0x1cf)](),'');});}break;}}catch(_0x372739){return[];}}function saveChatHistory(_0x4dfe95){const _0x23fd60=_0x37c01f;try{localStorage[_0x23fd60(0x1c2)](CHAT_HISTORY_KEY,JSON['stringify'](_0x4dfe95));}catch(_0x157f70){}}function addChatHistory(_0x513595,_0x2de94d){const _0x31ad38=_0x37c01f,_0x37c427={'xQFAB':'4|1|3|0|5|2','kxlzG':function(_0x5102e2,_0x23100b){return _0x5102e2===_0x23100b;},'yrmbZ':_0x31ad38(0x19c),'RnVHk':function(_0x4e4130,_0x224355){return _0x4e4130||_0x224355;},'GkwvV':_0x31ad38(0x158),'XnKsK':function(_0xcf0d42,_0x5b9b58){return _0xcf0d42||_0x5b9b58;},'JZiES':function(_0x43f69b,_0x450477){return _0x43f69b>_0x450477;}},_0x303e6d=_0x37c427['xQFAB'][_0x31ad38(0x1ed)]('|');let _0x3d0e49=-0x1be3+-0x5e5*0x1+0x21c8;while(!![]){switch(_0x303e6d[_0x3d0e49++]){case'0':_0x587447[_0x31ad38(0x14b)]({'role':_0x37c427[_0x31ad38(0x1bd)](_0x513595,_0x37c427[_0x31ad38(0xd7)])?_0x37c427[_0x31ad38(0xd7)]:_0x31ad38(0x10f),'text':_0x25005d,'mode':_0x37c427['RnVHk'](currentMode,_0x37c427['GkwvV']),'ts':Date[_0x31ad38(0x1b0)]()});continue;case'1':if(!_0x25005d)return;continue;case'2':saveChatHistory(_0x587447);continue;case'3':var _0x587447=loadChatHistory();continue;case'4':var _0x25005d=_0x37c427[_0x31ad38(0x22e)](_0x2de94d,'')[_0x31ad38(0x1cf)]();continue;case'5':_0x37c427['JZiES'](_0x587447[_0x31ad38(0xf5)],CHAT_HISTORY_LIMIT)&&(_0x587447=_0x587447[_0x31ad38(0xa8)](_0x587447[_0x31ad38(0xf5)]-CHAT_HISTORY_LIMIT));continue;}break;}}function buildContextLines(_0x15303e){const _0x29f758=_0x37c01f,_0x363e97={'XGBob':function(_0x5706b3,_0x3987b3){return _0x5706b3===_0x3987b3;},'DdMQO':'user','vVVdu':_0x29f758(0xdf),'AwEIc':_0x29f758(0x201),'KhZTQ':function(_0xc35b52,_0x330ef2){return _0xc35b52+_0x330ef2;},'uIOBn':function(_0x16a6c5){return _0x16a6c5();},'KShuB':function(_0xd0fb44,_0x51a1e6){return _0xd0fb44-_0x51a1e6;},'ENhuK':function(_0x367c99,_0x6dcc36){return _0x367c99===_0x6dcc36;}};var _0x566191=_0x363e97[_0x29f758(0x213)](loadChatHistory);if(_0x566191[_0x29f758(0xf5)]&&_0x15303e){var _0x46e0e4=_0x566191[_0x363e97[_0x29f758(0x25b)](_0x566191[_0x29f758(0xf5)],0x25a*0x1+-0x1529+-0x1c*-0xac)];_0x46e0e4&&_0x363e97[_0x29f758(0x1d8)](_0x46e0e4[_0x29f758(0x22c)],_0x363e97[_0x29f758(0xde)])&&_0x363e97[_0x29f758(0x229)](_0x46e0e4[_0x29f758(0x1b2)],_0x15303e)&&(_0x566191=_0x566191[_0x29f758(0xa8)](-0x7*0x2d4+0x8d2+0xafa,-(-0x242e+-0x1*0x2265+0x4694)));}return _0x566191[_0x29f758(0x1c3)](function(_0x16b870){const _0x396615=_0x29f758;var _0x310917=_0x363e97[_0x396615(0x229)](_0x16b870[_0x396615(0x22c)],_0x363e97[_0x396615(0xde)])?_0x363e97[_0x396615(0x102)]:_0x363e97['AwEIc'];return _0x363e97[_0x396615(0x224)](_0x310917+':\x20',_0x16b870[_0x396615(0x1b2)]);});}function _0x3494(_0xae9844,_0x19f26b){_0xae9844=_0xae9844-(0x2*0x1029+0x8f+0x1*-0x204b);const _0x5b53d8=_0x3211();let _0x5187a0=_0x5b53d8[_0xae9844];return _0x5187a0;}function buildChatPrompt(_0x673a4a){const _0x191a8a=_0x37c01f,_0x358763={'afizB':function(_0x40f88f,_0x5e1d4f){return _0x40f88f(_0x5e1d4f);},'hnlpV':function(_0x20c49f,_0x1a07b2){return _0x20c49f+_0x1a07b2;},'VYLTk':_0x191a8a(0x23c),'YxQuN':function(_0x481f3a,_0x507760){return _0x481f3a+_0x507760;},'Cgrap':function(_0x2bff13,_0x5d33e4){return _0x2bff13+_0x5d33e4;},'sdlZO':_0x191a8a(0x1da)};var _0x1adc93=_0x358763[_0x191a8a(0x96)](buildContextLines,_0x673a4a),_0x218bea=_0x1adc93[_0x191a8a(0xf5)]?_0x358763['hnlpV'](_0x358763['hnlpV'](_0x191a8a(0xcc),_0x1adc93[_0x191a8a(0x1d2)]('\x0a')),'\x0a\x0a'):'',_0x105112=_0x358763[_0x191a8a(0xd1)];return _0x358763[_0x191a8a(0x24c)](_0x358763[_0x191a8a(0x22d)](_0x358763['Cgrap'](_0x105112,_0x218bea),_0x358763['sdlZO']),_0x673a4a);}function buildRefinePrompt(_0x247c2c,_0x5a7807){const _0x31c768=_0x37c01f,_0x404de2={'voeTN':function(_0x249103,_0x5e79ce){return _0x249103+_0x5e79ce;},'eUvrA':function(_0x241008,_0x12a131){return _0x241008+_0x12a131;},'rZDWL':_0x31c768(0x265),'ibljR':function(_0x3ed835,_0x56ddbf){return _0x3ed835+_0x56ddbf;},'ehOCX':_0x31c768(0x12c)};var _0x42318a=buildContextLines(_0x5a7807),_0x21d0fc=_0x42318a['length']?_0x404de2[_0x31c768(0xd5)](_0x404de2['eUvrA'](_0x404de2[_0x31c768(0x227)],_0x42318a['join']('\x0a')),'\x0a\x0a'):'';return _0x404de2[_0x31c768(0x13e)](_0x21d0fc,_0x247c2c[_0x31c768(0x9b)](_0x404de2[_0x31c768(0x121)],_0x5a7807));}function selectMode(_0x2ef3ef){const _0x1084d0=_0x37c01f,_0x5d8ac5={'wjBbu':'hidden','rIWXg':_0x1084d0(0x1fb),'FjTmO':_0x1084d0(0x1d7),'RccRW':_0x1084d0(0x9f),'aIzic':_0x1084d0(0x120),'BVkNH':_0x1084d0(0x145),'DcZgQ':'chat-messages-chat','uGmbE':_0x1084d0(0x1ec),'tmSkE':'chat','sXKyQ':'8|6|11|7|4|0|5|9|1|12|10|2|3','mXFdr':function(_0xa14f17,_0x54e1c0){return _0xa14f17===_0x54e1c0;},'xgbAx':function(_0x22596e,_0x39c5fd,_0x46ca8d){return _0x22596e(_0x39c5fd,_0x46ca8d);},'TVVdn':_0x1084d0(0x10a),'RjCKp':function(_0x128afb,_0x24877a){return _0x128afb(_0x24877a);},'tWLLY':'mode-chat-theme','QJwTr':'voice','ivOHB':'6|9|2|5|7|11|13|12|1|10|8|0|3|4','LyYzB':function(_0x2b010a){return _0x2b010a();},'cXLxF':_0x1084d0(0x141),'pdNDM':_0x1084d0(0x182),'SIJrq':'Tekan\x20mic\x20lalu\x20bicara...','YPmqM':_0x1084d0(0x247),'GpybX':function(_0xd405ab,_0x3933be){return _0xd405ab!==_0x3933be;}};currentMode=_0x2ef3ef,document[_0x1084d0(0x189)](_0x1084d0(0x211))[_0x1084d0(0x1c9)][_0x1084d0(0x203)](_0x5d8ac5['wjBbu']),document[_0x1084d0(0x189)](_0x5d8ac5[_0x1084d0(0x235)])[_0x1084d0(0x1c9)][_0x1084d0(0xdc)](_0x5d8ac5['wjBbu']),document[_0x1084d0(0x189)](_0x5d8ac5[_0x1084d0(0x1c5)])['classList'][_0x1084d0(0xdc)](_0x5d8ac5['wjBbu']),document['getElementById'](_0x5d8ac5[_0x1084d0(0x15d)])[_0x1084d0(0x1c9)][_0x1084d0(0xdc)](_0x5d8ac5[_0x1084d0(0xa4)]);const _0x59a44c=document[_0x1084d0(0x189)]('assistant-modal');_0x59a44c[_0x1084d0(0x1c9)][_0x1084d0(0xdc)](_0x1084d0(0x20f),_0x5d8ac5[_0x1084d0(0x103)],_0x5d8ac5[_0x1084d0(0x114)]);const _0x900b65=document['getElementById'](_0x5d8ac5[_0x1084d0(0x1cc)]),_0xba4d7d=document[_0x1084d0(0x189)](_0x5d8ac5[_0x1084d0(0x262)]);if(_0x2ef3ef===_0x5d8ac5[_0x1084d0(0x251)]){const _0x3db692=_0x5d8ac5[_0x1084d0(0xc7)][_0x1084d0(0x1ed)]('|');let _0x29b573=0xdb7+0xc*0xd3+-0x179b;while(!![]){switch(_0x3db692[_0x29b573++]){case'0':document[_0x1084d0(0x189)](_0x5d8ac5[_0x1084d0(0x1c5)])['classList']['remove'](_0x5d8ac5['wjBbu']);continue;case'1':chatSendBtn[_0x1084d0(0x1c9)]['remove'](_0x5d8ac5[_0x1084d0(0xa4)]);continue;case'2':_0x5d8ac5[_0x1084d0(0x144)](_0x900b65['innerHTML'][_0x1084d0(0x1cf)](),'')&&_0x5d8ac5[_0x1084d0(0x1d4)](appendMessage,_0x5d8ac5[_0x1084d0(0x18c)],_0x1084d0(0x15f));continue;case'3':_0x5d8ac5[_0x1084d0(0x1f5)](setVoiceSpeaking,![]);continue;case'4':document[_0x1084d0(0x189)](_0x5d8ac5[_0x1084d0(0x235)])[_0x1084d0(0x1c9)][_0x1084d0(0xdc)](_0x5d8ac5[_0x1084d0(0xa4)]);continue;case'5':chatInput['readOnly']=![];continue;case'6':_0x900b65[_0x1084d0(0x1c9)][_0x1084d0(0xdc)](_0x5d8ac5[_0x1084d0(0xa4)]);continue;case'7':if(voiceUi)voiceUi['classList'][_0x1084d0(0x203)](_0x5d8ac5[_0x1084d0(0xa4)]);continue;case'8':_0x59a44c[_0x1084d0(0x1c9)]['add'](_0x5d8ac5[_0x1084d0(0x220)]);continue;case'9':chatInput[_0x1084d0(0x1b7)]=_0x1084d0(0xea);continue;case'10':chatFileInput[_0x1084d0(0x258)]=![];continue;case'11':_0xba4d7d[_0x1084d0(0x1c9)][_0x1084d0(0x203)](_0x5d8ac5[_0x1084d0(0xa4)]);continue;case'12':chatImageBtn[_0x1084d0(0x1c9)][_0x1084d0(0xdc)](_0x5d8ac5[_0x1084d0(0xa4)]);continue;}break;}}else{if(_0x5d8ac5[_0x1084d0(0x144)](_0x2ef3ef,_0x5d8ac5['QJwTr'])){const _0x1472e9=_0x5d8ac5[_0x1084d0(0x25e)][_0x1084d0(0x1ed)]('|');let _0x1e0ecd=-0x225*-0x9+0x1e16*-0x1+0xfb*0xb;while(!![]){switch(_0x1472e9[_0x1e0ecd++]){case'0':_0x5d8ac5[_0x1084d0(0x133)](clearChatImage);continue;case'1':chatSendBtn[_0x1084d0(0x1c9)][_0x1084d0(0x203)](_0x1084d0(0xbf));continue;case'2':_0xba4d7d['classList'][_0x1084d0(0x203)](_0x1084d0(0xbf));continue;case'3':_0x5d8ac5['xgbAx'](setVoiceStatus,_0x5d8ac5[_0x1084d0(0x218)],_0x5d8ac5[_0x1084d0(0x208)]);continue;case'4':_0x5d8ac5[_0x1084d0(0x133)](setupVoiceRecognition);continue;case'5':if(voiceUi)voiceUi[_0x1084d0(0x1c9)][_0x1084d0(0xdc)](_0x5d8ac5[_0x1084d0(0xa4)]);continue;case'6':_0x59a44c[_0x1084d0(0x1c9)][_0x1084d0(0x203)](_0x5d8ac5['BVkNH']);continue;case'7':document['getElementById'](_0x5d8ac5[_0x1084d0(0x235)])[_0x1084d0(0x1c9)][_0x1084d0(0x203)](_0x1084d0(0xbf));continue;case'8':chatFileInput['disabled']=!![];continue;case'9':_0x900b65[_0x1084d0(0x1c9)][_0x1084d0(0x203)](_0x5d8ac5[_0x1084d0(0xa4)]);continue;case'10':chatImageBtn[_0x1084d0(0x1c9)]['add'](_0x5d8ac5['wjBbu']);continue;case'11':document['getElementById'](_0x5d8ac5[_0x1084d0(0x1c5)])[_0x1084d0(0x1c9)][_0x1084d0(0x203)]('hidden');continue;case'12':chatInput[_0x1084d0(0x1b7)]=_0x5d8ac5[_0x1084d0(0xd2)];continue;case'13':chatInput[_0x1084d0(0x1ac)]=!![];continue;}break;}}else{_0x59a44c[_0x1084d0(0x1c9)]['add'](_0x5d8ac5[_0x1084d0(0x103)]),_0xba4d7d['classList'][_0x1084d0(0xdc)](_0x5d8ac5[_0x1084d0(0xa4)]),_0x900b65[_0x1084d0(0x1c9)][_0x1084d0(0x203)](_0x1084d0(0xbf));if(voiceUi)voiceUi[_0x1084d0(0x1c9)][_0x1084d0(0x203)](_0x5d8ac5['wjBbu']);document[_0x1084d0(0x189)](_0x5d8ac5['rIWXg'])[_0x1084d0(0x1c9)][_0x1084d0(0xdc)](_0x5d8ac5[_0x1084d0(0xa4)]),document[_0x1084d0(0x189)](_0x5d8ac5[_0x1084d0(0x1c5)])[_0x1084d0(0x1c9)][_0x1084d0(0xdc)](_0x5d8ac5[_0x1084d0(0xa4)]),chatInput[_0x1084d0(0x1ac)]=![],chatInput[_0x1084d0(0x1b7)]=_0x1084d0(0xea),chatSendBtn[_0x1084d0(0x1c9)]['remove'](_0x5d8ac5['wjBbu']),chatImageBtn[_0x1084d0(0x1c9)]['remove'](_0x1084d0(0xbf)),chatFileInput[_0x1084d0(0x258)]=![],_0x5d8ac5['mXFdr'](_0xba4d7d[_0x1084d0(0xff)][_0x1084d0(0x1cf)](),'')&&appendMessage(_0x5d8ac5[_0x1084d0(0x18c)],_0x5d8ac5[_0x1084d0(0x185)]),setVoiceSpeaking(![]);}}_0x5d8ac5[_0x1084d0(0x10d)](_0x2ef3ef,_0x5d8ac5[_0x1084d0(0x244)])&&chatInput[_0x1084d0(0x165)](),chatContainer[_0x1084d0(0x1f6)]=chatContainer[_0x1084d0(0x180)];}function switchMode(){const _0x5ec0a6=_0x37c01f,_0x3a6c06={'AXeqx':_0x5ec0a6(0x211),'PMVtP':_0x5ec0a6(0xbf),'tWBkS':'chat-messages-container','EhzKE':_0x5ec0a6(0x1d7),'zknHs':_0x5ec0a6(0x9f),'DfXyY':_0x5ec0a6(0x120),'luELr':_0x5ec0a6(0x145),'GBczO':function(_0x70bd0b){return _0x70bd0b();},'IVudE':function(_0x185d71,_0x12d814){return _0x185d71(_0x12d814);},'XnmpI':_0x5ec0a6(0x141),'qZoye':_0x5ec0a6(0x182)};currentMode=null,document[_0x5ec0a6(0x189)](_0x3a6c06[_0x5ec0a6(0x11d)])[_0x5ec0a6(0x1c9)]['remove'](_0x3a6c06[_0x5ec0a6(0x17f)]),document['getElementById'](_0x3a6c06[_0x5ec0a6(0x18d)])['classList'][_0x5ec0a6(0x203)]('hidden'),document[_0x5ec0a6(0x189)](_0x3a6c06['EhzKE'])[_0x5ec0a6(0x1c9)]['add'](_0x3a6c06[_0x5ec0a6(0x17f)]),document[_0x5ec0a6(0x189)](_0x3a6c06[_0x5ec0a6(0x146)])['classList'][_0x5ec0a6(0x203)](_0x3a6c06[_0x5ec0a6(0x17f)]);if(voiceUi)voiceUi[_0x5ec0a6(0x1c9)][_0x5ec0a6(0x203)](_0x3a6c06[_0x5ec0a6(0x17f)]);const _0x51d426=document['getElementById'](_0x5ec0a6(0x200));_0x51d426['classList'][_0x5ec0a6(0xdc)](_0x5ec0a6(0x20f),_0x3a6c06[_0x5ec0a6(0x13d)],_0x3a6c06['luELr']),_0x3a6c06[_0x5ec0a6(0x1e0)](stopVoiceRecognition),_0x3a6c06[_0x5ec0a6(0xce)](setVoiceSpeaking,![]),setVoiceStatus(_0x3a6c06[_0x5ec0a6(0x128)],_0x3a6c06[_0x5ec0a6(0x174)]);}function openAssistantModal(){const _0x338655=_0x37c01f,_0x26b0d7={'lnfzW':_0x338655(0x200),'NUtxt':function(_0x34eb1d,_0x2404a6){return _0x34eb1d!==_0x2404a6;},'ghuGJ':'voice'};window[_0x338655(0x233)](_0x26b0d7[_0x338655(0x171)]),chatContainer[_0x338655(0x1f6)]=chatContainer[_0x338655(0x180)],_0x26b0d7['NUtxt'](currentMode,_0x26b0d7['ghuGJ'])&&chatInput[_0x338655(0x165)]();}function closeAssistantModal(){const _0x38bc38=_0x37c01f,_0x5b585a={'vxXFp':function(_0x5bbe93){return _0x5bbe93();},'jhPBW':function(_0x3dfa8d,_0x299447){return _0x3dfa8d(_0x299447);},'lRTiW':function(_0x3fee8a,_0x13f4e8,_0x512097){return _0x3fee8a(_0x13f4e8,_0x512097);},'VUqng':_0x38bc38(0x141)};_0x5b585a['vxXFp'](stopVoiceRecognition),_0x5b585a['jhPBW'](setVoiceSpeaking,![]),_0x5b585a[_0x38bc38(0x24f)](setVoiceStatus,_0x5b585a['VUqng'],_0x38bc38(0x182)),window[_0x38bc38(0x1db)](_0x38bc38(0x200));}window[_0x37c01f(0x104)]=openAssistantModal,window['closeAssistantModal']=closeAssistantModal,window[_0x37c01f(0x263)]=selectMode,window[_0x37c01f(0x162)]=switchMode,window['sendChatMessage']=sendChatMessage,chatInput['addEventListener'](_0x37c01f(0x240),function(){const _0x3f1f16=_0x37c01f,_0x50a348={'JMRyB':'auto','vMgvl':function(_0xf74b3a,_0x242f0b){return _0xf74b3a+_0x242f0b;},'FVjwF':function(_0x40b47d,_0x3865fc){return _0x40b47d===_0x3865fc;}};this[_0x3f1f16(0x1c8)][_0x3f1f16(0x24a)]=_0x50a348[_0x3f1f16(0x17b)],this[_0x3f1f16(0x1c8)][_0x3f1f16(0x24a)]=_0x50a348['vMgvl'](this['scrollHeight'],'px');if(_0x50a348[_0x3f1f16(0xd3)](this[_0x3f1f16(0x139)],''))this[_0x3f1f16(0x1c8)][_0x3f1f16(0x24a)]=_0x3f1f16(0x10c);}),chatInput[_0x37c01f(0x1b3)](_0x37c01f(0xe7),function(_0x3bbfec){const _0x24d0f7=_0x37c01f,_0x461a37={'SYVRw':function(_0x321344,_0x5e7f6e){return _0x321344===_0x5e7f6e;},'fjxhn':'Enter','uzluT':function(_0x3586a3,_0x4ad387){return _0x3586a3===_0x4ad387;},'eacPK':'voice'};if(_0x461a37[_0x24d0f7(0xe8)](_0x3bbfec[_0x24d0f7(0x1d3)],_0x461a37[_0x24d0f7(0x10b)])&&!_0x3bbfec['shiftKey']){if(_0x461a37[_0x24d0f7(0xfa)](currentMode,_0x461a37[_0x24d0f7(0x160)]))return;_0x3bbfec['preventDefault'](),sendChatMessage();}}),chatFileInput[_0x37c01f(0x1b3)]('change',function(){const _0x5ca064=_0x37c01f,_0x489461={'vhCee':_0x5ca064(0xbf)},_0x493875=this[_0x5ca064(0x1eb)][-0x553*0x5+-0xa7c+0x54d*0x7];if(_0x493875){currentChatImage=_0x493875;const _0x149b7c=new FileReader();_0x149b7c[_0x5ca064(0x143)]=function(_0x1a66ba){const _0x43abc7=_0x5ca064;chatImagePreview[_0x43abc7(0x113)]=_0x1a66ba[_0x43abc7(0x239)]['result'],chatImagePreviewContainer[_0x43abc7(0x1c9)][_0x43abc7(0xdc)](_0x489461[_0x43abc7(0x1a8)]);},_0x149b7c['readAsDataURL'](_0x493875);}});function clearChatImage(){const _0x23adcb=_0x37c01f;currentChatImage=null,chatFileInput['value']='',chatImagePreview[_0x23adcb(0x113)]='',chatImagePreviewContainer[_0x23adcb(0x1c9)]['add']('hidden');}function parseMarkdown(_0x4d88b5){const _0x32e028=_0x37c01f,_0x4dacbf={'bbLAd':_0x32e028(0xc1),'oZZHJ':_0x32e028(0x150),'CUQnM':_0x32e028(0x23e),'GLkgT':_0x32e028(0x1e4)};if(!_0x4d88b5)return'';let _0x575ec8=_0x4d88b5[_0x32e028(0x9b)](/```([\s\S]*?)```/g,_0x32e028(0x108))[_0x32e028(0x9b)](/`([^`]+)`/g,_0x4dacbf[_0x32e028(0x25a)])[_0x32e028(0x9b)](/\*\*(.*?)\*\*/g,_0x4dacbf['oZZHJ'])['replace'](/\*(.*?)\*/g,_0x4dacbf[_0x32e028(0xa3)])[_0x32e028(0x9b)](/(?:^|\n)- (.*)/g,_0x32e028(0x18e))[_0x32e028(0x9b)](/\n/g,_0x4dacbf[_0x32e028(0x1ee)]);return _0x575ec8;}function appendMessage(_0x2fdcc5,_0x742f25,_0x270abd=null){const _0x15615f=_0x37c01f,_0x552815={'ZQQqX':_0x15615f(0x12f),'UEVgK':_0x15615f(0x10a),'pvXQB':'<br>','RXpbM':function(_0x5510a6,_0xbeed31){return _0x5510a6(_0xbeed31);},'ArnDp':function(_0x561cdd,_0x4a5207){return _0x561cdd===_0x4a5207;},'bEHdi':_0x15615f(0x14f),'SVlFm':function(_0x3a7f6d,_0x32e6d7){return _0x3a7f6d!==_0x32e6d7;},'hWMmW':'voice','grRMI':_0x15615f(0x1ec),'gtHWE':_0x15615f(0x155),'klFro':'user','SLIzj':function(_0x474fe0,_0x3d62b7,_0x83dff6){return _0x474fe0(_0x3d62b7,_0x83dff6);},'uzoYN':'assistant'},_0x4b91ee=document[_0x15615f(0x196)](_0x552815[_0x15615f(0xf4)]);_0x4b91ee['className']=_0x15615f(0x11b)+_0x2fdcc5;let _0xeb9deb=_0x2fdcc5===_0x552815[_0x15615f(0x1b8)]?parseMarkdown(_0x742f25):_0x742f25[_0x15615f(0x9b)](/\n/g,_0x552815[_0x15615f(0xeb)]);if(_0x270abd){const _0x1f9f68=_0x552815[_0x15615f(0x118)](String,_0x270abd),_0x50586f=_0x1f9f68[_0x15615f(0x9b)](/"/g,'&quot;'),_0x3ebd95=_0x1f9f68[_0x15615f(0x9b)](/'/g,'\x5c\x27');if(_0x552815[_0x15615f(0xd9)](_0x2fdcc5,_0x552815[_0x15615f(0x1b8)])&&_0x552815[_0x15615f(0xd9)](currentMode,_0x552815['bEHdi'])){const _0x12c161='sufi-image-'+Date['now']()+_0x15615f(0x16b);_0xeb9deb+=_0x15615f(0x18f)+_0x50586f+_0x15615f(0x148)+_0x3ebd95+'\x27)\x22\x20style=\x22cursor:pointer;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22'+_0x50586f+_0x15615f(0xee)+_0x12c161+_0x15615f(0x1fc);}else _0xeb9deb+='<br><img\x20src=\x22'+_0x50586f+'\x22\x20class=\x22chat-image-attachment\x22\x20onclick=\x22window.openImagePreview(\x27'+_0x3ebd95+_0x15615f(0xb3);}_0x2fdcc5===_0x552815[_0x15615f(0x1b8)]&&_0x552815[_0x15615f(0xa2)](currentMode,_0x552815[_0x15615f(0xdb)])&&(aiResponseAudio[_0x15615f(0x1dd)]=-0x8*0x154+0x3*0x373+0x1*0x47,aiResponseAudio[_0x15615f(0x1c4)]()[_0x15615f(0x223)](_0x58cd9a=>console['log']('Audio\x20play\x20blocked:',_0x58cd9a)));_0x4b91ee[_0x15615f(0xff)]=_0x15615f(0xf7)+_0xeb9deb+_0x15615f(0x237);const _0x1e8431=currentMode===_0x552815[_0x15615f(0x178)]?_0x552815['grRMI']:_0x552815[_0x15615f(0x250)],_0x3bc4c6=document[_0x15615f(0x189)](_0x1e8431);_0x3bc4c6&&_0x3bc4c6[_0x15615f(0x245)](_0x4b91ee),chatContainer[_0x15615f(0x1f6)]=chatContainer[_0x15615f(0x180)],(_0x2fdcc5===_0x552815['klFro']||_0x2fdcc5===_0x15615f(0x10a))&&_0x552815[_0x15615f(0x151)](addChatHistory,_0x552815[_0x15615f(0xd9)](_0x2fdcc5,_0x15615f(0x19c))?_0x552815[_0x15615f(0x209)]:_0x552815[_0x15615f(0x19f)],_0x742f25);}function showTypingIndicator(_0x1ede3b=null){const _0x8a0d10=_0x37c01f,_0xe280f4={'NFkCS':function(_0xcf2e85,_0x51d429){return _0xcf2e85+_0x51d429;},'ZxMdi':_0x8a0d10(0x1c7),'YixDG':_0x8a0d10(0x12f),'nhpBk':function(_0x2feb7f,_0x1a1031){return _0x2feb7f===_0x1a1031;},'Hmorm':_0x8a0d10(0x14f),'UoQXP':_0x8a0d10(0x1ec),'fBNqP':'chat-messages-chat'},_0xa5fbb6=_0xe280f4[_0x8a0d10(0x14e)](_0xe280f4[_0x8a0d10(0x1de)],Date[_0x8a0d10(0x1b0)]()),_0x1f1b97=document['createElement'](_0xe280f4[_0x8a0d10(0xb2)]);_0x1f1b97['className']=_0x8a0d10(0x241),_0x1f1b97['id']=_0xa5fbb6;let _0x410bfa='';_0x1ede3b?_0x410bfa='<div\x20style=\x22display:flex;\x20align-items:center;\x20gap:8px;\x22><span>'+_0x1ede3b+_0x8a0d10(0x25f):_0x410bfa=_0x8a0d10(0x1ba);_0x1f1b97[_0x8a0d10(0xff)]=_0x8a0d10(0xf7)+_0x410bfa+'</div>';const _0x225728=_0xe280f4['nhpBk'](currentMode,_0xe280f4[_0x8a0d10(0x252)])?_0xe280f4['UoQXP']:_0xe280f4[_0x8a0d10(0xa7)],_0x4596e2=document[_0x8a0d10(0x189)](_0x225728);return _0x4596e2&&_0x4596e2[_0x8a0d10(0x245)](_0x1f1b97),chatContainer['scrollTop']=chatContainer['scrollHeight'],_0xa5fbb6;}function _0x3211(){const _0x266a1c=['add','voice-orb','fmt\x20','lBHhW','WYcHX','pdNDM','klFro','thinking','dXfJi','tUQhc','zcxHR','OJawK','mode-chat-theme','parse','mode-selection','JgoRC','uIOBn','base64','is-','qwLOR','dStSW','cXLxF','audio/mpeg','toFixed','AahOg','LUljS','aspectRatio','xfufV','append','tWLLY','esuRG','string','catch','KhZTQ','yKQeh','wFDNG','rZDWL','charCodeAt','XGBob','**Prompt\x20Teroptimasi:**\x0a','audio/','role','hnlpV','XnKsK','lmVVa','tJLsz','jrjHi','log','showFeaturePage','Mic\x20bermasalah.\x20Coba\x20izinkan\x20akses\x20mikrofon.','rIWXg','NyFgk','</div>','LztyT','target','345108ypGAXG','1311678DSOpuM','Anda\x20adalah\x20Sufi,\x20asisten\x20AI\x20yang\x20cerdas\x20dan\x20ramah\x20yang\x20dibuat\x20oleh\x20IchsanLabs.\x20Gunakan\x20Bahasa\x20Indonesia\x20yang\x20sopan.\x20Batasi\x20jawaban\x20maksimal\x2050\x20kata.\x20Tidak\x20perlu\x20menjelaskan\x20itu\x20semua\x20kecuali\x20ditanya\x0a\x0a','playSuccessSound','<em>$1</em>','headers','input','chat-message\x20bot','SpeechRecognition','oKYGH','QJwTr','appendChild','opacity','Mode\x20Kreatif\x20Aktif!\x20Silakan\x20tulis\x20deskripsi\x20gambar\x20yang\x20ingin\x20dibuat\x20atau\x20upload\x20foto\x20untuk\x20diedit.','ciibA','zsqtN','height','nhZVV','YxQuN','lFvPc','url','lRTiW','gtHWE','tmSkE','Hmorm','dNWEi','zRyFz','SuFi\x20sudah\x20mendapatkan\x20jawaban...','includes','entries','disabled','click','bbLAd','KShuB','6pPnmpr','match','ivOHB','</span><div\x20class=\x22typing-indicator\x22\x20style=\x22display:inline-flex;\x20margin:0;\x22><span></span><span></span><span></span></div></div>','tBbIp','content','uGmbE','selectMode','AZtbx','Context\x20percakapan:\x0a','no-store','Isdto','pKxoB','candidates','afizB','Mengoptimalkan\x20prompt...','audio/wav','MRYbu','OKsSL','replace','https://','xtETI','Refine\x20this\x20user\x20request\x20into\x20a\x20precise\x20image\x20editing\x20instruction\x20(English).\x20User\x20request:\x20\x22{text}\x22.\x20The\x20user\x20has\x20also\x20provided\x20an\x20image\x20which\x20you\x20can\x20see.\x20Output\x20ONLY\x20the\x20instruction.','switch-mode-btn','dwfjG','id-ID','SVlFm','CUQnM','wjBbu','chat-send-btn','test','fBNqP','slice','inlineData','nKRSO','KyWiw','sulapfitri_sufi_history','dgMdA','0.5','ARiuY','lang','NpexI','YixDG','\x27)\x22\x20style=\x22cursor:pointer;\x22>','json','AfBNe','cHNMe','otdza','fas\x20fa-check-circle','is-idle','tyolY','ZIOUT','prompt','start','is-answered','hidden','get','<code>$1</code>','aUWDa','qNTJt','bruNG','PfIsd','chat-input','sXKyQ','rULbW','xUcns','EaxGs','isArray','Riwayat\x20percakapan:\x0a','zKXbD','IVudE','SuFi\x20sedang\x20berfikir...','FSErI','VYLTk','SIJrq','FVjwF','12799369zcmmbB','voeTN','RWPnK','yrmbZ','wSwpb','ArnDp','ZcQSn','hWMmW','remove','Maaf,\x20suara\x20belum\x20tersedia.','DdMQO','User','RodIC','cPboQ','5WjDzZV','continuous','FiSaU','nMHsd','mimeType','keydown','SYVRw','imageUrl','Ketik\x20pesan...','pvXQB','startsWith','POST','\x22\x20download=\x22','arrayBuffer','117733afKxCG','response','NHtrd','hFlYJ','ZQQqX','length','voice-status','<div\x20class=\x22message-content\x22>','Berikut\x20hasil\x20gambarnya:','JaZpV','uzluT','SkASd','WNydM','Refine\x20this\x20user\x20request\x20into\x20a\x20high\x20quality\x20image\x20generation\x20prompt\x20(English).\x20User\x20request:\x20\x22{text}\x22.\x20Output\x20ONLY\x20the\x20prompt.','10rJvFLn','innerHTML','YEMrt','njXBI','vVVdu','aIzic','openAssistantModal','server/tts.php','WkEpN','BmCtB','<pre><code>$1</code></pre>','voice-status-text','bot','fjxhn','auto','GpybX','DxIFC','assistant','voice','KvWUX','fas\x20fa-stop','src','BVkNH','bRigE','Gagal\x20memproses\x20gambar.\x20Silakan\x20coba\x20lagi.','voice-mic-btn','RXpbM','error','SMYck','chat-message\x20','KsDKQ','AXeqx','dbsNC','IMKJr','mode-image-theme','ehOCX','fyOEj','images[]','server/chat.php','Detected\x20image\x20ratio:\x20','starting',')\x20->\x20Closest:\x20','XnmpI','tMAuX','getItem','vgTsL','{text}','parentElement','onresult','div','adMZr','setUint16','YFtXp','LyYzB','vFlBo','is-thinking','180885sNbkIN','chat-container','ZBTyC','value','PahbU','textContent','Sedang\x20membuat\x20gambar...','DfXyY','ibljR','awDYN','fhhoS','idle','toLowerCase','onload','mXFdr','mode-voice-theme','zknHs','IUpGK','\x22\x20class=\x22chat-image-attachment\x22\x20onclick=\x22window.openImagePreview(\x27','NlkJu','createObjectURL','push','tKBsA','MQiaD','NFkCS','image','<strong>$1</strong>','SLIzj','otLyW','audioUrl','fipnN','chat-messages-chat','ended','xPNpj','unknown','4LOBvLw','Ehdjj','iCCqh','is-speaking','RccRW','wQcxH','Assalamualaikum!\x20Saya\x20siap\x20menjawab\x20pertanyaan\x20seputar\x20Ramadhan.\x20Apa\x20yang\x20ingin\x20ditanyakan?','eacPK','auwMm','switchMode','SBnqS','exMJa','focus','ZxYjC','971880OHnWld','onstart','geRKJ','BKGFK','.png','jIvxV','Terjadi\x20kesalahan\x20koneksi.','voice-status-icon\x20','nKEHw','setUint32','lnfzW','Piioi','naturalWidth','qZoye','IpEJe','data','chat-file-input','bEHdi','interimResults','IsBOu','JMRyB','querySelector','zLBuy','aZhiv','PMVtP','scrollHeight','speaking','Tekan\x20mic\x20untuk\x20mulai','bsCDQ','CyrTi','YPmqM','cPMoR','SuFi\x20menjawab...','WAVE','getElementById','XKtTb','abs','TVVdn','tWBkS','<br>â€¢\x20$1','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22position:\x20relative;\x20display:\x20inline-block;\x20margin-top:\x208px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22','CXoXg','Sedang\x20memproses\x20gambar...','https://cdn.jsdelivr.net/gh/karyawaktuluang/magic.fitri@main/assets/chat.mp3','CvGtq','AFGfM','pause','createElement','qSMnv','audio','nZwgE','yzBuc','VbCNM','user','RVsQf','mcKCW','uzoYN','bKwUs','naturalHeight','fas\x20fa-microphone','QqEbv','parts','nJEDl','gjCPI','AnAAL','vhCee','Selesai!\x20Ini\x20hasilnya:','WPJlJ','results','readOnly','qBGQb','answered','bGlOa','now','Browser\x20tidak\x20mendukung\x20fitur\x20mic.\x20Coba\x20gunakan\x20Chrome.','text','addEventListener','CnvqY','0|1|3|2|4','lgRLA','placeholder','UEVgK','className','<div\x20class=\x22typing-indicator\x22><span></span><span></span><span></span></div>','RzJRE','data:','kxlzG','HOLfT','gmKsy','chat-image-preview-container','bGlCA','setItem','map','play','FjTmO','yGwfS','typing-','style','classList','application/octet-stream','SuFi\x20menyalakan\x20mikrofon...','DcZgQ','lGMOD','rPYLB','trim','Maaf,\x20saya\x20sedang\x20gangguan.\x20Coba\x20lagi\x20nanti.','<div\x20style=\x22display:flex;\x20align-items:center;\x20gap:8px;\x22><span>','join','key','xgbAx','qtaxU','AFCYW','input-area','ENhuK','PMuvM','User:\x20','closeFeaturePage','kZoux','currentTime','ZxMdi','playErrorSound','GBczO','server/generate.php','UIEnS','sampleRate','<br>','playing','SuFi\x20sedang\x20berbicara...','RbUiq','TVXzI','instruction','4|2|3|1|0','files','chat-messages-image','split','GLkgT','YYWip','success','iQfTc','kLeGZ','eAcZs','**Instruksi\x20Teroptimasi:**\x0a','RjCKp','scrollTop','stop','Maaf,\x20saya\x20gagal\x20membuat\x20gambar.\x20Pastikan\x20instruksi\x20jelas\x20atau\x20coba\x20upload\x20gambar\x20referensi.','User\x20menyalakan\x20mikrofon...','jGMtt','chat-messages-container','\x22\x20style=\x22position:\x20absolute;\x20bottom:\x208px;\x20right:\x208px;\x20width:\x2032px;\x20height:\x2032px;\x20border-radius:\x20999px;\x20background:\x20rgba(0,0,0,0.6);\x20color:\x20white;\x20display:\x20inline-flex;\x20align-items:\x20center;\x20justify-content:\x20center;\x20text-decoration:\x20none;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-download\x22\x20style=\x22font-size:\x200.85rem;\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','3062574XPVqfe','veZlw','ADJWH','assistant-modal','Assistant','chat-image-preview'];_0x3211=function(){return _0x266a1c;};return _0x3211();}function updateTypingIndicator(_0x345718,_0x11016e){const _0x47131f=_0x37c01f,_0x1d41b4={'MQiaD':'.message-content'},_0xf815a3=document[_0x47131f(0x189)](_0x345718);if(_0xf815a3){const _0x173ff1=_0xf815a3[_0x47131f(0x17c)](_0x1d41b4[_0x47131f(0x14d)]);_0x173ff1&&(_0x173ff1[_0x47131f(0xff)]=_0x47131f(0x1d1)+_0x11016e+_0x47131f(0x25f));}}function removeTypingIndicator(_0x228a2c){const _0x427e10=_0x37c01f,_0x556d07=document[_0x427e10(0x189)](_0x228a2c);if(_0x556d07)_0x556d07[_0x427e10(0xdc)]();}function wait(_0x477e77){return new Promise(_0x3615a9=>setTimeout(_0x3615a9,_0x477e77));}async function showAnsweredStatus(_0x167efd){const _0x26cfa7=_0x37c01f,_0x6e1439={'aUWDa':function(_0x2befb7,_0x28836e,_0x51f027){return _0x2befb7(_0x28836e,_0x51f027);},'qwLOR':'SuFi\x20sudah\x20mendapatkan\x20jawaban...'};if(!_0x167efd)return;_0x6e1439[_0x26cfa7(0xc2)](updateTypingIndicator,_0x167efd,_0x6e1439[_0x26cfa7(0x216)]),await wait(0x1*-0x11d0+-0x1*-0x15b5+-0x129),removeTypingIndicator(_0x167efd);}function setInputState(_0x534c04){const _0x45dec8=_0x37c01f,_0x13474b={'SkASd':_0x45dec8(0xae)},_0x587445=_0x45dec8(0x1ea)[_0x45dec8(0x1ed)]('|');let _0xb2be86=0xb4d+0x1d*0xa3+-0x5f4*0x5;while(!![]){switch(_0x587445[_0xb2be86++]){case'0':_0x534c04?(chatInput[_0x45dec8(0x12d)][_0x45dec8(0x1c8)][_0x45dec8(0x246)]=_0x13474b[_0x45dec8(0xfb)],chatSendBtn['style'][_0x45dec8(0x246)]=_0x13474b[_0x45dec8(0xfb)]):(chatInput[_0x45dec8(0x12d)][_0x45dec8(0x1c8)][_0x45dec8(0x246)]='1',chatSendBtn[_0x45dec8(0x1c8)][_0x45dec8(0x246)]='1',chatInput[_0x45dec8(0x165)]());continue;case'1':if(voiceMicBtn)voiceMicBtn[_0x45dec8(0x258)]=_0x534c04;continue;case'2':chatSendBtn[_0x45dec8(0x258)]=_0x534c04;continue;case'3':chatFileInput[_0x45dec8(0x258)]=_0x534c04;continue;case'4':chatInput[_0x45dec8(0x258)]=_0x534c04;continue;}break;}}function setupVoiceRecognition(){const _0x375629=_0x37c01f,_0x41445d={'njXBI':function(_0x4036df,_0x141736){return _0x4036df(_0x141736);},'WNydM':function(_0x170dc0,_0x5c786d){return _0x170dc0(_0x5c786d);},'MRYbu':function(_0x132672){return _0x132672();},'ZxYjC':function(_0x2076c1,_0x14a8c0,_0x4baeac){return _0x2076c1(_0x14a8c0,_0x4baeac);},'PahbU':_0x375629(0x10a),'IxWYp':_0x375629(0x1b1),'OKsSL':_0x375629(0xa1)};if(voiceRecognizer)return;const _0x570067=window[_0x375629(0x242)]||window['webkitSpeechRecognition'];if(!_0x570067){_0x41445d[_0x375629(0x166)](appendMessage,_0x41445d[_0x375629(0x13a)],_0x41445d['IxWYp']);if(voiceMicBtn)voiceMicBtn[_0x375629(0x258)]=!![];return;}voiceRecognizer=new _0x570067(),voiceRecognizer[_0x375629(0xb0)]=_0x41445d[_0x375629(0x9a)],voiceRecognizer[_0x375629(0x179)]=![],voiceRecognizer[_0x375629(0xe3)]=![],voiceRecognizer[_0x375629(0x168)]=function(){const _0x12a6c0=_0x375629;isVoiceStarting=![],_0x41445d[_0x12a6c0(0x101)](setVoiceListening,!![]);},voiceRecognizer['onend']=function(){const _0x216410=_0x375629;isVoiceStarting=![],_0x41445d[_0x216410(0xfc)](setVoiceListening,![]);},voiceRecognizer['onerror']=function(){const _0x413f2a=_0x375629;isVoiceStarting=![],_0x41445d[_0x413f2a(0x101)](setVoiceListening,![]),appendMessage(_0x413f2a(0x10a),_0x413f2a(0x234));},voiceRecognizer[_0x375629(0x12e)]=function(_0x45e934){const _0x4386c7=_0x375629,_0x2db404=_0x45e934[_0x4386c7(0x1ab)]&&_0x45e934[_0x4386c7(0x1ab)][-0x1b91+-0x3*0x609+0x4*0xb6b]&&_0x45e934[_0x4386c7(0x1ab)][0x134d*-0x1+-0x230f+-0x365c*-0x1][-0x159+0x57a*0x6+-0x1f83],_0x124fc1=_0x2db404?_0x2db404['transcript']['trim']():'';_0x124fc1&&(_0x41445d[_0x4386c7(0x99)](stopVoiceRecognition),chatInput[_0x4386c7(0x139)]=_0x124fc1,_0x41445d[_0x4386c7(0x101)](sendVoiceMessage,_0x124fc1));};}function setVoiceListening(_0x5d7be9){const _0x4f22d0=_0x37c01f,_0x363243={'AfBNe':'is-listening','vBisw':_0x4f22d0(0x112)};isVoiceListening=_0x5d7be9;voiceOrb&&(_0x5d7be9?voiceOrb[_0x4f22d0(0x1c9)]['add']('is-listening'):voiceOrb[_0x4f22d0(0x1c9)][_0x4f22d0(0xdc)](_0x363243[_0x4f22d0(0xb5)]));if(!voiceMicBtn)return;const _0x5d2200=voiceMicBtn[_0x4f22d0(0x17c)]('i');_0x5d2200&&(_0x5d2200[_0x4f22d0(0x1b9)]=_0x5d7be9?_0x363243['vBisw']:_0x4f22d0(0x1a2));}function setVoiceStatus(_0xfa7100,_0x1f1058){const _0x26c516=_0x37c01f,_0x344ea2={'XKtTb':_0x26c516(0x110),'yGwfS':_0x26c516(0xb9),'Ehdjj':_0x26c516(0x135),'biiwj':_0x26c516(0xbe),'YYWip':'is-starting','qNTJt':_0x26c516(0x15c),'iQfTc':_0x26c516(0x1a2),'AahOg':_0x26c516(0x20a),'WPJlJ':'fas\x20fa-brain','tMAuX':'answered','xPNpj':_0x26c516(0xb8),'uZPDS':function(_0x4192f1,_0xc82b16){return _0x4192f1===_0xc82b16;},'geRKJ':'fas\x20fa-circle-notch','cHNMe':'speaking','JeUJz':'fas\x20fa-volume-up'};if(!voiceStatus||!voiceStatusText||!voiceStatusIcon)return;if(currentMode!==_0x344ea2[_0x26c516(0x18a)])return;const _0xf7d593=[_0x344ea2[_0x26c516(0x1c6)],_0x344ea2[_0x26c516(0x15a)],_0x344ea2['biiwj'],_0x344ea2[_0x26c516(0x1ef)],_0x344ea2[_0x26c516(0xc3)]];voiceStatus[_0x26c516(0x1c9)][_0x26c516(0xdc)](..._0xf7d593);const _0x1e3d74=_0xfa7100?_0x26c516(0x215)+_0xfa7100:_0x26c516(0xb9);voiceStatus['classList'][_0x26c516(0x203)](_0x1e3d74);_0x1f1058&&(voiceStatusText[_0x26c516(0x13b)]=_0x1f1058);let _0x541b3f=_0x344ea2[_0x26c516(0x1f1)];if(_0xfa7100===_0x344ea2[_0x26c516(0x21b)])_0x541b3f=_0x344ea2[_0x26c516(0x1aa)];if(_0xfa7100===_0x344ea2[_0x26c516(0x129)])_0x541b3f=_0x344ea2[_0x26c516(0x157)];if(_0x344ea2['uZPDS'](_0xfa7100,_0x26c516(0x126)))_0x541b3f=_0x344ea2[_0x26c516(0x169)];if(_0x344ea2['uZPDS'](_0xfa7100,_0x344ea2[_0x26c516(0xb6)]))_0x541b3f=_0x344ea2['JeUJz'];voiceStatusIcon[_0x26c516(0x1b9)]=_0x26c516(0x16e)+_0x541b3f;}function setVoiceSpeaking(_0x3a0a37){const _0x14a292=_0x37c01f,_0xe3c489={'dwfjG':function(_0x3b1bb8,_0x4b5663){return _0x3b1bb8!==_0x4b5663;},'awDYN':_0x14a292(0x15c),'qtaxU':function(_0x1bd4bc,_0x527f9e){return _0x1bd4bc||_0x527f9e;},'mjXvj':'fas\x20fa-volume-up','jGMtt':'fas\x20fa-microphone'};if(!voiceOrb)return;if(_0xe3c489[_0x14a292(0xa0)](currentMode,_0x14a292(0x110))){voiceOrb[_0x14a292(0x1c9)][_0x14a292(0xdc)](_0xe3c489[_0x14a292(0x13f)]);return;}_0x3a0a37?voiceOrb[_0x14a292(0x1c9)][_0x14a292(0x203)]('is-speaking'):voiceOrb[_0x14a292(0x1c9)][_0x14a292(0xdc)](_0x14a292(0x15c));voiceMicBtn&&(voiceMicBtn['disabled']=_0x3a0a37);if(_0xe3c489[_0x14a292(0x1d5)](!voiceMicBtn,isVoiceListening))return;const _0x3e8868=voiceMicBtn[_0x14a292(0x17c)]('i');if(!_0x3e8868)return;_0x3e8868['className']=_0x3a0a37?_0xe3c489['mjXvj']:_0xe3c489[_0x14a292(0x1fa)];}function bindTtsEvents(_0x42821b,_0x3b3bb1,_0x25e522){const _0x45654f=_0x37c01f,_0x3a23bd={'IpEJe':function(_0x16fbbb,_0x108116){return _0x16fbbb(_0x108116);},'WJWTX':function(_0x2e642e){return _0x2e642e();},'jIvxV':function(_0x33b081,_0x386d5f){return _0x33b081(_0x386d5f);},'HOLfT':'ended','zcxHR':_0x45654f(0x119),'ZBTyC':_0x45654f(0x195),'VbCNM':_0x45654f(0x1e5)};if(!_0x42821b)return;const _0x1d61e3=function(){const _0x11a583=_0x45654f;_0x3a23bd[_0x11a583(0x175)](setVoiceSpeaking,![]);if(_0x3b3bb1)_0x3a23bd['WJWTX'](_0x3b3bb1);};_0x42821b['addEventListener'](_0x3a23bd[_0x45654f(0x1be)],_0x1d61e3),_0x42821b[_0x45654f(0x1b3)](_0x3a23bd[_0x45654f(0x20d)],_0x1d61e3),_0x42821b[_0x45654f(0x1b3)](_0x3a23bd[_0x45654f(0x138)],_0x1d61e3),_0x42821b['addEventListener'](_0x3a23bd[_0x45654f(0x19b)],function(){const _0x1aeff7=_0x45654f;_0x3a23bd[_0x1aeff7(0x16c)](setVoiceSpeaking,!![]);if(_0x25e522)_0x3a23bd['WJWTX'](_0x25e522);});}function stopVoiceRecognition(){const _0x1579c7=_0x37c01f,_0x2560cd={'tJLsz':function(_0x1300e3,_0x286776){return _0x1300e3&&_0x286776;},'NXoqK':function(_0x4c7768,_0x5216ee){return _0x4c7768(_0x5216ee);}};_0x2560cd[_0x1579c7(0x230)](voiceRecognizer,isVoiceListening)&&voiceRecognizer[_0x1579c7(0x1f7)](),isVoiceStarting=![],_0x2560cd['NXoqK'](setVoiceListening,![]);}voiceMicBtn&&voiceMicBtn['addEventListener'](_0x37c01f(0x259),function(){const _0x1034c7=_0x37c01f,_0x4f05ff={'RVsQf':function(_0x34d514,_0x1564be,_0x4f7bd4){return _0x34d514(_0x1564be,_0x4f7bd4);},'SMYck':_0x1034c7(0x126),'NlkJu':_0x1034c7(0x1f9)};if(!voiceRecognizer)setupVoiceRecognition();if(!voiceRecognizer)return;if(isVoiceListening)voiceRecognizer[_0x1034c7(0x1f7)]();else{if(isVoiceStarting)return;try{isVoiceStarting=!![],_0x4f05ff[_0x1034c7(0x19d)](setVoiceStatus,_0x4f05ff[_0x1034c7(0x11a)],_0x4f05ff[_0x1034c7(0x149)]),voiceRecognizer[_0x1034c7(0xbd)]();}catch(_0x4d2d91){isVoiceStarting=![];}}});function playTtsAudio(_0x15d401,_0x5c7f58,_0x5ac4f2){const _0x255e79=_0x37c01f,_0x3b1b7f={'eAcZs':'0|2|5|4|1|3','xtETI':function(_0x1e6262,_0x14df34){return _0x1e6262(_0x14df34);}},_0x4e9af4=_0x3b1b7f[_0x255e79(0x1f3)][_0x255e79(0x1ed)]('|');let _0x566887=0xfd6+-0x971*-0x2+0x8*-0x457;while(!![]){switch(_0x4e9af4[_0x566887++]){case'0':if(!_0x15d401)return;continue;case'1':_0x3b1b7f[_0x255e79(0x9d)](setVoiceSpeaking,!![]);continue;case'2':ttsAudio&&(ttsAudio[_0x255e79(0x195)](),ttsAudio['currentTime']=0x95*-0x15+0x26ab*-0x1+0x2*0x1972);continue;case'3':ttsAudio[_0x255e79(0x1c4)]()['catch'](function(){});continue;case'4':bindTtsEvents(ttsAudio,_0x5c7f58,_0x5ac4f2);continue;case'5':ttsAudio=new Audio(_0x15d401);continue;}break;}}function playTtsBlob(_0x31886c,_0x1d9bb0,_0xf4c435){const _0x223729=_0x37c01f,_0x56032a={'auwMm':function(_0x37020d,_0x2b573a,_0x2210ab,_0x62e043){return _0x37020d(_0x2b573a,_0x2210ab,_0x62e043);},'nZwgE':function(_0x3fb48c,_0x4d01d9){return _0x3fb48c(_0x4d01d9);},'CyrTi':_0x223729(0x156)};if(!_0x31886c)return;ttsAudio&&(ttsAudio[_0x223729(0x195)](),ttsAudio[_0x223729(0x1dd)]=-0xe9c+-0x2534+0x4*0xcf4);const _0x3c2a2e=URL[_0x223729(0x14a)](_0x31886c);ttsAudio=new Audio(_0x3c2a2e),_0x56032a[_0x223729(0x161)](bindTtsEvents,ttsAudio,_0x1d9bb0,_0xf4c435),_0x56032a[_0x223729(0x199)](setVoiceSpeaking,!![]);const _0x200f1e=function(){URL['revokeObjectURL'](_0x3c2a2e);};ttsAudio[_0x223729(0x1b3)](_0x56032a[_0x223729(0x184)],_0x200f1e),ttsAudio[_0x223729(0x1b3)](_0x223729(0x119),_0x200f1e),ttsAudio['play']()['catch'](function(){});}function playTtsBase64(_0x2e76ee,_0x5c2007,_0x400de3,_0x586314){const _0x44f79f=_0x37c01f,_0x3081a9={'RbUiq':function(_0x188362,_0x2ca0ec){return _0x188362<_0x2ca0ec;},'GJPuR':function(_0x5dfe53,_0x4ee4a3){return _0x5dfe53||_0x4ee4a3;},'tUQhc':'audio/mpeg','IsBOu':function(_0x328dd3,_0x4c74e1,_0x86ae5b,_0x10e64f){return _0x328dd3(_0x4c74e1,_0x86ae5b,_0x10e64f);}};if(!_0x2e76ee)return;try{const _0x3aa4c9=atob(_0x2e76ee),_0x5d8afe=_0x3aa4c9['length'],_0x222cec=new Uint8Array(_0x5d8afe);for(let _0x1f0278=-0xc1e+0x22*0x101+0x2*-0xb02;_0x3081a9[_0x44f79f(0x1e7)](_0x1f0278,_0x5d8afe);_0x1f0278++){_0x222cec[_0x1f0278]=_0x3aa4c9[_0x44f79f(0x228)](_0x1f0278);}const _0x412712=new Blob([_0x222cec],{'type':_0x3081a9['GJPuR'](_0x5c2007,_0x3081a9[_0x44f79f(0x20c)])});_0x3081a9[_0x44f79f(0x17a)](playTtsBlob,_0x412712,_0x400de3,_0x586314);}catch(_0x1d9404){}}function isPcmMimeType(_0x2451b4){const _0x1f35ac=_0x37c01f;if(!_0x2451b4)return![];return/audio\/l16/i['test'](_0x2451b4)||/codec=pcm/i[_0x1f35ac(0xa6)](_0x2451b4);}function parsePcmDataUrl(_0x146531){const _0x3eeb73=_0x37c01f,_0x675448={'vFlBo':function(_0x5ed8ce,_0x4d4cfb){return _0x5ed8ce!==_0x4d4cfb;},'kLeGZ':_0x3eeb73(0x222),'EeJTc':function(_0x1fe8ae,_0x264e36){return _0x1fe8ae<_0x264e36;},'vSbDm':function(_0x11c8fd,_0xfdff55){return _0x11c8fd(_0xfdff55);}};if(!_0x146531||_0x675448[_0x3eeb73(0x134)](typeof _0x146531,_0x675448[_0x3eeb73(0x1f2)]))return null;if(!_0x146531[_0x3eeb73(0xec)](_0x3eeb73(0x1bc)))return null;const _0x15f08b=_0x146531[_0x3eeb73(0x1ed)](',');if(_0x675448['EeJTc'](_0x15f08b[_0x3eeb73(0xf5)],-0x1d0e+-0x87c+-0x6*-0x642))return null;const _0x5cab98=_0x15f08b[0x33d*-0x1+-0xa0+0x17*0x2b],_0x275a04=_0x15f08b[_0x3eeb73(0xa8)](-0x1337*-0x1+-0x1046+-0x2f0)['join'](','),_0x458d29=_0x5cab98[_0x3eeb73(0x25d)](/rate=(\d+)/i),_0x5e4c2c=_0x458d29?_0x675448['vSbDm'](Number,_0x458d29[0x8bd*0x3+-0x816+-0x1220]):-0x3fab+0x78b1+0x24ba,_0x56b745=_0x5cab98[_0x3eeb73(0xa8)](0x2705*-0x1+0x1*-0x230e+0x4a18)[_0x3eeb73(0x1ed)](';')[-0x17d*-0x9+0x1*0x3a1+0x1106*-0x1];return{'base64':_0x275a04,'sampleRate':_0x5e4c2c,'mimeType':_0x56b745};}function buildWavBlobFromPcm(_0x4ba5b8,_0x525230){const _0x4fcf2d=_0x37c01f,_0x4ee93f={'KvWUX':function(_0x54fc87,_0x5e1d81){return _0x54fc87/_0x5e1d81;},'mcKCW':function(_0x29cd88,_0x272753){return _0x29cd88*_0x272753;},'lFvPc':'RIFF','CnvqY':function(_0x32a67a,_0x29f8ff){return _0x32a67a+_0x29f8ff;},'WYcHX':function(_0x1a1b55,_0x4829bc,_0xaf8aad){return _0x1a1b55(_0x4829bc,_0xaf8aad);},'kZoux':_0x4fcf2d(0x205),'ADJWH':function(_0x1d8e12,_0x4fca20,_0x1eff05){return _0x1d8e12(_0x4fca20,_0x1eff05);},'zKXbD':'data','AxtSt':_0x4fcf2d(0x98)};if(!_0x4ba5b8||!_0x4ba5b8['length'])return null;const _0x1ee501=_0x525230||-0x5e96+0x749c*-0x1+0x130f2,_0x51593c=-0x1bec+0x2577+-0x3*0x32e,_0x4ad092=-0x2*-0x1+0x10*0x4+0x5*-0xa,_0x4c138c=_0x4ee93f[_0x4fcf2d(0x111)](_0x4ee93f[_0x4fcf2d(0x19e)](_0x51593c,_0x4ad092),0x42b+0x1*0x18fc+0xd5*-0x23),_0xa73ffa=_0x1ee501*_0x4c138c,_0x150393=_0x4ba5b8['length'],_0x110415=new ArrayBuffer(-0x99b*-0x2+-0x16cd*0x1+0x3c3),_0x571cf8=new DataView(_0x110415),_0x57b1de=function(_0x539bb,_0x143a94){const _0x43dedb=_0x4fcf2d;for(let _0xfa9369=-0xf24+0x9*-0x1dd+0x1fe9;_0xfa9369<_0x143a94['length'];_0xfa9369++){_0x571cf8['setUint8'](_0x539bb+_0xfa9369,_0x143a94[_0x43dedb(0x228)](_0xfa9369));}};return _0x57b1de(0x1c25+0x208+-0x1e2d,_0x4ee93f[_0x4fcf2d(0x24d)]),_0x571cf8[_0x4fcf2d(0x170)](-0x1*-0x1d1d+-0x1359+-0x9c0,_0x4ee93f[_0x4fcf2d(0x1b4)](-0x1889+0x1ef*-0x9+0x2a14,_0x150393),!![]),_0x4ee93f['WYcHX'](_0x57b1de,-0xe3b+-0xae2*0x3+0x1*0x2ee9,_0x4fcf2d(0x188)),_0x4ee93f[_0x4fcf2d(0x207)](_0x57b1de,0x149*-0x3+-0x23f+0x626,_0x4ee93f[_0x4fcf2d(0x1dc)]),_0x571cf8[_0x4fcf2d(0x170)](-0x252f+-0x364+0x67*0x65,0x87d+-0x1*0xb71+0x304*0x1,!![]),_0x571cf8[_0x4fcf2d(0x131)](0x575+0xb*-0x1f2+-0x1005*-0x1,0x642+-0x1f*-0x4a+-0xf37,!![]),_0x571cf8[_0x4fcf2d(0x131)](-0x1*-0x21b9+0x89*-0x1d+-0x121e,_0x51593c,!![]),_0x571cf8['setUint32'](-0x2339+0x17d5*-0x1+0x3b26,_0x1ee501,!![]),_0x571cf8['setUint32'](-0x1*0xccd+-0x1*0x223f+0x2f28,_0xa73ffa,!![]),_0x571cf8[_0x4fcf2d(0x131)](-0x1*0x1c5d+-0x989+0x2606,_0x4c138c,!![]),_0x571cf8[_0x4fcf2d(0x131)](0x2*0x2db+-0x37e+-0x3*0xb2,_0x4ad092,!![]),_0x4ee93f[_0x4fcf2d(0x1ff)](_0x57b1de,0x1d99*-0x1+-0x6*0xe8+0x5*0x709,_0x4ee93f[_0x4fcf2d(0xcd)]),_0x571cf8[_0x4fcf2d(0x170)](-0xbf*0x31+0xc24+0x1893*0x1,_0x150393,!![]),new Blob([_0x110415,_0x4ba5b8],{'type':_0x4ee93f['AxtSt']});}function playPcmBase64AsWav(_0x2f01a7,_0x13de71,_0x418526,_0x81392c){const _0x5d11f2=_0x37c01f,_0x171a8d={'NHtrd':function(_0x53f2b6,_0x157252){return _0x53f2b6(_0x157252);},'BmCtB':function(_0x5873e9,_0x195b3d){return _0x5873e9<_0x195b3d;},'vfoQg':function(_0x344673,_0x434531,_0x2d4cae){return _0x344673(_0x434531,_0x2d4cae);},'PfIsd':function(_0x526e99,_0x4b6b8d,_0x463852,_0x1c0962){return _0x526e99(_0x4b6b8d,_0x463852,_0x1c0962);}};if(!_0x2f01a7)return;try{const _0x5d0b95=_0x171a8d[_0x5d11f2(0xf2)](atob,_0x2f01a7),_0x2aca19=_0x5d0b95[_0x5d11f2(0xf5)],_0x3e430d=new Uint8Array(_0x2aca19);for(let _0x2c5f7d=-0x5a1+0x3a0+-0xab*-0x3;_0x171a8d[_0x5d11f2(0x107)](_0x2c5f7d,_0x2aca19);_0x2c5f7d++){_0x3e430d[_0x2c5f7d]=_0x5d0b95[_0x5d11f2(0x228)](_0x2c5f7d);}const _0x3f4f60=_0x171a8d['vfoQg'](buildWavBlobFromPcm,_0x3e430d,_0x13de71);if(_0x3f4f60)_0x171a8d[_0x5d11f2(0xc5)](playTtsBlob,_0x3f4f60,_0x418526,_0x81392c);}catch(_0xefb132){}}function playPcmBufferAsWav(_0x27a05c,_0x2279f7,_0x3b6d81,_0x1bef98){const _0xa85b4b={'lAQKS':function(_0x5b0606,_0x4a05ae,_0x1387b3,_0x46d5cc){return _0x5b0606(_0x4a05ae,_0x1387b3,_0x46d5cc);}};if(!_0x27a05c)return;const _0x265e40=new Uint8Array(_0x27a05c),_0x105d24=buildWavBlobFromPcm(_0x265e40,_0x2279f7);if(_0x105d24)_0xa85b4b['lAQKS'](playTtsBlob,_0x105d24,_0x3b6d81,_0x1bef98);}function resolveBaseUrl(_0x195d37){const _0x301afe=_0x37c01f,_0x2b0c43={'XERJA':_0x301afe(0x222)};if(!_0x195d37||typeof _0x195d37!==_0x2b0c43['XERJA'])return'';let _0x4148b4=_0x195d37[_0x301afe(0x1cf)]();if(!_0x4148b4)return'';return!/^https?:\/\//i[_0x301afe(0xa6)](_0x4148b4)&&(_0x4148b4=_0x301afe(0x9c)+_0x4148b4),_0x4148b4[_0x301afe(0x9b)](/\/+$/,'');}async function requestTtsAudio(_0x24156f){const _0x11b217=_0x37c01f,_0x47e200={'EaxGs':function(_0x26f876,_0x166332){return _0x26f876(_0x166332);},'yzBuc':function(_0x110358,_0x1716ea,_0x2934bc){return _0x110358(_0x1716ea,_0x2934bc);},'fhhoS':_0x11b217(0x141),'pKxoB':_0x11b217(0x182),'WkEpN':_0x11b217(0x1e6),'tBbIp':function(_0x4d5e75,_0x573dcb,_0x816fb1){return _0x4d5e75(_0x573dcb,_0x816fb1);},'RodIC':_0x11b217(0x181),'lmVVa':'SuFi\x20menjawab...','jrjHi':function(_0x18bd6c,_0x778e2e){return _0x18bd6c(_0x778e2e);},'bGlOa':function(_0x1109db,_0x4e4092,_0x3b3cc3){return _0x1109db(_0x4e4092,_0x3b3cc3);},'hFlYJ':function(_0x5c182c,_0x3885dc){return _0x5c182c(_0x3885dc);},'cPMoR':function(_0x36a736,_0x4cedf5,_0xcd27bf){return _0x36a736(_0x4cedf5,_0xcd27bf);},'ZcQSn':function(_0x25431a,_0x487adf){return _0x25431a(_0x487adf);},'IUpGK':function(_0x56f90c,_0x3d4c5b,_0x5df278){return _0x56f90c(_0x3d4c5b,_0x5df278);},'dNWEi':function(_0x57e754,_0x8441e8,_0x1f4f04){return _0x57e754(_0x8441e8,_0x1f4f04);},'NpexI':function(_0x38f09d,_0x131222,_0x469bf1){return _0x38f09d(_0x131222,_0x469bf1);},'RqqbE':function(_0x37701a,_0x4405d4){return _0x37701a===_0x4405d4;},'EvdIE':'SuFi\x20sedang\x20menyalakan\x20mikrofon...','sPQVm':_0x11b217(0x126),'zLBuy':_0x11b217(0x1cb),'xUcns':_0x11b217(0xed),'KyWiw':'application/json','iCCqh':'Fenrir','otLyW':_0x11b217(0xdd),'exMJa':'content-type','fyOEj':_0x11b217(0x1ca),'Isdto':function(_0x4fd899,_0x130c10){return _0x4fd899(_0x130c10);},'JaZpV':function(_0x4a1db1,_0x3e328b,_0x4ca397){return _0x4a1db1(_0x3e328b,_0x4ca397);},'arKMh':function(_0x2c85ad,_0x277198){return _0x2c85ad(_0x277198);},'oKYGH':function(_0x12e9d6,_0x5bbdf2,_0x5369bf){return _0x12e9d6(_0x5bbdf2,_0x5369bf);},'Piioi':_0x11b217(0x10a),'tKBsA':function(_0x4e39e3,_0x520be7){return _0x4e39e3(_0x520be7);},'bKwUs':function(_0x33fe72,_0x49f227){return _0x33fe72(_0x49f227);},'dhABr':function(_0x162069,_0x300138,_0x274c0e,_0x110ffd,_0x3195f9){return _0x162069(_0x300138,_0x274c0e,_0x110ffd,_0x3195f9);},'QqEbv':function(_0x53589d,_0x114b11,_0x67ff1d,_0x1c9493){return _0x53589d(_0x114b11,_0x67ff1d,_0x1c9493);},'nJEDl':function(_0x136e41,_0x523401){return _0x136e41(_0x523401);},'OJawK':function(_0x40bd03,_0x4180ff,_0x4fe6f2){return _0x40bd03(_0x4180ff,_0x4fe6f2);},'PMuvM':function(_0x322c87,_0x31d549,_0x15e173,_0x4a9f26,_0x106f6c){return _0x322c87(_0x31d549,_0x15e173,_0x4a9f26,_0x106f6c);},'FiSaU':function(_0x5738ac,_0x23a307,_0x52e1f4){return _0x5738ac(_0x23a307,_0x52e1f4);},'AZtbx':function(_0x5374bc,_0x270a17,_0x21e2ba){return _0x5374bc(_0x270a17,_0x21e2ba);},'TVXzI':function(_0x1e17e6,_0x26af3a,_0x1c105a,_0x23da51,_0x1624ba){return _0x1e17e6(_0x26af3a,_0x1c105a,_0x23da51,_0x1624ba);},'xfufV':_0x11b217(0x219),'tyolY':function(_0x2b7dce,_0x4d8530,_0x14e85b,_0x58ae83,_0x470172){return _0x2b7dce(_0x4d8530,_0x14e85b,_0x58ae83,_0x470172);},'lgRLA':function(_0x30f143,_0x859b8c,_0x11361b,_0x46a113,_0x421edc){return _0x30f143(_0x859b8c,_0x11361b,_0x46a113,_0x421edc);}};if(!_0x24156f)return;const _0x1ce51b=_0x11b217(0x105),_0x2a9acd=_0x47e200['RqqbE'](currentMode,_0x11b217(0x110)),_0x3fdbf1=_0x2a9acd?null:_0x47e200[_0x11b217(0xca)](showTypingIndicator,_0x47e200['EvdIE']);_0x2a9acd&&_0x47e200[_0x11b217(0x260)](setVoiceStatus,_0x47e200['sPQVm'],_0x47e200[_0x11b217(0x17d)]);let _0x298107=null;try{_0x298107=await fetch(_0x1ce51b,{'method':_0x47e200[_0x11b217(0xc9)],'headers':{'Content-Type':_0x47e200[_0x11b217(0xab)]},'body':JSON['stringify']({'prompt':_0x24156f,'voiceName':_0x47e200[_0x11b217(0x15b)]})});}catch(_0x3130cd){if(_0x3fdbf1)_0x47e200[_0x11b217(0xca)](removeTypingIndicator,_0x3fdbf1);setVoiceStatus(_0x47e200[_0x11b217(0x140)],_0x47e200[_0x11b217(0x268)]),_0x47e200[_0x11b217(0x147)](appendMessage,_0x11b217(0x10a),_0x47e200[_0x11b217(0x152)]);return;}const _0x414603=(_0x298107[_0x11b217(0x23f)][_0x11b217(0xc0)](_0x47e200[_0x11b217(0x164)])||'')[_0x11b217(0x142)]();if(_0x298107['ok']&&(_0x414603[_0x11b217(0x256)](_0x11b217(0x22b))||_0x414603[_0x11b217(0x256)](_0x47e200[_0x11b217(0x122)]))){if(_0x47e200[_0x11b217(0x267)](isPcmMimeType,_0x414603)){const _0x45185e=await _0x298107[_0x11b217(0xef)](),_0x78a777=_0x414603[_0x11b217(0x25d)](/rate=(\d+)/i),_0x3ef986=_0x78a777?_0x47e200['hFlYJ'](Number,_0x78a777[0x18f6+-0x16e8+-0x7*0x4b]):-0x3f*-0x3b+0x3*0x1972+0x2e5;if(_0x3fdbf1)_0x47e200[_0x11b217(0x186)](updateTypingIndicator,_0x3fdbf1,'SuFi\x20sedang\x20berbicara...');if(_0x2a9acd)_0x47e200[_0x11b217(0xf9)](setVoiceStatus,_0x11b217(0x181),_0x47e200[_0x11b217(0x22f)]);playPcmBufferAsWav(_0x45185e,_0x3ef986,function(){const _0x18263a=_0x11b217;if(_0x3fdbf1)_0x47e200[_0x18263a(0xca)](removeTypingIndicator,_0x3fdbf1);_0x47e200[_0x18263a(0x19a)](setVoiceStatus,_0x47e200['fhhoS'],_0x47e200[_0x18263a(0x268)]);},function(){const _0x2c740b=_0x11b217;if(_0x3fdbf1)updateTypingIndicator(_0x3fdbf1,_0x47e200[_0x2c740b(0x106)]);if(_0x2a9acd)_0x47e200[_0x2c740b(0x260)](setVoiceStatus,_0x47e200[_0x2c740b(0xe0)],_0x2c740b(0x187));});return;}const _0xe946ed=await _0x298107['blob']();if(_0x3fdbf1)_0x47e200[_0x11b217(0x253)](updateTypingIndicator,_0x3fdbf1,_0x11b217(0x1e6));if(_0x2a9acd)_0x47e200[_0x11b217(0xf9)](setVoiceStatus,_0x11b217(0x181),_0x11b217(0x187));playTtsBlob(_0xe946ed,function(){const _0x404282=_0x11b217;if(_0x3fdbf1)removeTypingIndicator(_0x3fdbf1);_0x47e200[_0x404282(0x19a)](setVoiceStatus,_0x47e200[_0x404282(0x140)],_0x47e200['pKxoB']);},function(){const _0x54528b=_0x11b217;if(_0x3fdbf1)_0x47e200[_0x54528b(0x19a)](updateTypingIndicator,_0x3fdbf1,_0x47e200[_0x54528b(0x106)]);if(_0x2a9acd)setVoiceStatus(_0x54528b(0x181),_0x47e200[_0x54528b(0x22f)]);});return;}let _0x135f5f=null;try{_0x135f5f=await _0x298107['json']();}catch(_0x778448){}if(!_0x298107['ok']){if(_0x3fdbf1)_0x47e200['arKMh'](removeTypingIndicator,_0x3fdbf1);_0x47e200[_0x11b217(0x186)](setVoiceStatus,_0x47e200[_0x11b217(0x140)],_0x47e200[_0x11b217(0x268)]),_0x47e200[_0x11b217(0x243)](appendMessage,_0x47e200[_0x11b217(0x172)],_0x47e200[_0x11b217(0x152)]);return;}if(_0x135f5f&&_0x135f5f[_0x11b217(0x153)]){const _0x35e750=_0x47e200[_0x11b217(0x14c)](parsePcmDataUrl,_0x135f5f[_0x11b217(0x153)]);if(_0x35e750&&_0x47e200[_0x11b217(0x1a0)](isPcmMimeType,_0x35e750['mimeType'])){if(_0x3fdbf1)_0x47e200[_0x11b217(0x186)](updateTypingIndicator,_0x3fdbf1,'SuFi\x20sedang\x20berbicara...');if(_0x2a9acd)setVoiceStatus(_0x47e200['RodIC'],_0x47e200[_0x11b217(0x22f)]);_0x47e200['dhABr'](playPcmBase64AsWav,_0x35e750[_0x11b217(0x214)],_0x35e750[_0x11b217(0x1e3)],function(){const _0x501223=_0x11b217;if(_0x3fdbf1)_0x47e200['EaxGs'](removeTypingIndicator,_0x3fdbf1);setVoiceStatus(_0x47e200[_0x501223(0x140)],_0x47e200['pKxoB']);},function(){const _0x1dd3b0=_0x11b217;if(_0x3fdbf1)_0x47e200[_0x1dd3b0(0x260)](updateTypingIndicator,_0x3fdbf1,_0x47e200[_0x1dd3b0(0x106)]);if(_0x2a9acd)setVoiceStatus('speaking',_0x47e200[_0x1dd3b0(0x22f)]);});return;}if(_0x3fdbf1)updateTypingIndicator(_0x3fdbf1,_0x47e200[_0x11b217(0x106)]);if(_0x2a9acd)setVoiceStatus(_0x47e200[_0x11b217(0xe0)],_0x47e200[_0x11b217(0x22f)]);_0x47e200[_0x11b217(0x1a3)](playTtsAudio,_0x135f5f[_0x11b217(0x153)],function(){const _0xe95550=_0x11b217;if(_0x3fdbf1)_0x47e200[_0xe95550(0x231)](removeTypingIndicator,_0x3fdbf1);_0x47e200[_0xe95550(0x19a)](setVoiceStatus,_0x47e200['fhhoS'],_0xe95550(0x182));},function(){const _0x11acc8=_0x11b217;if(_0x3fdbf1)_0x47e200['tBbIp'](updateTypingIndicator,_0x3fdbf1,_0x47e200[_0x11acc8(0x106)]);if(_0x2a9acd)setVoiceStatus(_0x47e200[_0x11acc8(0xe0)],_0x47e200[_0x11acc8(0x22f)]);});return;}const _0x448867=_0x135f5f&&_0x135f5f[_0x11b217(0x198)]&&_0x135f5f[_0x11b217(0x198)][_0x11b217(0x24e)];if(_0x448867){const _0x5a1add=_0x47e200[_0x11b217(0x1a5)](parsePcmDataUrl,_0x448867);if(_0x5a1add&&_0x47e200['tKBsA'](isPcmMimeType,_0x5a1add[_0x11b217(0xe6)])){if(_0x3fdbf1)_0x47e200[_0x11b217(0x20e)](updateTypingIndicator,_0x3fdbf1,_0x47e200[_0x11b217(0x106)]);if(_0x2a9acd)_0x47e200[_0x11b217(0x19a)](setVoiceStatus,_0x47e200[_0x11b217(0xe0)],_0x11b217(0x187));_0x47e200[_0x11b217(0x1d9)](playPcmBase64AsWav,_0x5a1add[_0x11b217(0x214)],_0x5a1add['sampleRate'],function(){const _0x134168=_0x11b217;if(_0x3fdbf1)_0x47e200['jrjHi'](removeTypingIndicator,_0x3fdbf1);setVoiceStatus(_0x47e200['fhhoS'],_0x47e200[_0x134168(0x268)]);},function(){const _0x28efd4=_0x11b217;if(_0x3fdbf1)updateTypingIndicator(_0x3fdbf1,'SuFi\x20sedang\x20berbicara...');if(_0x2a9acd)_0x47e200[_0x28efd4(0x1af)](setVoiceStatus,_0x47e200[_0x28efd4(0xe0)],_0x47e200[_0x28efd4(0x22f)]);});return;}if(_0x3fdbf1)_0x47e200[_0x11b217(0x260)](updateTypingIndicator,_0x3fdbf1,_0x47e200[_0x11b217(0x106)]);if(_0x2a9acd)_0x47e200['FiSaU'](setVoiceStatus,_0x47e200['RodIC'],_0x11b217(0x187));_0x47e200[_0x11b217(0x1a3)](playTtsAudio,_0x448867,function(){const _0x40800d=_0x11b217;if(_0x3fdbf1)_0x47e200[_0x40800d(0xca)](removeTypingIndicator,_0x3fdbf1);_0x47e200[_0x40800d(0x1af)](setVoiceStatus,_0x40800d(0x141),_0x40800d(0x182));},function(){const _0x5af5f9=_0x11b217;if(_0x3fdbf1)_0x47e200[_0x5af5f9(0x19a)](updateTypingIndicator,_0x3fdbf1,_0x47e200[_0x5af5f9(0x106)]);if(_0x2a9acd)_0x47e200['yzBuc'](setVoiceStatus,_0x47e200[_0x5af5f9(0xe0)],_0x47e200[_0x5af5f9(0x22f)]);});return;}const _0x421a70=_0x135f5f&&(_0x135f5f['audioContent']||_0x135f5f[_0x11b217(0x198)]&&_0x135f5f[_0x11b217(0x198)][_0x11b217(0x176)]),_0x255e4d=_0x135f5f&&_0x135f5f[_0x11b217(0x198)]&&_0x135f5f['audio'][_0x11b217(0xe6)]||_0x11b217(0x219);if(_0x421a70){if(isPcmMimeType(_0x255e4d)){const _0x189f9b=_0x255e4d[_0x11b217(0x25d)](/rate=(\d+)/i),_0x395978=_0x189f9b?_0x47e200[_0x11b217(0x1a5)](Number,_0x189f9b[-0x15*-0x89+-0x1e33+0x5*0x3cb]):0xba34+0x2fd9*0x1+-0x8c4d*0x1;if(_0x3fdbf1)_0x47e200['OJawK'](updateTypingIndicator,_0x3fdbf1,_0x47e200[_0x11b217(0x106)]);if(_0x2a9acd)_0x47e200[_0x11b217(0x19a)](setVoiceStatus,_0x47e200[_0x11b217(0xe0)],_0x47e200[_0x11b217(0x22f)]);_0x47e200['dhABr'](playPcmBase64AsWav,_0x421a70,_0x395978,function(){const _0x28ccdf=_0x11b217;if(_0x3fdbf1)_0x47e200[_0x28ccdf(0xf3)](removeTypingIndicator,_0x3fdbf1);_0x47e200[_0x28ccdf(0x260)](setVoiceStatus,_0x47e200[_0x28ccdf(0x140)],'Tekan\x20mic\x20untuk\x20mulai');},function(){const _0x2e551b=_0x11b217;if(_0x3fdbf1)updateTypingIndicator(_0x3fdbf1,_0x47e200['WkEpN']);if(_0x2a9acd)_0x47e200['cPMoR'](setVoiceStatus,_0x47e200[_0x2e551b(0xe0)],_0x2e551b(0x187));});}else{if(_0x3fdbf1)_0x47e200[_0x11b217(0xe4)](updateTypingIndicator,_0x3fdbf1,_0x47e200[_0x11b217(0x106)]);if(_0x2a9acd)_0x47e200[_0x11b217(0x264)](setVoiceStatus,_0x47e200[_0x11b217(0xe0)],_0x47e200[_0x11b217(0x22f)]);_0x47e200[_0x11b217(0x1e8)](playTtsBase64,_0x421a70,_0x255e4d,function(){const _0x59b651=_0x11b217;if(_0x3fdbf1)_0x47e200[_0x59b651(0xda)](removeTypingIndicator,_0x3fdbf1);_0x47e200[_0x59b651(0x147)](setVoiceStatus,_0x47e200[_0x59b651(0x140)],_0x47e200[_0x59b651(0x268)]);},function(){const _0x473a13=_0x11b217;if(_0x3fdbf1)_0x47e200[_0x473a13(0x186)](updateTypingIndicator,_0x3fdbf1,_0x47e200['WkEpN']);if(_0x2a9acd)_0x47e200[_0x473a13(0x19a)](setVoiceStatus,_0x47e200[_0x473a13(0xe0)],_0x473a13(0x187));});}return;}const _0x2f9ee5=_0x135f5f&&_0x135f5f['candidates']&&_0x135f5f['candidates'][-0x42*-0x64+0x385*-0x7+-0x125]&&_0x135f5f[_0x11b217(0x269)][0xf63+-0x1b27+0xbc4][_0x11b217(0x261)]&&_0x135f5f[_0x11b217(0x269)][-0xc4*0xd+-0x1c1e+0x2612][_0x11b217(0x261)][_0x11b217(0x1a4)]&&_0x135f5f[_0x11b217(0x269)][-0x3d*-0x1f+0xe26+0x25*-0x95][_0x11b217(0x261)][_0x11b217(0x1a4)][0x3a9*0x9+0x4fd+-0x25ee*0x1]&&_0x135f5f[_0x11b217(0x269)][0x204a*0x1+0x98*-0x1d+-0xf12]['content'][_0x11b217(0x1a4)][0x12af+-0x12d3+0x2*0x12][_0x11b217(0xa9)];if(_0x2f9ee5&&_0x2f9ee5[_0x11b217(0x176)]){const _0x421cd3=_0x2f9ee5[_0x11b217(0xe6)]||_0x47e200[_0x11b217(0x21e)];if(_0x47e200[_0x11b217(0xf3)](isPcmMimeType,_0x421cd3)){const _0x18a997=_0x421cd3['match'](/rate=(\d+)/i),_0x47171b=_0x18a997?Number(_0x18a997[-0x2701*-0x1+-0xd27*0x1+-0x19d9]):0x35ef+-0x97c7+-0x8*-0x17f3;if(_0x3fdbf1)_0x47e200['OJawK'](updateTypingIndicator,_0x3fdbf1,_0x47e200[_0x11b217(0x106)]);if(_0x2a9acd)setVoiceStatus(_0x47e200[_0x11b217(0xe0)],_0x47e200[_0x11b217(0x22f)]);_0x47e200[_0x11b217(0xba)](playPcmBase64AsWav,_0x2f9ee5[_0x11b217(0x176)],_0x47171b,function(){const _0x23914b=_0x11b217;if(_0x3fdbf1)_0x47e200['EaxGs'](removeTypingIndicator,_0x3fdbf1);_0x47e200[_0x23914b(0x260)](setVoiceStatus,_0x23914b(0x141),_0x23914b(0x182));},function(){const _0x597560=_0x11b217;if(_0x3fdbf1)_0x47e200[_0x597560(0x1af)](updateTypingIndicator,_0x3fdbf1,_0x597560(0x1e6));if(_0x2a9acd)_0x47e200[_0x597560(0x260)](setVoiceStatus,_0x47e200[_0x597560(0xe0)],_0x47e200['lmVVa']);});}else{if(_0x3fdbf1)_0x47e200[_0x11b217(0x19a)](updateTypingIndicator,_0x3fdbf1,_0x47e200[_0x11b217(0x106)]);if(_0x2a9acd)_0x47e200[_0x11b217(0x147)](setVoiceStatus,_0x47e200['RodIC'],_0x47e200[_0x11b217(0x22f)]);_0x47e200[_0x11b217(0x1b6)](playTtsBase64,_0x2f9ee5[_0x11b217(0x176)],_0x421cd3,function(){const _0x274133=_0x11b217;if(_0x3fdbf1)removeTypingIndicator(_0x3fdbf1);_0x47e200['dNWEi'](setVoiceStatus,_0x47e200[_0x274133(0x140)],_0x274133(0x182));},function(){const _0x41a68d=_0x11b217;if(_0x3fdbf1)_0x47e200[_0x41a68d(0xb1)](updateTypingIndicator,_0x3fdbf1,_0x47e200[_0x41a68d(0x106)]);if(_0x2a9acd)setVoiceStatus(_0x47e200[_0x41a68d(0xe0)],_0x47e200[_0x41a68d(0x22f)]);});}return;}if(_0x3fdbf1)_0x47e200[_0x11b217(0x1a5)](removeTypingIndicator,_0x3fdbf1);setVoiceStatus(_0x47e200[_0x11b217(0x140)],_0x11b217(0x182)),_0x47e200[_0x11b217(0xe4)](appendMessage,_0x47e200[_0x11b217(0x172)],'Maaf,\x20suara\x20belum\x20tersedia.');}async function sendVoiceMessage(_0x163a62){const _0x5ba1f3=_0x37c01f,_0x2a8a3b={'zfKdR':function(_0x5e5bc3,_0x114f3b){return _0x5e5bc3||_0x114f3b;},'rPYLB':_0x5ba1f3(0x10c),'nhZVV':function(_0x57d582,_0x22cba5,_0x392538){return _0x57d582(_0x22cba5,_0x392538);},'FSErI':_0x5ba1f3(0x19c),'wQcxH':_0x5ba1f3(0x20a),'nFmha':'SuFi\x20berfikir...','YFtXp':function(_0x45b448,_0x3fd2d2){return _0x45b448===_0x3fd2d2;},'JGkeL':'voice','YeqXq':function(_0x581af,_0x348eb1){return _0x581af(_0x348eb1);},'bruNG':function(_0x23f3d9,_0x17457a){return _0x23f3d9(_0x17457a);},'lBHhW':_0x5ba1f3(0xbc),'RzJRE':'server/chat.php','vgTsL':_0x5ba1f3(0x266),'wFDNG':_0x5ba1f3(0x222),'DxIFC':function(_0x511401,_0x309a3a,_0x1c6621){return _0x511401(_0x309a3a,_0x1c6621);},'ZIOUT':_0x5ba1f3(0x1ae),'dgMdA':'bot','KsDKQ':function(_0x30a498,_0x36b3f6){return _0x30a498||_0x36b3f6;},'qSMnv':function(_0x51e001,_0x59bc97,_0x4cf103){return _0x51e001(_0x59bc97,_0x4cf103);},'lGMOD':_0x5ba1f3(0x141),'veZlw':_0x5ba1f3(0x182),'JgoRC':function(_0x3e5edd,_0x2b354b,_0xf0606f){return _0x3e5edd(_0x2b354b,_0xf0606f);}},_0x4a883f=_0x2a8a3b['zfKdR'](_0x163a62,'')[_0x5ba1f3(0x1cf)]();if(!_0x4a883f)return;chatInput[_0x5ba1f3(0x139)]='',chatInput[_0x5ba1f3(0x1c8)][_0x5ba1f3(0x24a)]=_0x2a8a3b[_0x5ba1f3(0x1ce)],_0x2a8a3b['nhZVV'](appendMessage,_0x2a8a3b[_0x5ba1f3(0xd0)],_0x4a883f),setVoiceStatus(_0x2a8a3b[_0x5ba1f3(0x15e)],_0x2a8a3b['nFmha']),setInputState(!![]);const _0xd2c805=_0x2a8a3b['YFtXp'](currentMode,_0x2a8a3b['JGkeL'])?null:_0x2a8a3b['YeqXq'](showTypingIndicator,_0x5ba1f3(0xcf));try{const _0x3af63c=new FormData(),_0x25a103=_0x2a8a3b['bruNG'](buildChatPrompt,_0x4a883f);_0x3af63c[_0x5ba1f3(0x21f)](_0x2a8a3b[_0x5ba1f3(0x206)],_0x25a103);const _0x47efd8=await _0x2a8a3b[_0x5ba1f3(0x24b)](fetch,_0x2a8a3b[_0x5ba1f3(0x1bb)],{'method':'POST','cache':_0x2a8a3b[_0x5ba1f3(0x12b)],'body':_0x3af63c}),_0x426f3e=await _0x47efd8[_0x5ba1f3(0xb4)]();if(_0x426f3e[_0x5ba1f3(0x1f0)]||_0x426f3e['response']){const _0x52742b=_0x426f3e[_0x5ba1f3(0xf1)]||_0x426f3e[_0x5ba1f3(0x269)]?.[-0x1*-0x641+-0x6*0x2e+-0x52d*0x1]?.[_0x5ba1f3(0x261)]?.[_0x5ba1f3(0x1a4)]?.[-0x2046+-0x26aa+0x46f0]?.['text'],_0x4780a6=_0x2a8a3b[_0x5ba1f3(0x132)](typeof _0x52742b,_0x2a8a3b[_0x5ba1f3(0x226)])?_0x52742b[_0x5ba1f3(0x1cf)]():'';if(_0xd2c805)await showAnsweredStatus(_0xd2c805);_0x2a8a3b[_0x5ba1f3(0x10e)](setVoiceStatus,_0x2a8a3b[_0x5ba1f3(0xbb)],_0x5ba1f3(0x255)),_0x2a8a3b[_0x5ba1f3(0x24b)](appendMessage,_0x2a8a3b['dgMdA'],_0x2a8a3b[_0x5ba1f3(0x11c)](_0x4780a6,'')),_0x4780a6&&await _0x2a8a3b['bruNG'](requestTtsAudio,_0x4780a6);}else{if(_0xd2c805)_0x2a8a3b[_0x5ba1f3(0xc4)](removeTypingIndicator,_0xd2c805);_0x2a8a3b[_0x5ba1f3(0x197)](setVoiceStatus,_0x2a8a3b[_0x5ba1f3(0x1cd)],_0x2a8a3b['veZlw']),_0x2a8a3b[_0x5ba1f3(0x197)](appendMessage,_0x2a8a3b[_0x5ba1f3(0xad)],_0x5ba1f3(0x1d0));}}catch(_0xb49aac){if(_0xd2c805)_0x2a8a3b['YeqXq'](removeTypingIndicator,_0xd2c805);_0x2a8a3b[_0x5ba1f3(0x197)](setVoiceStatus,_0x2a8a3b[_0x5ba1f3(0x1cd)],_0x2a8a3b[_0x5ba1f3(0x1fe)]),_0x2a8a3b[_0x5ba1f3(0x212)](appendMessage,_0x2a8a3b[_0x5ba1f3(0xad)],_0x5ba1f3(0x16d));}finally{_0x2a8a3b[_0x5ba1f3(0xc4)](setInputState,![]);}}async function sendChatMessage(){const _0xc19ac9=_0x37c01f,_0x2c4b79={'FoYcV':function(_0x3dceee,_0x23f5e1){return _0x3dceee&&_0x23f5e1;},'dStSW':_0xc19ac9(0x10c),'YEMrt':'1:1','nMHsd':function(_0xd08912,_0x2db721){return _0xd08912/_0x2db721;},'wSwpb':function(_0x287e87,_0x39f7ff){return _0x287e87/_0x39f7ff;},'IMKJr':function(_0x1c99c6,_0x4dd5e6){return _0x1c99c6/_0x4dd5e6;},'gjCPI':function(_0x10faa9,_0x4a2844){return _0x10faa9/_0x4a2844;},'gWQoT':function(_0x11ce97,_0x2f91a9){return _0x11ce97/_0x2f91a9;},'ktdCz':function(_0x19eb1b,_0x1cc8e7){return _0x19eb1b-_0x1cc8e7;},'nZwZd':function(_0x5d5498,_0x77519f){return _0x5d5498<_0x77519f;},'yCszk':'user','FzkBZ':function(_0x280e6f){return _0x280e6f();},'xnYWm':function(_0x77427,_0x4b6f0c){return _0x77427(_0x4b6f0c);},'UIEnS':function(_0x364cd1,_0x22ab24){return _0x364cd1!==_0x22ab24;},'nKEHw':_0xc19ac9(0x14f),'SBnqS':function(_0x2ef249,_0x5af994,_0x236ea0){return _0x2ef249(_0x5af994,_0x236ea0);},'adMZr':function(_0x51e84c,_0x3d9409){return _0x51e84c===_0x3d9409;},'qBGQb':function(_0x4c4b20,_0x5a7cee,_0x55d330){return _0x4c4b20(_0x5a7cee,_0x55d330);},'BKGFK':_0xc19ac9(0xbc),'YADUO':_0xc19ac9(0xfd),'zsqtN':_0xc19ac9(0x124),'NyFgk':_0xc19ac9(0xed),'RWPnK':_0xc19ac9(0x266),'sbouv':function(_0x258da2,_0x51c662){return _0x258da2(_0x51c662);},'rULbW':_0xc19ac9(0x10a),'AnAAL':function(_0xb9535b,_0x1448a0){return _0xb9535b(_0x1448a0);},'bRigE':_0xc19ac9(0x13c),'nKRSO':_0xc19ac9(0x21d),'CvGtq':_0xc19ac9(0x1e1),'dXfJi':function(_0x26030c,_0x812142){return _0x26030c(_0x812142);},'AFCYW':function(_0x6a0285,_0x559a01,_0x23ed2b,_0x273889){return _0x6a0285(_0x559a01,_0x23ed2b,_0x273889);},'otdza':_0xc19ac9(0x1f8),'zRyFz':'Mengoptimalkan\x20instruksi...','cPboQ':function(_0x3807ee,_0x1c91dd){return _0x3807ee||_0x1c91dd;},'DeLaI':'Enhance\x20this\x20image','ciibA':_0xc19ac9(0x9e),'aZhiv':_0xc19ac9(0x191),'MzsXN':_0xc19ac9(0x1e9),'mJCjw':_0xc19ac9(0x123),'LUljS':function(_0x3031ef,_0x117982){return _0x3031ef(_0x117982);},'LztyT':_0xc19ac9(0x116),'esuRG':function(_0x5aa981,_0x115ef7){return _0x5aa981(_0x115ef7);},'gmKsy':function(_0x2371d4,_0x490b06,_0x44c009){return _0x2371d4(_0x490b06,_0x44c009);},'CXoXg':function(_0x17be34,_0x600d04,_0xf40a3e){return _0x17be34(_0x600d04,_0xf40a3e);},'QsfCC':function(_0x254810,_0x575918){return _0x254810||_0x575918;},'JBinZ':_0xc19ac9(0x1ae),'yKQeh':function(_0x5183ed,_0x16679d){return _0x5183ed(_0x16679d);},'dbsNC':function(_0x55896f,_0x25a400){return _0x55896f(_0x25a400);},'AFGfM':function(_0x1d24e9,_0x105d94){return _0x1d24e9(_0x105d94);},'vZlIR':function(_0x6f96d,_0x2bee3f,_0x1b3088){return _0x6f96d(_0x2bee3f,_0x1b3088);}},_0x3b88e2=chatInput[_0xc19ac9(0x139)][_0xc19ac9(0x1cf)]();if(_0x2c4b79['FoYcV'](!_0x3b88e2,!currentChatImage))return;chatInput[_0xc19ac9(0x139)]='',chatInput[_0xc19ac9(0x1c8)][_0xc19ac9(0x24a)]=_0x2c4b79[_0xc19ac9(0x217)];let _0xba0a58=null,_0x194cb7=_0x2c4b79[_0xc19ac9(0x100)];if(currentChatImage){_0xba0a58=chatImagePreview[_0xc19ac9(0x113)];if(chatImagePreview['naturalWidth']&&chatImagePreview[_0xc19ac9(0x1a1)]){const _0x21f660=chatImagePreview[_0xc19ac9(0x173)],_0x7729bb=chatImagePreview['naturalHeight'],_0x4d5c26=_0x2c4b79[_0xc19ac9(0xe5)](_0x21f660,_0x7729bb),_0x3b8c97={'1:1':0x1,'16:9':_0x2c4b79[_0xc19ac9(0xd8)](0x13c6+0x9*0x29+-0x3*0x70d,-0x1c*-0x49+0x24d0+-0x2cc3),'9:16':_0x2c4b79[_0xc19ac9(0x11f)](0x8*-0x271+-0x1267+-0x97e*-0x4,-0xf63+-0x1*0x138f+0x2302),'4:3':_0x2c4b79[_0xc19ac9(0x1a6)](-0xb*0x277+0x5*0x631+0x1c*-0x23,-0x1e97+0x1*0x195b+0x53f),'3:4':(0x1ddd+-0x7*-0x2+-0x1de8)/(0x1418+0x11f5*0x2+-0x37fe*0x1),'21:9':(-0x9d*-0x1+0xb*0x1a3+-0x1289)/(0x5de+-0x3e7+0x13*-0x1a),'9:21':_0x2c4b79['gWQoT'](0x1284+0x1090+-0x1*0x230b,-0x19*0xae+-0x8*-0x31+0xad*0x17)};let _0x20a18b=Infinity;for(const [_0x57cb70,_0x246db2]of Object[_0xc19ac9(0x257)](_0x3b8c97)){const _0x3619bb=Math[_0xc19ac9(0x18b)](_0x2c4b79['ktdCz'](_0x4d5c26,_0x246db2));_0x2c4b79['nZwZd'](_0x3619bb,_0x20a18b)&&(_0x20a18b=_0x3619bb,_0x194cb7=_0x57cb70);}console[_0xc19ac9(0x232)](_0xc19ac9(0x125)+_0x21f660+'x'+_0x7729bb+'\x20('+_0x4d5c26[_0xc19ac9(0x21a)](-0xc99+0xddc*-0x1+0x1a77)+_0xc19ac9(0x127)+_0x194cb7);}}appendMessage(_0x2c4b79['yCszk'],_0x3b88e2,_0xba0a58);const _0x253635=currentChatImage;_0x2c4b79['FzkBZ'](clearChatImage),_0x2c4b79['xnYWm'](setInputState,!![]);const _0x5b7a72=_0x2c4b79['FzkBZ'](showTypingIndicator);_0x2c4b79[_0xc19ac9(0x1e2)](currentMode,_0x2c4b79[_0xc19ac9(0x16f)])&&_0x2c4b79[_0xc19ac9(0x163)](updateTypingIndicator,_0x5b7a72,'SuFi\x20sedang\x20berfikir...');try{if(_0x2c4b79['adMZr'](currentMode,_0x2c4b79['nKEHw'])){if(!_0x253635){_0x2c4b79['qBGQb'](updateTypingIndicator,_0x5b7a72,_0xc19ac9(0x97));const _0x54527c=new FormData();_0x54527c[_0xc19ac9(0x21f)](_0x2c4b79[_0xc19ac9(0x16a)],buildRefinePrompt(_0x2c4b79['YADUO'],_0x3b88e2));const _0x43532a=await fetch(_0x2c4b79['zsqtN'],{'method':_0x2c4b79[_0xc19ac9(0x236)],'cache':_0x2c4b79['RWPnK'],'body':_0x54527c}),_0x21a79b=await _0x43532a[_0xc19ac9(0xb4)](),_0x397a4a=_0x21a79b[_0xc19ac9(0xf1)]||_0x3b88e2;_0x2c4b79['sbouv'](removeTypingIndicator,_0x5b7a72),appendMessage(_0x2c4b79['rULbW'],_0xc19ac9(0x22a)+_0x397a4a);const _0x55d3da=_0x2c4b79[_0xc19ac9(0x1a7)](showTypingIndicator,_0x2c4b79[_0xc19ac9(0x115)]),_0x445199=new FormData();_0x445199[_0xc19ac9(0x21f)](_0xc19ac9(0x1e9),_0x397a4a),_0x445199[_0xc19ac9(0x21f)](_0x2c4b79[_0xc19ac9(0xaa)],_0x2c4b79[_0xc19ac9(0x100)]);const _0x1fb2b3=await fetch(_0x2c4b79[_0xc19ac9(0x193)],{'method':_0x2c4b79[_0xc19ac9(0x236)],'cache':_0x2c4b79[_0xc19ac9(0xd6)],'body':_0x445199}),_0xbbe39f=await _0x1fb2b3[_0xc19ac9(0xb4)]();_0x2c4b79[_0xc19ac9(0x20b)](removeTypingIndicator,_0x55d3da);if(_0xbbe39f[_0xc19ac9(0x1f0)]&&_0xbbe39f['imageUrl']){_0x2c4b79[_0xc19ac9(0x1d6)](appendMessage,_0xc19ac9(0x10a),_0xc19ac9(0xf8),_0xbbe39f[_0xc19ac9(0xe9)]);if(window[_0xc19ac9(0x23d)])window[_0xc19ac9(0x23d)]();}else{_0x2c4b79['SBnqS'](appendMessage,_0x2c4b79['rULbW'],_0x2c4b79[_0xc19ac9(0xb7)]);if(window[_0xc19ac9(0x1df)])window[_0xc19ac9(0x1df)]();}}else{updateTypingIndicator(_0x5b7a72,_0x2c4b79[_0xc19ac9(0x254)]);const _0x2b37d0=_0x2c4b79[_0xc19ac9(0xe1)](_0x3b88e2,_0x2c4b79['DeLaI']),_0x26416b=new FormData();_0x26416b[_0xc19ac9(0x21f)](_0x2c4b79[_0xc19ac9(0x16a)],buildRefinePrompt(_0x2c4b79[_0xc19ac9(0x248)],_0x2b37d0)),_0x26416b[_0xc19ac9(0x21f)](_0xc19ac9(0x123),_0x253635);const _0x550734=await _0x2c4b79[_0xc19ac9(0x1ad)](fetch,_0x2c4b79[_0xc19ac9(0x249)],{'method':_0x2c4b79[_0xc19ac9(0x236)],'cache':_0x2c4b79[_0xc19ac9(0xd6)],'body':_0x26416b}),_0x1532f4=await _0x550734[_0xc19ac9(0xb4)](),_0x3d1a2e=_0x1532f4[_0xc19ac9(0xf1)]||_0x2b37d0;_0x2c4b79[_0xc19ac9(0x20b)](removeTypingIndicator,_0x5b7a72),_0x2c4b79[_0xc19ac9(0x163)](appendMessage,_0x2c4b79['rULbW'],_0xc19ac9(0x1f4)+_0x3d1a2e);const _0x287684=showTypingIndicator(_0x2c4b79[_0xc19ac9(0x17e)]),_0x12db64=new FormData();_0x12db64['append'](_0x2c4b79['MzsXN'],_0x3d1a2e),_0x12db64[_0xc19ac9(0x21f)](_0x2c4b79['mJCjw'],_0x253635),_0x12db64[_0xc19ac9(0x21f)](_0x2c4b79[_0xc19ac9(0xaa)],_0x194cb7);const _0x36a053=await _0x2c4b79['SBnqS'](fetch,_0xc19ac9(0x1e1),{'method':_0x2c4b79[_0xc19ac9(0x236)],'cache':_0x2c4b79[_0xc19ac9(0xd6)],'body':_0x12db64}),_0x474ddb=await _0x36a053['json']();_0x2c4b79[_0xc19ac9(0x21c)](removeTypingIndicator,_0x287684);if(_0x474ddb[_0xc19ac9(0x1f0)]&&_0x474ddb['imageUrl']){_0x2c4b79['AFCYW'](appendMessage,_0xc19ac9(0x10a),_0xc19ac9(0x1a9),_0x474ddb[_0xc19ac9(0xe9)]);if(window[_0xc19ac9(0x23d)])window[_0xc19ac9(0x23d)]();}else{_0x2c4b79['qBGQb'](appendMessage,'bot',_0x2c4b79[_0xc19ac9(0x238)]);if(window[_0xc19ac9(0x1df)])window[_0xc19ac9(0x1df)]();}}}else{const _0x581922=new FormData(),_0x1ff2e8=_0x2c4b79['esuRG'](buildChatPrompt,_0x3b88e2);_0x581922[_0xc19ac9(0x21f)]('prompt',_0x1ff2e8);_0x253635&&_0x581922[_0xc19ac9(0x21f)]('images[]',_0x253635);const _0x3af561=await _0x2c4b79[_0xc19ac9(0x1bf)](fetch,'server/chat.php',{'method':_0xc19ac9(0xed),'cache':_0x2c4b79[_0xc19ac9(0xd6)],'body':_0x581922}),_0x21f9bc=await _0x3af561[_0xc19ac9(0xb4)]();if(_0x21f9bc[_0xc19ac9(0x1f0)]||_0x21f9bc[_0xc19ac9(0xf1)]){const _0x566b80=_0x21f9bc[_0xc19ac9(0xf1)]||_0x21f9bc['candidates']?.[-0x17ca+0x1ba0+-0x3d6]?.[_0xc19ac9(0x261)]?.['parts']?.[0x4*-0x827+0x596*0x1+-0x1*-0x1b06]?.['text'],_0x5b3050=typeof _0x566b80===_0xc19ac9(0x222)?_0x566b80[_0xc19ac9(0x1cf)]():'';await _0x2c4b79[_0xc19ac9(0x20b)](showAnsweredStatus,_0x5b7a72),_0x2c4b79[_0xc19ac9(0x190)](appendMessage,_0x2c4b79[_0xc19ac9(0xc8)],_0x2c4b79['QsfCC'](_0x5b3050,'')),_0x2c4b79[_0xc19ac9(0x130)](currentMode,'voice')&&_0x5b3050&&(_0x2c4b79[_0xc19ac9(0x1ad)](setVoiceStatus,_0x2c4b79['JBinZ'],_0xc19ac9(0x255)),await _0x2c4b79[_0xc19ac9(0x225)](requestTtsAudio,_0x5b3050));}else _0x2c4b79[_0xc19ac9(0x11e)](removeTypingIndicator,_0x5b7a72),_0x2c4b79[_0xc19ac9(0x1bf)](appendMessage,_0x2c4b79[_0xc19ac9(0xc8)],_0xc19ac9(0x1d0));}}catch(_0x440523){console[_0xc19ac9(0x119)](_0x440523),_0x2c4b79[_0xc19ac9(0x194)](removeTypingIndicator,_0x5b7a72),_0x2c4b79['vZlIR'](appendMessage,_0xc19ac9(0x10a),_0xc19ac9(0x16d));}finally{_0x2c4b79[_0xc19ac9(0x221)](setInputState,![]);}}