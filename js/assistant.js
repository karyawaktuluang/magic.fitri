const _0x24967e=_0x36ac;(function(_0x1d8e80,_0x3afb67){const _0x31e866=_0x36ac,_0x555bb0=_0x1d8e80();while(!![]){try{const _0x1f2c25=-parseInt(_0x31e866(0x22e))/(0xeb*0x5+-0x676+0x1e0)+parseInt(_0x31e866(0x1cb))/(-0x32a+0x90a+-0x5de*0x1)*(parseInt(_0x31e866(0x23b))/(-0x1527*0x1+-0x1a3+-0x16cd*-0x1))+parseInt(_0x31e866(0x146))/(0x1330+0x4fb*0x3+-0x221d)+parseInt(_0x31e866(0x278))/(0x20b7+0x3*-0x92a+0xde*-0x6)+parseInt(_0x31e866(0x132))/(-0x1*0x175f+0xe70+0x8f5)+-parseInt(_0x31e866(0xe1))/(-0x1f1+0x1045+0x20b*-0x7)*(parseInt(_0x31e866(0x1a6))/(0x1c38+-0xc26+-0x100a))+parseInt(_0x31e866(0x186))/(-0x148e*-0x1+-0x16e8+0x263)*(-parseInt(_0x31e866(0x1b6))/(0x14be+-0x1*-0x1f91+0x3445*-0x1));if(_0x1f2c25===_0x3afb67)break;else _0x555bb0['push'](_0x555bb0['shift']());}catch(_0x2d01f9){_0x555bb0['push'](_0x555bb0['shift']());}}}(_0x2c7a,-0x43e13+-0x5*0x249d3+0x2*0xc972d));var assistantModal=document['getElementById'](_0x24967e(0x269)),chatContainer=document[_0x24967e(0x21e)](_0x24967e(0x1ea)),chatInput=document['getElementById'](_0x24967e(0x171)),chatFileInput=document[_0x24967e(0x21e)](_0x24967e(0x1d5)),chatImagePreviewContainer=document[_0x24967e(0x21e)]('chat-image-preview-container'),chatImagePreview=document[_0x24967e(0x21e)](_0x24967e(0x135)),chatSendBtn=document['getElementById'](_0x24967e(0x1c6)),chatImageBtn=document['getElementById'](_0x24967e(0x25d)),voiceMicBtn=document['getElementById'](_0x24967e(0x27a)),voiceUi=document[_0x24967e(0x21e)](_0x24967e(0x17a)),voiceOrb=document['getElementById'](_0x24967e(0x1a3)),voiceStatus=document[_0x24967e(0x21e)](_0x24967e(0x128)),voiceStatusText=document[_0x24967e(0x21e)](_0x24967e(0x137)),voiceStatusIcon=document['getElementById'](_0x24967e(0x148)),aiResponseAudio=new Audio(_0x24967e(0x1ca)),currentChatImage=null,currentMode=null,voiceRecognizer=null,isVoiceListening=![],isVoiceStarting=![],ttsAudio=null,CHAT_HISTORY_KEY=_0x24967e(0x11d),CHAT_HISTORY_LIMIT=-0xa96+0x1145+-0x7*0xf1;function loadChatHistory(){const _0x4832f9=_0x24967e,_0x5c26fd={'TMKvd':function(_0x393785,_0x49e84e){return _0x393785===_0x49e84e;},'QfqMS':_0x4832f9(0x10d),'TcaAN':function(_0x1846d8,_0x35bec9){return _0x1846d8!==_0x35bec9;}};try{var _0xa16e70=localStorage['getItem'](CHAT_HISTORY_KEY);if(!_0xa16e70)return[];var _0x1cd531=JSON['parse'](_0xa16e70);if(!Array[_0x4832f9(0x1f6)](_0x1cd531))return[];return _0x1cd531[_0x4832f9(0x195)](function(_0x47c424){const _0x50ad1c=_0x4832f9;return _0x47c424&&_0x5c26fd['TMKvd'](typeof _0x47c424,_0x5c26fd[_0x50ad1c(0x14d)])&&_0x5c26fd[_0x50ad1c(0x19b)](typeof _0x47c424[_0x50ad1c(0x19f)],_0x50ad1c(0x25c))&&_0x5c26fd['TcaAN'](_0x47c424[_0x50ad1c(0x19f)]['trim'](),'');});}catch(_0x1aa8d9){return[];}}function saveChatHistory(_0x5a4cf3){const _0x10faa6=_0x24967e;try{localStorage[_0x10faa6(0x199)](CHAT_HISTORY_KEY,JSON[_0x10faa6(0xf6)](_0x5a4cf3));}catch(_0x4e2f8a){}}function addChatHistory(_0x24cfef,_0x58af48){const _0xfea582=_0x24967e,_0x288341={'NYBAW':_0xfea582(0x1d9),'famUz':function(_0x2fd7b0,_0x4ec91b){return _0x2fd7b0===_0x4ec91b;},'HRvBa':'user','jBOtg':function(_0x5393ed,_0x27fd09){return _0x5393ed||_0x27fd09;},'eTHGr':_0xfea582(0xee),'mVuCh':function(_0xe5991d,_0x1bd77b){return _0xe5991d-_0x1bd77b;},'zYoyc':function(_0x4aab1c,_0x218ce6){return _0x4aab1c||_0x218ce6;},'YFbcs':function(_0x2bac92,_0xea1e43){return _0x2bac92(_0xea1e43);},'ARwqt':function(_0x2a4574){return _0x2a4574();}},_0x51f7a6=_0x288341['NYBAW'][_0xfea582(0x168)]('|');let _0x518b39=0x1dcf+-0x14*-0x152+-0x3837;while(!![]){switch(_0x51f7a6[_0x518b39++]){case'0':_0x20b8e6[_0xfea582(0x1fc)]({'role':_0x288341['famUz'](_0x24cfef,'user')?_0x288341['HRvBa']:'assistant','text':_0xc9f421,'mode':_0x288341[_0xfea582(0x1e3)](currentMode,_0x288341[_0xfea582(0x1c0)]),'ts':Date[_0xfea582(0x108)]()});continue;case'1':_0x20b8e6[_0xfea582(0x16d)]>CHAT_HISTORY_LIMIT&&(_0x20b8e6=_0x20b8e6[_0xfea582(0x27e)](_0x288341['mVuCh'](_0x20b8e6[_0xfea582(0x16d)],CHAT_HISTORY_LIMIT)));continue;case'2':var _0xc9f421=_0x288341[_0xfea582(0x228)](_0x58af48,'')[_0xfea582(0x22f)]();continue;case'3':if(!_0xc9f421)return;continue;case'4':_0x288341['YFbcs'](saveChatHistory,_0x20b8e6);continue;case'5':var _0x20b8e6=_0x288341['ARwqt'](loadChatHistory);continue;}break;}}function buildContextLines(_0xc8120){const _0x283173=_0x24967e,_0x324997={'YUgxV':function(_0x1b7fbe,_0x3e5925){return _0x1b7fbe===_0x3e5925;},'sttbe':_0x283173(0xef),'XSdbt':_0x283173(0x1aa),'aVkql':_0x283173(0x17e),'ILMOR':function(_0x1312c0,_0xb60e28){return _0x1312c0+_0xb60e28;},'KXmoP':function(_0x885fd7,_0x59624f){return _0x885fd7+_0x59624f;},'xqtUp':function(_0x2cc73f){return _0x2cc73f();}};var _0x562df3=_0x324997[_0x283173(0x12f)](loadChatHistory);if(_0x562df3[_0x283173(0x16d)]&&_0xc8120){var _0x2687e2=_0x562df3[_0x562df3[_0x283173(0x16d)]-(0xd*0x144+-0x1*0x88a+-0x7e9)];_0x2687e2&&_0x2687e2['role']===_0x324997[_0x283173(0x271)]&&_0x324997[_0x283173(0x1c2)](_0x2687e2[_0x283173(0x19f)],_0xc8120)&&(_0x562df3=_0x562df3[_0x283173(0x27e)](0x2668+0x8b*-0x7+-0x229b,-(-0x117*-0xd+0x15*0x1d5+0x19*-0x21b)));}return _0x562df3[_0x283173(0x172)](function(_0x413f61){const _0x30b988=_0x283173;var _0x17a550=_0x324997['YUgxV'](_0x413f61[_0x30b988(0x24d)],_0x324997[_0x30b988(0x271)])?_0x324997['XSdbt']:_0x324997[_0x30b988(0x1cf)];return _0x324997[_0x30b988(0x18e)](_0x324997[_0x30b988(0x26d)](_0x17a550,':\x20'),_0x413f61[_0x30b988(0x19f)]);});}function buildChatPrompt(_0x15e0eb){const _0x2d063b=_0x24967e,_0x3e7005={'Txdfu':function(_0x597496,_0x43ca0e){return _0x597496(_0x43ca0e);},'RnJAL':function(_0x119126,_0xfec3fb){return _0x119126+_0xfec3fb;},'iOSWW':function(_0x347de8,_0x4346d7){return _0x347de8+_0x4346d7;},'zYmgV':function(_0x56e98b,_0x44dac7){return _0x56e98b+_0x44dac7;},'GeVTG':'User:\x20'};var _0x2c5b7a=_0x3e7005[_0x2d063b(0x16a)](buildContextLines,_0x15e0eb),_0x2036f1=_0x2c5b7a['length']?_0x3e7005[_0x2d063b(0x19a)](_0x3e7005['RnJAL'](_0x2d063b(0x261),_0x2c5b7a[_0x2d063b(0x242)]('\x0a')),'\x0a\x0a'):'',_0x580c3b=_0x2d063b(0x209);return _0x3e7005[_0x2d063b(0x28a)](_0x3e7005[_0x2d063b(0x102)](_0x580c3b,_0x2036f1),_0x3e7005['GeVTG'])+_0x15e0eb;}function buildRefinePrompt(_0x4caf56,_0x17283a){const _0x616fee=_0x24967e,_0x4262bf={'kBezl':function(_0x5b4cb7,_0x3b5440){return _0x5b4cb7(_0x3b5440);},'RXOJU':function(_0x385946,_0x3a9faa){return _0x385946+_0x3a9faa;},'QZxyz':'{text}'};var _0x288920=_0x4262bf[_0x616fee(0x29a)](buildContextLines,_0x17283a),_0x1e7766=_0x288920[_0x616fee(0x16d)]?_0x4262bf[_0x616fee(0x124)](_0x4262bf['RXOJU'](_0x616fee(0x21f),_0x288920['join']('\x0a')),'\x0a\x0a'):'';return _0x4262bf['RXOJU'](_0x1e7766,_0x4caf56[_0x616fee(0x243)](_0x4262bf[_0x616fee(0x1f1)],_0x17283a));}function selectMode(_0x4d275f){const _0x1892dd=_0x24967e,_0x43d685={'kTAyW':_0x1892dd(0x26b),'fAUgs':'chat-messages-container','aqtfx':_0x1892dd(0x164),'gqSLx':_0x1892dd(0x15f),'GakdS':_0x1892dd(0x1bc),'amrrN':'mode-chat-theme','ahlNM':'mode-image-theme','vpJDn':_0x1892dd(0x26a),'UlpOS':_0x1892dd(0x16b),'dHvGA':function(_0x391b97,_0x3f2973){return _0x391b97===_0x3f2973;},'PHlkd':_0x1892dd(0x173),'FUSOE':_0x1892dd(0x207),'qGQzW':_0x1892dd(0x20e),'CmIhB':function(_0xa4e5a8,_0x5b6d29){return _0xa4e5a8(_0x5b6d29);},'zNyfx':function(_0x1bfe80,_0x3a5020){return _0x1bfe80===_0x3a5020;},'mdQZN':_0x1892dd(0x24a),'NXQrj':function(_0x42d166,_0x37d168,_0x4e1d88){return _0x42d166(_0x37d168,_0x4e1d88);},'wdsst':'idle','uruUV':'Tekan\x20mic\x20lalu\x20bicara...','WOVWB':_0x1892dd(0x249),'nnsIy':function(_0x59abd0){return _0x59abd0();},'Fbaqy':function(_0x9b1e7d,_0x347236){return _0x9b1e7d!==_0x347236;},'VcYhD':_0x1892dd(0x281)};currentMode=_0x4d275f,document[_0x1892dd(0x21e)](_0x43d685[_0x1892dd(0x1ec)])[_0x1892dd(0x1f9)]['add'](_0x1892dd(0x1bc)),document[_0x1892dd(0x21e)](_0x43d685['fAUgs'])[_0x1892dd(0x1f9)][_0x1892dd(0x286)]('hidden'),document['getElementById'](_0x43d685['aqtfx'])[_0x1892dd(0x1f9)][_0x1892dd(0x286)](_0x1892dd(0x1bc)),document['getElementById'](_0x43d685[_0x1892dd(0x177)])['classList'][_0x1892dd(0x286)](_0x43d685[_0x1892dd(0x180)]);const _0x506436=document[_0x1892dd(0x21e)](_0x1892dd(0x269));_0x506436[_0x1892dd(0x1f9)][_0x1892dd(0x286)](_0x43d685[_0x1892dd(0x17f)],_0x43d685[_0x1892dd(0x244)],_0x1892dd(0x249));const _0x338ae2=document[_0x1892dd(0x21e)](_0x43d685['vpJDn']),_0x38699e=document[_0x1892dd(0x21e)](_0x43d685[_0x1892dd(0x206)]);if(_0x43d685['dHvGA'](_0x4d275f,_0x43d685[_0x1892dd(0x24c)])){const _0x362b91=_0x1892dd(0x198)[_0x1892dd(0x168)]('|');let _0x65a780=0xf*-0x27+-0x13b*0x1b+0x2382;while(!![]){switch(_0x362b91[_0x65a780++]){case'0':chatFileInput[_0x1892dd(0x194)]=![];continue;case'1':_0x338ae2['innerHTML'][_0x1892dd(0x22f)]()===''&&appendMessage(_0x43d685['FUSOE'],'Assalamualaikum!\x20Saya\x20siap\x20menjawab\x20pertanyaan\x20seputar\x20Ramadhan.\x20Apa\x20yang\x20ingin\x20ditanyakan?');continue;case'2':document[_0x1892dd(0x21e)](_0x1892dd(0x22b))[_0x1892dd(0x1f9)][_0x1892dd(0x286)](_0x43d685[_0x1892dd(0x180)]);continue;case'3':chatSendBtn[_0x1892dd(0x1f9)][_0x1892dd(0x286)](_0x1892dd(0x1bc));continue;case'4':_0x338ae2[_0x1892dd(0x1f9)]['remove'](_0x43d685[_0x1892dd(0x180)]);continue;case'5':chatInput[_0x1892dd(0x29e)]=![];continue;case'6':document[_0x1892dd(0x21e)](_0x43d685[_0x1892dd(0x1ae)])[_0x1892dd(0x1f9)][_0x1892dd(0x286)](_0x1892dd(0x1bc));continue;case'7':chatImageBtn['classList'][_0x1892dd(0x286)](_0x1892dd(0x1bc));continue;case'8':if(voiceUi)voiceUi[_0x1892dd(0x1f9)][_0x1892dd(0x12c)](_0x1892dd(0x1bc));continue;case'9':_0x506436['classList'][_0x1892dd(0x12c)](_0x43d685[_0x1892dd(0x17f)]);continue;case'10':chatInput[_0x1892dd(0x1b3)]=_0x43d685[_0x1892dd(0x250)];continue;case'11':_0x38699e[_0x1892dd(0x1f9)][_0x1892dd(0x12c)](_0x43d685[_0x1892dd(0x180)]);continue;case'12':_0x43d685[_0x1892dd(0x1c1)](setVoiceSpeaking,![]);continue;}break;}}else{if(_0x43d685[_0x1892dd(0x253)](_0x4d275f,_0x1892dd(0x281))){const _0x1744d0=_0x43d685['mdQZN'][_0x1892dd(0x168)]('|');let _0x108b5a=-0x1*0x3e5+0x18c9+-0x14e4;while(!![]){switch(_0x1744d0[_0x108b5a++]){case'0':_0x43d685[_0x1892dd(0x121)](setVoiceStatus,_0x43d685[_0x1892dd(0xdd)],_0x1892dd(0x1b5));continue;case'1':if(voiceUi)voiceUi[_0x1892dd(0x1f9)][_0x1892dd(0x286)](_0x43d685['GakdS']);continue;case'2':document['getElementById'](_0x1892dd(0x22b))[_0x1892dd(0x1f9)][_0x1892dd(0x12c)](_0x43d685[_0x1892dd(0x180)]);continue;case'3':chatFileInput['disabled']=!![];continue;case'4':chatInput['placeholder']=_0x43d685[_0x1892dd(0x1d7)];continue;case'5':_0x506436[_0x1892dd(0x1f9)][_0x1892dd(0x12c)](_0x43d685[_0x1892dd(0x1e2)]);continue;case'6':chatSendBtn[_0x1892dd(0x1f9)][_0x1892dd(0x12c)](_0x43d685[_0x1892dd(0x180)]);continue;case'7':_0x43d685[_0x1892dd(0x2a0)](setupVoiceRecognition);continue;case'8':_0x43d685[_0x1892dd(0x2a0)](clearChatImage);continue;case'9':document['getElementById'](_0x43d685['aqtfx'])[_0x1892dd(0x1f9)][_0x1892dd(0x12c)](_0x43d685['GakdS']);continue;case'10':chatInput[_0x1892dd(0x29e)]=!![];continue;case'11':chatImageBtn[_0x1892dd(0x1f9)]['add'](_0x43d685[_0x1892dd(0x180)]);continue;case'12':_0x38699e[_0x1892dd(0x1f9)][_0x1892dd(0x12c)](_0x43d685[_0x1892dd(0x180)]);continue;case'13':_0x338ae2[_0x1892dd(0x1f9)][_0x1892dd(0x12c)](_0x43d685['GakdS']);continue;}break;}}else{const _0x6cc7f6=_0x1892dd(0x222)[_0x1892dd(0x168)]('|');let _0x25bf62=-0x1916+-0xef9+0x1*0x280f;while(!![]){switch(_0x6cc7f6[_0x25bf62++]){case'0':_0x338ae2['classList'][_0x1892dd(0x12c)](_0x43d685[_0x1892dd(0x180)]);continue;case'1':chatInput['readOnly']=![];continue;case'2':document[_0x1892dd(0x21e)](_0x43d685[_0x1892dd(0x1ae)])[_0x1892dd(0x1f9)][_0x1892dd(0x286)](_0x43d685[_0x1892dd(0x180)]);continue;case'3':chatImageBtn[_0x1892dd(0x1f9)][_0x1892dd(0x286)](_0x43d685['GakdS']);continue;case'4':chatInput['placeholder']=_0x43d685['qGQzW'];continue;case'5':_0x506436[_0x1892dd(0x1f9)][_0x1892dd(0x12c)](_0x1892dd(0x181));continue;case'6':chatSendBtn[_0x1892dd(0x1f9)][_0x1892dd(0x286)](_0x43d685[_0x1892dd(0x180)]);continue;case'7':document[_0x1892dd(0x21e)](_0x43d685[_0x1892dd(0x154)])[_0x1892dd(0x1f9)]['remove'](_0x43d685['GakdS']);continue;case'8':_0x38699e[_0x1892dd(0x237)][_0x1892dd(0x22f)]()===''&&_0x43d685[_0x1892dd(0x121)](appendMessage,_0x43d685['FUSOE'],_0x1892dd(0x176));continue;case'9':setVoiceSpeaking(![]);continue;case'10':chatFileInput[_0x1892dd(0x194)]=![];continue;case'11':if(voiceUi)voiceUi[_0x1892dd(0x1f9)][_0x1892dd(0x12c)](_0x43d685[_0x1892dd(0x180)]);continue;case'12':_0x38699e[_0x1892dd(0x1f9)][_0x1892dd(0x286)](_0x43d685['GakdS']);continue;}break;}}}_0x43d685[_0x1892dd(0x24b)](_0x4d275f,_0x43d685[_0x1892dd(0x115)])&&chatInput[_0x1892dd(0x225)](),chatContainer[_0x1892dd(0x25a)]=chatContainer[_0x1892dd(0xec)];}function switchMode(){const _0x5ce0bb=_0x24967e,_0x47f407={'ZIpcH':'hidden','zQsyN':_0x5ce0bb(0x22b),'WfmiA':_0x5ce0bb(0x164),'AYDLJ':_0x5ce0bb(0x15f),'YxqlZ':'assistant-modal','aOqjq':'mode-image-theme','IHihN':_0x5ce0bb(0x249),'EqMdm':function(_0x56c80a){return _0x56c80a();},'TSRKu':function(_0x53ddf5,_0x5a8eb5){return _0x53ddf5(_0x5a8eb5);},'iTngQ':_0x5ce0bb(0x1b5)};currentMode=null,document[_0x5ce0bb(0x21e)]('mode-selection')['classList']['remove'](_0x47f407[_0x5ce0bb(0x285)]),document[_0x5ce0bb(0x21e)](_0x47f407[_0x5ce0bb(0xe9)])[_0x5ce0bb(0x1f9)]['add'](_0x5ce0bb(0x1bc)),document[_0x5ce0bb(0x21e)](_0x47f407[_0x5ce0bb(0x238)])[_0x5ce0bb(0x1f9)][_0x5ce0bb(0x12c)](_0x47f407[_0x5ce0bb(0x285)]),document[_0x5ce0bb(0x21e)](_0x47f407[_0x5ce0bb(0x17c)])['classList'][_0x5ce0bb(0x12c)](_0x47f407[_0x5ce0bb(0x285)]);if(voiceUi)voiceUi[_0x5ce0bb(0x1f9)][_0x5ce0bb(0x12c)](_0x47f407[_0x5ce0bb(0x285)]);const _0x4f7998=document[_0x5ce0bb(0x21e)](_0x47f407[_0x5ce0bb(0xdb)]);_0x4f7998['classList'][_0x5ce0bb(0x286)](_0x5ce0bb(0x13f),_0x47f407[_0x5ce0bb(0x231)],_0x47f407[_0x5ce0bb(0x221)]),_0x47f407[_0x5ce0bb(0x247)](stopVoiceRecognition),_0x47f407[_0x5ce0bb(0x150)](setVoiceSpeaking,![]),setVoiceStatus(_0x5ce0bb(0x1fe),_0x47f407[_0x5ce0bb(0x190)]);}function openAssistantModal(){const _0x29d949=_0x24967e,_0x31c001={'StZVz':_0x29d949(0x269),'UotJq':function(_0x555983,_0x5b23ef){return _0x555983!==_0x5b23ef;},'uNfyc':'voice'};window[_0x29d949(0x264)](_0x31c001['StZVz']),chatContainer[_0x29d949(0x25a)]=chatContainer[_0x29d949(0xec)],_0x31c001['UotJq'](currentMode,_0x31c001[_0x29d949(0x10c)])&&chatInput['focus']();}function closeAssistantModal(){const _0x49e137=_0x24967e,_0x37784e={'gsrgn':function(_0x1d05a2){return _0x1d05a2();},'vqTTN':function(_0x4f167d,_0x46c36f,_0x3551fa){return _0x4f167d(_0x46c36f,_0x3551fa);},'ggZJG':_0x49e137(0x1fe)};_0x37784e['gsrgn'](stopVoiceRecognition),setVoiceSpeaking(![]),_0x37784e[_0x49e137(0x140)](setVoiceStatus,_0x37784e[_0x49e137(0xea)],'Tekan\x20mic\x20untuk\x20mulai'),window[_0x49e137(0x162)](_0x49e137(0x269));}window[_0x24967e(0x24e)]=openAssistantModal,window['closeAssistantModal']=closeAssistantModal,window[_0x24967e(0x125)]=selectMode,window[_0x24967e(0x1ce)]=switchMode,window[_0x24967e(0x184)]=sendChatMessage,chatInput[_0x24967e(0x18d)]('input',function(){const _0x44749a=_0x24967e,_0x73d955={'NXzJo':'auto'};this['style']['height']=_0x73d955['NXzJo'],this[_0x44749a(0x28f)][_0x44749a(0x10e)]=this[_0x44749a(0xec)]+'px';if(this[_0x44749a(0x23c)]==='')this[_0x44749a(0x28f)][_0x44749a(0x10e)]=_0x44749a(0x29b);}),chatInput[_0x24967e(0x18d)](_0x24967e(0x252),function(_0x4ce485){const _0x5d41d4=_0x24967e,_0x57ed62={'vEwNd':_0x5d41d4(0x16f),'Wqtry':function(_0x182127,_0x1179b1){return _0x182127===_0x1179b1;}};if(_0x4ce485[_0x5d41d4(0x160)]===_0x57ed62[_0x5d41d4(0x152)]&&!_0x4ce485[_0x5d41d4(0x1d2)]){if(_0x57ed62[_0x5d41d4(0x170)](currentMode,_0x5d41d4(0x281)))return;_0x4ce485['preventDefault'](),sendChatMessage();}}),chatFileInput[_0x24967e(0x18d)]('change',function(){const _0x55edde=_0x24967e,_0x44b993={'PaoYV':_0x55edde(0x1bc)},_0x71bcc1=this['files'][-0x29*0xd1+-0x1*-0x214c+-0x3*-0xf];if(_0x71bcc1){currentChatImage=_0x71bcc1;const _0x33810f=new FileReader();_0x33810f[_0x55edde(0x13b)]=function(_0x447321){const _0x496de0=_0x55edde;chatImagePreview[_0x496de0(0x27b)]=_0x447321['target']['result'],chatImagePreviewContainer['classList'][_0x496de0(0x286)](_0x44b993['PaoYV']);},_0x33810f[_0x55edde(0x26f)](_0x71bcc1);}});function clearChatImage(){const _0x54c325=_0x24967e,_0x2a396b={'WrVzy':'hidden'};currentChatImage=null,chatFileInput[_0x54c325(0x23c)]='',chatImagePreview['src']='',chatImagePreviewContainer[_0x54c325(0x1f9)][_0x54c325(0x12c)](_0x2a396b[_0x54c325(0x1ed)]);}function parseMarkdown(_0x5d8ac3){const _0x5613c4=_0x24967e,_0x4717c0={'yiiHU':_0x5613c4(0x201),'HFcBO':'<code>$1</code>','QrNIf':_0x5613c4(0x294),'QDFro':_0x5613c4(0x133)};if(!_0x5d8ac3)return'';let _0x31600d=_0x5d8ac3['replace'](/```([\s\S]*?)```/g,_0x4717c0[_0x5613c4(0x19e)])[_0x5613c4(0x243)](/`([^`]+)`/g,_0x4717c0[_0x5613c4(0x1bb)])[_0x5613c4(0x243)](/\*\*(.*?)\*\*/g,_0x4717c0[_0x5613c4(0x262)])['replace'](/\*(.*?)\*/g,_0x5613c4(0x26e))['replace'](/(?:^|\n)- (.*)/g,_0x4717c0['QDFro'])[_0x5613c4(0x243)](/\n/g,_0x5613c4(0x260));return _0x31600d;}function appendMessage(_0x2fe648,_0x386bbb,_0x12213c=null){const _0x400e70=_0x24967e,_0x2d309a={'bwPfg':'div','qbotV':function(_0x7627dc,_0x5baea2){return _0x7627dc===_0x5baea2;},'LudnR':_0x400e70(0x207),'dosrM':function(_0xee8ddd,_0x5d3a73){return _0xee8ddd(_0x5d3a73);},'nAcoH':_0x400e70(0x260),'vyIvB':function(_0x28635e,_0x5b73af){return _0x28635e(_0x5b73af);},'ppfST':function(_0x4ed1e8,_0x10069a){return _0x4ed1e8===_0x10069a;},'Wjrlx':function(_0x52395b,_0x1fc620){return _0x52395b===_0x1fc620;},'Jhamk':_0x400e70(0x174),'QzFBR':function(_0x333775,_0x4c9942){return _0x333775!==_0x4c9942;},'IHHWm':function(_0x70b585,_0x5a198b){return _0x70b585===_0x5a198b;},'ZbcVQ':_0x400e70(0x16b),'Jwuxg':_0x400e70(0x26a),'HgXDr':function(_0x47d6b4,_0x4ca51c){return _0x47d6b4===_0x4ca51c;},'qZidV':function(_0x4c757f,_0x2b8f7c,_0x2b207b){return _0x4c757f(_0x2b8f7c,_0x2b207b);},'sPULf':_0x400e70(0xef),'lufwN':_0x400e70(0x1dc)},_0x326abc=document['createElement'](_0x2d309a['bwPfg']);_0x326abc[_0x400e70(0x1c5)]=_0x400e70(0x18c)+_0x2fe648;let _0x29cdfe=_0x2d309a['qbotV'](_0x2fe648,_0x2d309a['LudnR'])?_0x2d309a['dosrM'](parseMarkdown,_0x386bbb):_0x386bbb[_0x400e70(0x243)](/\n/g,_0x2d309a[_0x400e70(0x240)]);if(_0x12213c){const _0x5532b9=_0x2d309a['vyIvB'](String,_0x12213c),_0x4d9c57=_0x5532b9['replace'](/"/g,'&quot;'),_0x2a8bdf=_0x5532b9[_0x400e70(0x243)](/'/g,'\x5c\x27');if(_0x2d309a['ppfST'](_0x2fe648,_0x2d309a['LudnR'])&&_0x2d309a['Wjrlx'](currentMode,_0x2d309a[_0x400e70(0x191)])){const _0x14083c=_0x400e70(0x203)+Date[_0x400e70(0x108)]()+_0x400e70(0x185);_0x29cdfe+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22position:\x20relative;\x20display:\x20inline-block;\x20margin-top:\x208px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22'+_0x4d9c57+'\x22\x20class=\x22chat-image-attachment\x22\x20onclick=\x22window.openImagePreview(\x27'+_0x2a8bdf+_0x400e70(0x205)+_0x4d9c57+_0x400e70(0x212)+_0x14083c+_0x400e70(0x1e1);}else _0x29cdfe+='<br><img\x20src=\x22'+_0x4d9c57+_0x400e70(0xda)+_0x2a8bdf+_0x400e70(0xf9);}_0x2d309a[_0x400e70(0x14c)](_0x2fe648,_0x2d309a['LudnR'])&&_0x2d309a['QzFBR'](currentMode,_0x400e70(0x281))&&(aiResponseAudio[_0x400e70(0x291)]=0x5*-0x41f+0xbae+-0x5*-0x1c9,aiResponseAudio[_0x400e70(0x1ba)]()[_0x400e70(0xe3)](_0x1ab349=>console[_0x400e70(0xff)](_0x400e70(0x188),_0x1ab349)));_0x326abc[_0x400e70(0x237)]=_0x400e70(0x1d0)+_0x29cdfe+_0x400e70(0x293);const _0x523407=_0x2d309a[_0x400e70(0x279)](currentMode,_0x2d309a[_0x400e70(0x191)])?_0x2d309a['ZbcVQ']:_0x2d309a[_0x400e70(0x234)],_0x842347=document[_0x400e70(0x21e)](_0x523407);_0x842347&&_0x842347[_0x400e70(0x25f)](_0x326abc),chatContainer[_0x400e70(0x25a)]=chatContainer['scrollHeight'],(_0x2d309a['HgXDr'](_0x2fe648,_0x400e70(0xef))||_0x2d309a[_0x400e70(0x14c)](_0x2fe648,_0x2d309a[_0x400e70(0x192)]))&&_0x2d309a[_0x400e70(0xe2)](addChatHistory,_0x2d309a[_0x400e70(0x265)](_0x2fe648,_0x2d309a[_0x400e70(0x1f5)])?_0x2d309a[_0x400e70(0x1f5)]:_0x2d309a[_0x400e70(0x22c)],_0x386bbb);}function showTypingIndicator(_0x3c07e3=null){const _0x53ed57=_0x24967e,_0x105f8d={'jSXWY':function(_0x5a6cb3,_0x53b27d){return _0x5a6cb3+_0x53b27d;},'CqiWU':_0x53ed57(0x138),'FNyLk':_0x53ed57(0x104),'aPuQm':function(_0xa9c4fd,_0x36199f){return _0xa9c4fd===_0x36199f;},'YxmTk':_0x53ed57(0x174),'wZvih':_0x53ed57(0x26a)},_0xc67a5=_0x105f8d[_0x53ed57(0x1da)](_0x105f8d['CqiWU'],Date[_0x53ed57(0x108)]()),_0x595461=document['createElement'](_0x105f8d['FNyLk']);_0x595461[_0x53ed57(0x1c5)]='chat-message\x20bot',_0x595461['id']=_0xc67a5;let _0x10ac37='';_0x3c07e3?_0x10ac37=_0x53ed57(0x254)+_0x3c07e3+_0x53ed57(0x20c):_0x10ac37=_0x53ed57(0xdc);_0x595461[_0x53ed57(0x237)]='<div\x20class=\x22message-content\x22>'+_0x10ac37+'</div>';const _0x42be46=_0x105f8d['aPuQm'](currentMode,_0x105f8d[_0x53ed57(0x29d)])?_0x53ed57(0x16b):_0x105f8d['wZvih'],_0x5ae8a9=document[_0x53ed57(0x21e)](_0x42be46);return _0x5ae8a9&&_0x5ae8a9[_0x53ed57(0x25f)](_0x595461),chatContainer[_0x53ed57(0x25a)]=chatContainer[_0x53ed57(0xec)],_0xc67a5;}function updateTypingIndicator(_0x3938a6,_0x582d49){const _0x284e0a=_0x24967e,_0x55bfed={'JlHog':'.message-content'},_0x4929ac=document[_0x284e0a(0x21e)](_0x3938a6);if(_0x4929ac){const _0x212d36=_0x4929ac['querySelector'](_0x55bfed[_0x284e0a(0x1eb)]);_0x212d36&&(_0x212d36[_0x284e0a(0x237)]=_0x284e0a(0x254)+_0x582d49+'</span><div\x20class=\x22typing-indicator\x22\x20style=\x22display:inline-flex;\x20margin:0;\x22><span></span><span></span><span></span></div></div>');}}function removeTypingIndicator(_0x2ead39){const _0x1eb8c4=_0x24967e,_0x3569fa=document[_0x1eb8c4(0x21e)](_0x2ead39);if(_0x3569fa)_0x3569fa[_0x1eb8c4(0x286)]();}function wait(_0xf6e68d){return new Promise(_0x41b5c6=>setTimeout(_0x41b5c6,_0xf6e68d));}async function showAnsweredStatus(_0x155b88){const _0x3a47b0=_0x24967e,_0x16b2e4={'rCGcJ':function(_0x5a0a4a,_0x14063f,_0x403642){return _0x5a0a4a(_0x14063f,_0x403642);},'gxWUj':_0x3a47b0(0x21a),'vTujc':function(_0x909971,_0x25511b){return _0x909971(_0x25511b);}};if(!_0x155b88)return;_0x16b2e4[_0x3a47b0(0x267)](updateTypingIndicator,_0x155b88,_0x16b2e4[_0x3a47b0(0x149)]),await _0x16b2e4[_0x3a47b0(0x109)](wait,-0x9f5*-0x1+-0x3*-0xd7+-0x9be),removeTypingIndicator(_0x155b88);}function setInputState(_0x835518){const _0x39e72a=_0x24967e,_0x260045={'bUhne':_0x39e72a(0x1b7),'vZWWX':_0x39e72a(0x292)},_0x5dd213=_0x260045[_0x39e72a(0xf0)][_0x39e72a(0x168)]('|');let _0x1c567b=-0x10b7*-0x1+-0x745*0x5+-0x1*-0x13a2;while(!![]){switch(_0x5dd213[_0x1c567b++]){case'0':chatSendBtn[_0x39e72a(0x194)]=_0x835518;continue;case'1':chatFileInput[_0x39e72a(0x194)]=_0x835518;continue;case'2':_0x835518?(chatInput[_0x39e72a(0x127)]['style'][_0x39e72a(0x12b)]=_0x39e72a(0x292),chatSendBtn[_0x39e72a(0x28f)][_0x39e72a(0x12b)]=_0x260045[_0x39e72a(0x1ab)]):(chatInput['parentElement'][_0x39e72a(0x28f)][_0x39e72a(0x12b)]='1',chatSendBtn[_0x39e72a(0x28f)][_0x39e72a(0x12b)]='1',chatInput[_0x39e72a(0x225)]());continue;case'3':chatInput[_0x39e72a(0x194)]=_0x835518;continue;case'4':if(voiceMicBtn)voiceMicBtn[_0x39e72a(0x194)]=_0x835518;continue;}break;}}function setupVoiceRecognition(){const _0x356a95=_0x24967e,_0x368b22={'XRcrB':function(_0xa7433c,_0x4bcad7){return _0xa7433c(_0x4bcad7);},'WNUPe':function(_0xdfd322,_0x4af9ab){return _0xdfd322(_0x4af9ab);},'CMcTN':function(_0x3bed6c,_0x255079,_0x342049){return _0x3bed6c(_0x255079,_0x342049);},'sLiwK':_0x356a95(0x207),'XoujB':_0x356a95(0x167),'uvCBO':function(_0x312966){return _0x312966();},'hoTSh':'Browser\x20tidak\x20mendukung\x20fitur\x20mic.\x20Coba\x20gunakan\x20Chrome.'};if(voiceRecognizer)return;const _0x103d97=window[_0x356a95(0xf7)]||window[_0x356a95(0x189)];if(!_0x103d97){_0x368b22[_0x356a95(0x1b4)](appendMessage,_0x368b22[_0x356a95(0x235)],_0x368b22['hoTSh']);if(voiceMicBtn)voiceMicBtn[_0x356a95(0x194)]=!![];return;}voiceRecognizer=new _0x103d97(),voiceRecognizer[_0x356a95(0x13c)]=_0x356a95(0x161),voiceRecognizer[_0x356a95(0x197)]=![],voiceRecognizer[_0x356a95(0x1ff)]=![],voiceRecognizer[_0x356a95(0x157)]=function(){isVoiceStarting=![],setVoiceListening(!![]);},voiceRecognizer[_0x356a95(0x215)]=function(){const _0x4e2e68=_0x356a95;isVoiceStarting=![],_0x368b22[_0x4e2e68(0xe6)](setVoiceListening,![]);},voiceRecognizer[_0x356a95(0x166)]=function(){const _0xc6cc90=_0x356a95;isVoiceStarting=![],_0x368b22[_0xc6cc90(0x246)](setVoiceListening,![]),_0x368b22[_0xc6cc90(0x1b4)](appendMessage,_0x368b22[_0xc6cc90(0x235)],_0x368b22[_0xc6cc90(0xde)]);},voiceRecognizer[_0x356a95(0x204)]=function(_0x217148){const _0x582e9c=_0x356a95,_0x1a1f27=_0x217148[_0x582e9c(0x1c9)]&&_0x217148[_0x582e9c(0x1c9)][0x89*-0x18+-0x53*0x4e+0x1311*0x2]&&_0x217148['results'][-0x3*-0xade+-0xa0c+-0x1*0x168e][-0xe*0xed+0x1663+-0x96d*0x1],_0x4ad735=_0x1a1f27?_0x1a1f27[_0x582e9c(0x256)][_0x582e9c(0x22f)]():'';_0x4ad735&&(_0x368b22[_0x582e9c(0x126)](stopVoiceRecognition),chatInput[_0x582e9c(0x23c)]=_0x4ad735,_0x368b22['XRcrB'](sendVoiceMessage,_0x4ad735));};}function setVoiceListening(_0x364401){const _0x2fcc32=_0x24967e,_0xb3d542={'UeDPh':_0x2fcc32(0x21b),'GLOyi':_0x2fcc32(0x1fd)};isVoiceListening=_0x364401;voiceOrb&&(_0x364401?voiceOrb['classList']['add'](_0xb3d542[_0x2fcc32(0x129)]):voiceOrb[_0x2fcc32(0x1f9)][_0x2fcc32(0x286)](_0x2fcc32(0x21b)));if(!voiceMicBtn)return;const _0x370c5f=voiceMicBtn[_0x2fcc32(0x27c)]('i');_0x370c5f&&(_0x370c5f[_0x2fcc32(0x1c5)]=_0x364401?'fas\x20fa-stop':_0xb3d542[_0x2fcc32(0x28b)]);}function setVoiceStatus(_0x1eccce,_0xc806d){const _0x2feac0=_0x24967e,_0x695710={'ysuZB':function(_0x19f4d8,_0x476ff4){return _0x19f4d8||_0x476ff4;},'bfQbc':function(_0xed2642,_0x316366){return _0xed2642!==_0x316366;},'QdRDB':_0x2feac0(0x281),'XdNaD':_0x2feac0(0x100),'Iwcxd':_0x2feac0(0x1cc),'DNJGL':_0x2feac0(0x106),'xyHPy':_0x2feac0(0x183),'JzDns':'fas\x20fa-microphone','FrXuj':'fas\x20fa-brain','JVoKA':function(_0x141bb4,_0x146ea4){return _0x141bb4===_0x146ea4;},'Xyufa':_0x2feac0(0x14b),'ONGVb':'fas\x20fa-check-circle','wRaVs':function(_0x5c93d8,_0x4ca0a9){return _0x5c93d8===_0x4ca0a9;},'VtXoE':_0x2feac0(0xf2),'FVDlJ':function(_0x53a4e,_0x432b6c){return _0x53a4e===_0x432b6c;},'SLAkX':_0x2feac0(0x165),'XOwvb':'fas\x20fa-volume-up'};if(_0x695710['ysuZB'](!voiceStatus,!voiceStatusText)||!voiceStatusIcon)return;if(_0x695710[_0x2feac0(0x12e)](currentMode,_0x695710[_0x2feac0(0x142)]))return;const _0x2751a7=[_0x2feac0(0xd9),_0x695710[_0x2feac0(0x14f)],_0x695710[_0x2feac0(0x147)],_0x695710['DNJGL'],_0x695710['xyHPy']];voiceStatus['classList'][_0x2feac0(0x286)](..._0x2751a7);const _0x4ccaad=_0x1eccce?_0x2feac0(0x266)+_0x1eccce:_0x2feac0(0xd9);voiceStatus[_0x2feac0(0x1f9)][_0x2feac0(0x12c)](_0x4ccaad);_0xc806d&&(voiceStatusText['textContent']=_0xc806d);let _0x2bf31b=_0x695710[_0x2feac0(0x282)];if(_0x1eccce===_0x2feac0(0x219))_0x2bf31b=_0x695710['FrXuj'];if(_0x695710[_0x2feac0(0x1bd)](_0x1eccce,_0x695710['Xyufa']))_0x2bf31b=_0x695710[_0x2feac0(0x280)];if(_0x695710[_0x2feac0(0xf8)](_0x1eccce,_0x2feac0(0x159)))_0x2bf31b=_0x695710[_0x2feac0(0x144)];if(_0x695710[_0x2feac0(0x213)](_0x1eccce,_0x695710[_0x2feac0(0xed)]))_0x2bf31b=_0x695710[_0x2feac0(0x117)];voiceStatusIcon['className']=_0x2feac0(0x248)+_0x2bf31b;}function setVoiceSpeaking(_0x1d3bea){const _0x35ffec=_0x24967e,_0x1b0d0a={'QYBgV':function(_0x59f81a,_0x2ff478){return _0x59f81a!==_0x2ff478;},'JxKvm':_0x35ffec(0x281),'CEQEQ':_0x35ffec(0x183),'jHILN':function(_0x559793,_0x4462d2){return _0x559793||_0x4462d2;},'LzxKG':'fas\x20fa-volume-up','PNzHM':_0x35ffec(0x1fd)};if(!voiceOrb)return;if(_0x1b0d0a[_0x35ffec(0x29c)](currentMode,_0x1b0d0a[_0x35ffec(0x153)])){voiceOrb[_0x35ffec(0x1f9)]['remove'](_0x1b0d0a['CEQEQ']);return;}_0x1d3bea?voiceOrb[_0x35ffec(0x1f9)][_0x35ffec(0x12c)](_0x1b0d0a['CEQEQ']):voiceOrb['classList'][_0x35ffec(0x286)]('is-speaking');voiceMicBtn&&(voiceMicBtn[_0x35ffec(0x194)]=_0x1d3bea);if(_0x1b0d0a[_0x35ffec(0x18a)](!voiceMicBtn,isVoiceListening))return;const _0x5df445=voiceMicBtn[_0x35ffec(0x27c)]('i');if(!_0x5df445)return;_0x5df445[_0x35ffec(0x1c5)]=_0x1d3bea?_0x1b0d0a[_0x35ffec(0x169)]:_0x1b0d0a[_0x35ffec(0x223)];}function bindTtsEvents(_0x5f334d,_0x78e2b1,_0x51ea84){const _0x202cf1=_0x24967e,_0x45be1e={'MxkzS':function(_0x20b52e,_0x13f8ea){return _0x20b52e(_0x13f8ea);},'BtDXG':function(_0xd9de69){return _0xd9de69();},'HCHZi':_0x202cf1(0x1e5),'eDqbu':_0x202cf1(0x1dd),'NrnTI':_0x202cf1(0x179)};if(!_0x5f334d)return;const _0x45f1d9=function(){const _0x27e571=_0x202cf1;_0x45be1e[_0x27e571(0x122)](setVoiceSpeaking,![]);if(_0x78e2b1)_0x45be1e[_0x27e571(0xf5)](_0x78e2b1);};_0x5f334d[_0x202cf1(0x18d)](_0x45be1e[_0x202cf1(0x1a7)],_0x45f1d9),_0x5f334d[_0x202cf1(0x18d)](_0x202cf1(0xe4),_0x45f1d9),_0x5f334d['addEventListener'](_0x45be1e[_0x202cf1(0x216)],_0x45f1d9),_0x5f334d['addEventListener'](_0x45be1e[_0x202cf1(0xf4)],function(){setVoiceSpeaking(!![]);if(_0x51ea84)_0x51ea84();});}function stopVoiceRecognition(){const _0x341798=_0x24967e,_0xbaea32={'jsalO':function(_0x34618f,_0x20ac49){return _0x34618f&&_0x20ac49;}};_0xbaea32[_0x341798(0x103)](voiceRecognizer,isVoiceListening)&&voiceRecognizer[_0x341798(0x196)](),isVoiceStarting=![],setVoiceListening(![]);}voiceMicBtn&&voiceMicBtn[_0x24967e(0x18d)](_0x24967e(0x155),function(){const _0x205b03=_0x24967e,_0x4afea4={'LLxzR':function(_0x11ae7c){return _0x11ae7c();},'UEDtu':function(_0x39697e,_0x290080,_0x22d695){return _0x39697e(_0x290080,_0x22d695);},'rXtxg':_0x205b03(0x159),'TpFCW':_0x205b03(0x1af)};if(!voiceRecognizer)_0x4afea4['LLxzR'](setupVoiceRecognition);if(!voiceRecognizer)return;if(isVoiceListening)voiceRecognizer['stop']();else{if(isVoiceStarting)return;try{isVoiceStarting=!![],_0x4afea4[_0x205b03(0x26c)](setVoiceStatus,_0x4afea4[_0x205b03(0x296)],_0x4afea4[_0x205b03(0x226)]),voiceRecognizer[_0x205b03(0x28d)]();}catch(_0x46dc3d){isVoiceStarting=![];}}});function playTtsAudio(_0x45f530,_0x281ee7,_0x298213){const _0xd7b224=_0x24967e,_0x2158a1={'WxBAW':'2|4|1|0|3|5','vRulz':function(_0x4bf58d,_0x48283c,_0x42bfa6,_0x58e2a0){return _0x4bf58d(_0x48283c,_0x42bfa6,_0x58e2a0);},'gfMAw':function(_0x4dbddd,_0x24b688){return _0x4dbddd(_0x24b688);}},_0x23708a=_0x2158a1[_0xd7b224(0x14e)]['split']('|');let _0x492fc1=-0x22bd+-0x1*-0x1f86+0x1*0x337;while(!![]){switch(_0x23708a[_0x492fc1++]){case'0':_0x2158a1[_0xd7b224(0x163)](bindTtsEvents,ttsAudio,_0x281ee7,_0x298213);continue;case'1':ttsAudio=new Audio(_0x45f530);continue;case'2':if(!_0x45f530)return;continue;case'3':_0x2158a1['gfMAw'](setVoiceSpeaking,!![]);continue;case'4':ttsAudio&&(ttsAudio[_0xd7b224(0x1dd)](),ttsAudio[_0xd7b224(0x291)]=-0xc8e+-0x1*0x1b70+0x27fe);continue;case'5':ttsAudio[_0xd7b224(0x1ba)]()[_0xd7b224(0xe3)](function(){});continue;}break;}}function playTtsBlob(_0x4bd5f6,_0x1fc08b,_0x3b4289){const _0x5eeece=_0x24967e,_0x1dc2ab={'TZDQu':function(_0x991f6d,_0x3bf10e,_0x20bb82,_0x3dbece){return _0x991f6d(_0x3bf10e,_0x20bb82,_0x3dbece);},'vdbKT':function(_0x2853bf,_0x24cf29){return _0x2853bf(_0x24cf29);},'mVjEQ':_0x5eeece(0xe4)};if(!_0x4bd5f6)return;ttsAudio&&(ttsAudio['pause'](),ttsAudio['currentTime']=0xf*0x21d+0xd99+-0x2d4c);const _0x550735=URL['createObjectURL'](_0x4bd5f6);ttsAudio=new Audio(_0x550735),_0x1dc2ab[_0x5eeece(0x272)](bindTtsEvents,ttsAudio,_0x1fc08b,_0x3b4289),_0x1dc2ab['vdbKT'](setVoiceSpeaking,!![]);const _0x368ea7=function(){const _0x35f9c2=_0x5eeece;URL[_0x35f9c2(0x1db)](_0x550735);};ttsAudio[_0x5eeece(0x18d)](_0x5eeece(0x1e5),_0x368ea7),ttsAudio[_0x5eeece(0x18d)](_0x1dc2ab[_0x5eeece(0x1a5)],_0x368ea7),ttsAudio[_0x5eeece(0x1ba)]()['catch'](function(){});}function playTtsBase64(_0x5e561a,_0xe429ea,_0x577355,_0x2a7dab){const _0x20aadf=_0x24967e,_0x5f0b78={'eTeLu':function(_0x48f830,_0x141671){return _0x48f830(_0x141671);},'eibbZ':function(_0xb63f9a,_0x4aec41){return _0xb63f9a<_0x4aec41;},'lcjwf':function(_0x33c915,_0x1c60cd){return _0x33c915||_0x1c60cd;},'eviPb':_0x20aadf(0x1fb),'PLxIy':function(_0x23f3eb,_0x5d7af2,_0x3ac568,_0x4fb5d9){return _0x23f3eb(_0x5d7af2,_0x3ac568,_0x4fb5d9);}};if(!_0x5e561a)return;try{const _0x45deb9=_0x5f0b78[_0x20aadf(0x259)](atob,_0x5e561a),_0x3f8b5b=_0x45deb9[_0x20aadf(0x16d)],_0x457bb1=new Uint8Array(_0x3f8b5b);for(let _0x17c618=0x2*-0x4cc+0x443*-0x5+-0x36f*-0x9;_0x5f0b78['eibbZ'](_0x17c618,_0x3f8b5b);_0x17c618++){_0x457bb1[_0x17c618]=_0x45deb9[_0x20aadf(0x299)](_0x17c618);}const _0x69c66b=new Blob([_0x457bb1],{'type':_0x5f0b78[_0x20aadf(0x11e)](_0xe429ea,_0x5f0b78[_0x20aadf(0x22a)])});_0x5f0b78[_0x20aadf(0xeb)](playTtsBlob,_0x69c66b,_0x577355,_0x2a7dab);}catch(_0x414be7){}}function _0x36ac(_0x343e4f,_0x1a7467){_0x343e4f=_0x343e4f-(0x22d5+-0x47*-0x61+-0x3ce3);const _0x2ad391=_0x2c7a();let _0x300b23=_0x2ad391[_0x343e4f];return _0x300b23;}function isPcmMimeType(_0x26cb57){const _0x3c2308=_0x24967e;if(!_0x26cb57)return![];return/audio\/l16/i[_0x3c2308(0x123)](_0x26cb57)||/codec=pcm/i[_0x3c2308(0x123)](_0x26cb57);}function parsePcmDataUrl(_0x3697a2){const _0xfad510=_0x24967e,_0x220ed8={'bOXvh':function(_0x2cc008,_0x35f58c){return _0x2cc008!==_0x35f58c;},'VLCXN':_0xfad510(0x193),'RLGQP':function(_0x69cfce,_0x1dd318){return _0x69cfce<_0x1dd318;},'JJmWr':function(_0x337a84,_0xb3a144){return _0x337a84(_0xb3a144);}};if(!_0x3697a2||_0x220ed8['bOXvh'](typeof _0x3697a2,_0xfad510(0x25c)))return null;if(!_0x3697a2[_0xfad510(0x1c4)](_0x220ed8['VLCXN']))return null;const _0x26a3d3=_0x3697a2[_0xfad510(0x168)](',');if(_0x220ed8['RLGQP'](_0x26a3d3['length'],-0x12ff+0x23bc+-0x1*0x10bb))return null;const _0x517bb7=_0x26a3d3[0x4a1*-0x7+-0x3*0xc52+0x3*0x171f],_0x165eb5=_0x26a3d3[_0xfad510(0x27e)](0xd*-0x177+-0x7f*-0x2b+-0xd*0x2d)[_0xfad510(0x242)](','),_0x2a8b2=_0x517bb7[_0xfad510(0x241)](/rate=(\d+)/i),_0x2424b7=_0x2a8b2?_0x220ed8[_0xfad510(0x1f2)](Number,_0x2a8b2[0x2027*0x1+-0x4*0x551+-0xc7*0xe]):0x626*0x1+0x49*0x1d5+-0x17d*0x1f,_0x30d602=_0x517bb7[_0xfad510(0x27e)](0x3*0xb42+0x21a5+-0x4366)[_0xfad510(0x168)](';')[0xddf+-0xab3+-0x32c];return{'base64':_0x165eb5,'sampleRate':_0x2424b7,'mimeType':_0x30d602};}function buildWavBlobFromPcm(_0x3ea1c2,_0x2b5306){const _0x118db4=_0x24967e,_0x8584fb={'VbRYz':function(_0x4da463,_0xdd8cf8){return _0x4da463+_0xdd8cf8;},'wcVYf':function(_0x49c90f,_0x363d88){return _0x49c90f||_0x363d88;},'IPDgA':function(_0x11f23c,_0x2a27bb){return _0x11f23c/_0x2a27bb;},'rAWEW':_0x118db4(0x13e),'GUagg':function(_0x4c3037,_0x5a83b6,_0x5051ce){return _0x4c3037(_0x5a83b6,_0x5051ce);},'RmfNp':'WAVE','YyjsM':_0x118db4(0xe8),'uenBJ':function(_0x27c7b4,_0x37e4e3,_0x5722f8){return _0x27c7b4(_0x37e4e3,_0x5722f8);},'zWdpD':_0x118db4(0x1f8)};if(!_0x3ea1c2||!_0x3ea1c2[_0x118db4(0x16d)])return null;const _0xafecf2=_0x8584fb['wcVYf'](_0x2b5306,-0x15*-0x483+0xe7a*-0x4+-0x359*-0x11),_0x6856eb=-0x75d+-0x24e0+0x2c3e*0x1,_0x1068dd=0xc05*-0x3+-0xeb8+0x32d7,_0x2d4243=_0x8584fb[_0x118db4(0x1ac)](_0x6856eb*_0x1068dd,-0x22*0xbd+-0x1*-0x1643+-0x1*-0x2df),_0x8a0ac0=_0xafecf2*_0x2d4243,_0xf4c26a=_0x3ea1c2[_0x118db4(0x16d)],_0x5cae3d=new ArrayBuffer(0x269b+0x25*-0x101+-0x14a),_0x1eb208=new DataView(_0x5cae3d),_0x5dd653=function(_0x27f0bd,_0x2b64a4){const _0x5813f0=_0x118db4;for(let _0x142621=-0x1241+-0x21ac+0x33ed;_0x142621<_0x2b64a4[_0x5813f0(0x16d)];_0x142621++){_0x1eb208[_0x5813f0(0xfd)](_0x8584fb[_0x5813f0(0x23a)](_0x27f0bd,_0x142621),_0x2b64a4[_0x5813f0(0x299)](_0x142621));}};return _0x5dd653(-0x7dc+-0x737*0x1+-0xf13*-0x1,_0x8584fb['rAWEW']),_0x1eb208['setUint32'](0x111+-0x4*0x71e+0x1b6b,-0xa8*-0x2f+-0x1a98+0x1*-0x41c+_0xf4c26a,!![]),_0x8584fb['GUagg'](_0x5dd653,0x2535+-0x2*-0x697+-0x325b,_0x8584fb[_0x118db4(0x1d3)]),_0x5dd653(0x2623+0x4f5+-0x2*0x1586,_0x8584fb['YyjsM']),_0x1eb208[_0x118db4(0x1b1)](0x1da+0x59*0x5c+-0x21c6,-0xc9c+0x1d45+0x25f*-0x7,!![]),_0x1eb208['setUint16'](0x12b0+-0x5ed+-0xcaf,0x65a+-0x89*0x3a+0x18b1,!![]),_0x1eb208['setUint16'](-0x1*-0x269a+0x17*-0x38+0x10be*-0x2,_0x6856eb,!![]),_0x1eb208[_0x118db4(0x1b1)](-0x14f4+-0x1096+0x12d1*0x2,_0xafecf2,!![]),_0x1eb208[_0x118db4(0x1b1)](-0x1976+-0x30*0xa+0x1b72,_0x8a0ac0,!![]),_0x1eb208[_0x118db4(0x16e)](0x259*-0x9+-0x1943+0x2e84,_0x2d4243,!![]),_0x1eb208[_0x118db4(0x16e)](0x76a*-0x2+0x12e*-0x16+-0x1475*-0x2,_0x1068dd,!![]),_0x8584fb[_0x118db4(0x1ad)](_0x5dd653,0xf*0x11a+0x1*-0x26cc+0x166a,'data'),_0x1eb208[_0x118db4(0x1b1)](0x113d+-0x47f*-0x6+-0x2c0f,_0xf4c26a,!![]),new Blob([_0x5cae3d,_0x3ea1c2],{'type':_0x8584fb[_0x118db4(0x15e)]});}function playPcmBase64AsWav(_0x116964,_0x183691,_0x2d699d,_0xf4b0c5){const _0x4ff4be=_0x24967e,_0x3daf11={'PTuFe':function(_0x589eca,_0x5d8560){return _0x589eca<_0x5d8560;},'Rnzhp':function(_0x53138a,_0x1c5af7,_0xc42da9,_0x3c0fa6){return _0x53138a(_0x1c5af7,_0xc42da9,_0x3c0fa6);}};if(!_0x116964)return;try{const _0x200096=atob(_0x116964),_0x332d3c=_0x200096[_0x4ff4be(0x16d)],_0x18b76e=new Uint8Array(_0x332d3c);for(let _0x5d1ea9=0x1*0x877+0x1021+-0x1898;_0x3daf11['PTuFe'](_0x5d1ea9,_0x332d3c);_0x5d1ea9++){_0x18b76e[_0x5d1ea9]=_0x200096[_0x4ff4be(0x299)](_0x5d1ea9);}const _0x2988a1=buildWavBlobFromPcm(_0x18b76e,_0x183691);if(_0x2988a1)_0x3daf11[_0x4ff4be(0x27f)](playTtsBlob,_0x2988a1,_0x2d699d,_0xf4b0c5);}catch(_0x23ae32){}}function playPcmBufferAsWav(_0xef97b9,_0x1729e1,_0x5875d0,_0x26cb90){const _0x2bc8cd=_0x24967e,_0x4ee950={'EkqBk':function(_0xeb9f2e,_0x1fd963,_0x50e2e0){return _0xeb9f2e(_0x1fd963,_0x50e2e0);},'bJZkA':function(_0x1097f0,_0xfa1da1,_0x2b9043,_0x1c330b){return _0x1097f0(_0xfa1da1,_0x2b9043,_0x1c330b);}};if(!_0xef97b9)return;const _0x1385f8=new Uint8Array(_0xef97b9),_0x105fb1=_0x4ee950[_0x2bc8cd(0x21c)](buildWavBlobFromPcm,_0x1385f8,_0x1729e1);if(_0x105fb1)_0x4ee950[_0x2bc8cd(0x15c)](playTtsBlob,_0x105fb1,_0x5875d0,_0x26cb90);}function resolveBaseUrl(_0x57036e){const _0x5daaab=_0x24967e,_0x2d8c96={'gOhWS':function(_0x400ceb,_0xcd3188){return _0x400ceb!==_0xcd3188;},'KGXbh':'string'};if(!_0x57036e||_0x2d8c96[_0x5daaab(0x101)](typeof _0x57036e,_0x2d8c96[_0x5daaab(0x156)]))return'';let _0xb71506=_0x57036e[_0x5daaab(0x22f)]();if(!_0xb71506)return'';return!/^https?:\/\//i['test'](_0xb71506)&&(_0xb71506='https://'+_0xb71506),_0xb71506['replace'](/\/+$/,'');}function _0x2c7a(){const _0x20648f=['disabled','filter','stop','interimResults','9|4|11|8|2|6|5|10|3|7|0|1|12','setItem','RnJAL','TMKvd','yOmUJ',')\x20->\x20Closest:\x20','yiiHU','text','naturalWidth','Berikut\x20hasil\x20gambarnya:','LdAHE','voice-orb','UCIih','mVjEQ','248WuOCwQ','HCHZi','bRyTu','audio','User','vZWWX','IPDgA','uenBJ','aqtfx','User\x20menyalakan\x20mikrofon...','content','setUint32','entries','placeholder','CMcTN','Tekan\x20mic\x20untuk\x20mulai','2240CMZmVT','3|0|1|4|2','OVKCp','aCjgc','play','HFcBO','hidden','JVoKA','OtNle','lzFTg','eTHGr','CmIhB','YUgxV','lxCdT','startsWith','className','chat-send-btn','xaOkF','wHyNh','results','https://cdn.jsdelivr.net/gh/karyawaktuluang/magic.fitri@main/assets/chat.mp3','36114TYhrdv','is-answered','IbrOb','switchMode','aVkql','<div\x20class=\x22message-content\x22>','IeClv','shiftKey','RmfNp','SuFi\x20menyalakan\x20mikrofon...','chat-file-input','GYJje','uruUV','xocHm','2|3|5|0|1|4','jSXWY','revokeObjectURL','assistant','pause','XHxSb','response','SuFi\x20berfikir...','\x22\x20style=\x22position:\x20absolute;\x20bottom:\x208px;\x20right:\x208px;\x20width:\x2032px;\x20height:\x2032px;\x20border-radius:\x20999px;\x20background:\x20rgba(0,0,0,0.6);\x20color:\x20white;\x20display:\x20inline-flex;\x20align-items:\x20center;\x20justify-content:\x20center;\x20text-decoration:\x20none;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-download\x22\x20style=\x22font-size:\x200.85rem;\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','WOVWB','jBOtg','Mengoptimalkan\x20prompt...','ended','server/generate.php','base64','get','YrKFs','chat-container','JlHog','kTAyW','WrVzy','SNicr','QFJTN','MtMtk','QZxyz','JJmWr','fVuKE','WMLSQ','sPULf','isArray','candidates','audio/wav','classList','yutWg','audio/mpeg','push','fas\x20fa-microphone','idle','continuous','UONXf','<pre><code>$1</code></pre>','imageUrl','sufi-image-','onresult','\x27)\x22\x20style=\x22cursor:pointer;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22','UlpOS','bot','JkIRq','Anda\x20adalah\x20Sufi,\x20asisten\x20AI\x20yang\x20cerdas\x20dan\x20ramah\x20yang\x20dibuat\x20oleh\x20IchsanLabs.\x20Gunakan\x20Bahasa\x20Indonesia\x20yang\x20sopan.\x20Batasi\x20jawaban\x20maksimal\x2050\x20kata.\x20Tidak\x20perlu\x20menjelaskan\x20itu\x20semua\x20kecuali\x20ditanya\x0a\x0a','IheFQ','no-store','</span><div\x20class=\x22typing-indicator\x22\x20style=\x22display:inline-flex;\x20margin:0;\x22><span></span><span></span><span></span></div></div>','xAVZY','Ketik\x20pesan...','zMldE','zlmcw','pzslY','\x22\x20download=\x22','FVDlJ','audioContent','onend','eDqbu','prompt','vJCII','thinking','SuFi\x20sudah\x20mendapatkan\x20jawaban...','is-listening','EkqBk','application/octet-stream','getElementById','Context\x20percakapan:\x0a','POST','IHihN','5|12|0|11|7|2|1|4|6|3|10|8|9','PNzHM','eetMV','focus','TpFCW','blsqX','zYoyc','QsxZP','eviPb','chat-messages-container','lufwN','SuFi\x20sedang\x20berfikir...','411392rkerdG','trim','RLtvt','aOqjq','xWOvy','toLowerCase','Jwuxg','sLiwK','server/tts.php','innerHTML','WfmiA','mprBk','VbRYz','3FDUSHn','value','SuFi\x20menjawab...','ZBiiv','fJQOW','nAcoH','match','join','replace','ahlNM','ASnrZ','WNUPe','EqMdm','voice-status-icon\x20','mode-voice-theme','5|13|12|1|2|9|10|4|6|11|3|8|0|7','Fbaqy','PHlkd','role','openAssistantModal','Gagal\x20memproses\x20gambar.\x20Silakan\x20coba\x20lagi.','qGQzW','hsMly','keydown','zNyfx','<div\x20style=\x22display:flex;\x20align-items:center;\x20gap:8px;\x22><span>','aspectRatio','transcript','zsKGm','audio/','eTeLu','scrollTop','Refine\x20this\x20user\x20request\x20into\x20a\x20high\x20quality\x20image\x20generation\x20prompt\x20(English).\x20User\x20request:\x20\x22{text}\x22.\x20Output\x20ONLY\x20the\x20prompt.','string','chat-image-btn','uuHGO','appendChild','<br>','Riwayat\x20percakapan:\x0a','QrNIf','YTkfl','showFeaturePage','HgXDr','is-','rCGcJ','instruction','assistant-modal','chat-messages-chat','mode-selection','UEDtu','KXmoP','<em>$1</em>','readAsDataURL','xuZnQ','sttbe','TZDQu','Sedang\x20membuat\x20gambar...','GnQIU','jQQkw','success','QPXjk','2649200ZLcOKR','IHHWm','voice-mic-btn','src','querySelector','MWHIx','slice','Rnzhp','ONGVb','voice','JzDns','pHdxf','RtlCg','ZIpcH','remove','append','SuFi\x20sedang\x20menyalakan\x20mikrofon...','blob','iOSWW','GLOyi','utPqF','start','BQIlX','style','xOdFZ','currentTime','0.5','</div>','<strong>$1</strong>','SuFi\x20sedang\x20berbicara...','rXtxg','Maaf,\x20saya\x20sedang\x20gangguan.\x20Coba\x20lagi\x20nanti.','Enhance\x20this\x20image','charCodeAt','kBezl','auto','QYBgV','YxmTk','readOnly','wYyWu','nnsIy','is-idle','\x22\x20class=\x22chat-image-attachment\x22\x20onclick=\x22window.openImagePreview(\x27','YxqlZ','<div\x20class=\x22typing-indicator\x22><span></span><span></span><span></span></div>','wdsst','XoujB','zVipt','Terjadi\x20kesalahan\x20koneksi.','274064NmpyvS','qZidV','catch','error','sEljk','XRcrB','Maaf,\x20suara\x20belum\x20tersedia.','fmt\x20','zQsyN','ggZJG','PLxIy','scrollHeight','SLAkX','unknown','user','bUhne','XEKcV','fas\x20fa-circle-notch','Iexcg','NrnTI','BtDXG','stringify','SpeechRecognition','wRaVs','\x27)\x22\x20style=\x22cursor:pointer;\x22>','xcjXq','Maaf,\x20saya\x20gagal\x20membuat\x20gambar.\x20Pastikan\x20instruksi\x20jelas\x20atau\x20coba\x20upload\x20gambar\x20referensi.','RDFgc','setUint8','sampleRate','log','is-thinking','gOhWS','zYmgV','jsalO','div','uVhBK','is-starting','WEUKW','now','vTujc','EUIim','XIcQn','uNfyc','object','height','naturalHeight','parts','**Prompt\x20Teroptimasi:**\x0a','OdHYg','krVIx','Fenrir','VcYhD','shzLx','XOwvb','JGtod','**Instruksi\x20Teroptimasi:**\x0a','avicK','data','TnOrV','sulapfitri_sufi_history','lcjwf','VHRiO','dZOqU','NXQrj','MxkzS','test','RXOJU','selectMode','uvCBO','parentElement','voice-status','UeDPh','playSuccessSound','opacity','add','ocOJj','bfQbc','xqtUp','playErrorSound','nybOC','3668280FuZxTo','<br>â€¢\x20$1','EIgCf','chat-image-preview','audioUrl','voice-status-text','typing-','json','mimeType','onload','lang','tMmrS','RIFF','mode-chat-theme','vqTTN','pWCeu','QdRDB','images[]','VtXoE','headers','4623404wyCvIi','Iwcxd','voice-status-icon','gxWUj','XjHsU','answered','qbotV','QfqMS','WxBAW','XdNaD','TSRKu','cuxqW','vEwNd','JxKvm','fAUgs','click','KGXbh','onstart','FIXWC','starting','fBuEQ','Detected\x20image\x20ratio:\x20','bJZkA','server/chat.php','zWdpD','switch-mode-btn','key','id-ID','closeFeaturePage','vRulz','input-area','speaking','onerror','Mic\x20bermasalah.\x20Coba\x20izinkan\x20akses\x20mikrofon.','split','LzxKG','Txdfu','chat-messages-image','1:1','length','setUint16','Enter','Wqtry','chat-input','map','chat','image','Selesai!\x20Ini\x20hasilnya:','Mode\x20Kreatif\x20Aktif!\x20Silakan\x20tulis\x20deskripsi\x20gambar\x20yang\x20ingin\x20dibuat\x20atau\x20upload\x20foto\x20untuk\x20diedit.','gqSLx','sPsLW','playing','voice-ui','rodmm','AYDLJ','MaWGD','Assistant','amrrN','GakdS','mode-image-theme','kPtbp','is-speaking','sendChatMessage','.png','2718ddujRV','TPYBu','Audio\x20play\x20blocked:','webkitSpeechRecognition','jHILN','UzFlb','chat-message\x20','addEventListener','ILMOR','djyxe','iTngQ','Jhamk','LudnR','data:'];_0x2c7a=function(){return _0x20648f;};return _0x2c7a();}async function requestTtsAudio(_0x308aab){const _0x17aaf2=_0x24967e,_0xbe2f15={'mprBk':function(_0x11f16c,_0x1c6285){return _0x11f16c(_0x1c6285);},'MaWGD':function(_0x36d522,_0x4a5447,_0x200bc8){return _0x36d522(_0x4a5447,_0x200bc8);},'xaOkF':_0x17aaf2(0x1fe),'zVipt':_0x17aaf2(0x1b5),'xocHm':_0x17aaf2(0x295),'pzslY':_0x17aaf2(0x165),'cuxqW':_0x17aaf2(0x23d),'zMldE':function(_0x2dfdbc,_0x18cd46,_0x4feedb){return _0x2dfdbc(_0x18cd46,_0x4feedb);},'rUYoZ':function(_0x5bd9b6,_0x26fd9c,_0x2bcde1){return _0x5bd9b6(_0x26fd9c,_0x2bcde1);},'EHBTe':function(_0x5a6202,_0x387542,_0x180955){return _0x5a6202(_0x387542,_0x180955);},'XIcQn':function(_0x2b50ca,_0x67fa00,_0x5b3fed){return _0x2b50ca(_0x67fa00,_0x5b3fed);},'IeClv':function(_0x323cd4,_0x33447c,_0x81d236){return _0x323cd4(_0x33447c,_0x81d236);},'rodmm':function(_0x585ebe,_0x391608,_0x40aca0){return _0x585ebe(_0x391608,_0x40aca0);},'vJCII':function(_0x1f3cd3,_0x5c0c29,_0x1987b1){return _0x1f3cd3(_0x5c0c29,_0x1987b1);},'sEljk':function(_0x282738,_0x263207,_0x55f125){return _0x282738(_0x263207,_0x55f125);},'djyxe':function(_0x5a8e53,_0x244d34,_0x5788d6){return _0x5a8e53(_0x244d34,_0x5788d6);},'RLtvt':function(_0x34bdf0,_0x5c606d,_0x98eb2d){return _0x34bdf0(_0x5c606d,_0x98eb2d);},'vTBKJ':_0x17aaf2(0x236),'ZNdld':'voice','YTkfl':_0x17aaf2(0x288),'hkjre':_0x17aaf2(0x1d4),'ocOJj':'application/json','QPXjk':function(_0x55992a,_0x1d97b3){return _0x55992a(_0x1d97b3);},'ZgiBc':function(_0x28e29b,_0x326a4d,_0x25a9c3){return _0x28e29b(_0x326a4d,_0x25a9c3);},'Xrmch':_0x17aaf2(0xe7),'fVuKE':'content-type','PPvBq':_0x17aaf2(0x258),'TPYBu':_0x17aaf2(0x21d),'uPhww':function(_0x45c710,_0x494db3,_0xa4164a,_0x2e335f,_0x2aca89){return _0x45c710(_0x494db3,_0xa4164a,_0x2e335f,_0x2aca89);},'pHdxf':function(_0x5bac2a,_0x1fe49a,_0xe395aa){return _0x5bac2a(_0x1fe49a,_0xe395aa);},'fBuEQ':function(_0x3a7573,_0x1193de,_0x27cadc,_0x5ad17c){return _0x3a7573(_0x1193de,_0x27cadc,_0x5ad17c);},'yutWg':function(_0x1dde8c,_0x1e7f04){return _0x1dde8c(_0x1e7f04);},'ASnrZ':_0x17aaf2(0x207),'xcjXq':function(_0x51ed8f,_0x30f4f4,_0x138642,_0x30543b,_0x4e869a){return _0x51ed8f(_0x30f4f4,_0x138642,_0x30543b,_0x4e869a);},'CkkNx':function(_0x312463,_0x36576d){return _0x312463(_0x36576d);},'pWCeu':function(_0x4cfbc6,_0x9bfd9e,_0x4e85cf){return _0x4cfbc6(_0x9bfd9e,_0x4e85cf);},'ZBiiv':function(_0x19424a,_0x5cdcc1,_0x52cdc0){return _0x19424a(_0x5cdcc1,_0x52cdc0);},'LdAHE':function(_0x4428eb,_0x3a0fda,_0x1eabbf){return _0x4428eb(_0x3a0fda,_0x1eabbf);},'XHxSb':_0x17aaf2(0x1fb),'JGtod':function(_0x5a65b7,_0x30e9ad,_0x1a343f){return _0x5a65b7(_0x30e9ad,_0x1a343f);},'aCjgc':function(_0x25a958,_0x270993,_0x3a5d0e){return _0x25a958(_0x270993,_0x3a5d0e);},'VHRiO':function(_0x23cc28,_0x4f6c21,_0x3b1482,_0x47d782,_0x4f94e3){return _0x23cc28(_0x4f6c21,_0x3b1482,_0x47d782,_0x4f94e3);},'uVhBK':function(_0x32cd30,_0x2545ac,_0x10aabd){return _0x32cd30(_0x2545ac,_0x10aabd);},'FIXWC':function(_0x182ce3,_0x3edaec,_0x5dcfa5){return _0x182ce3(_0x3edaec,_0x5dcfa5);},'zsKGm':function(_0x549523,_0x4505f2){return _0x549523(_0x4505f2);}};if(!_0x308aab)return;const _0x386764=_0xbe2f15['vTBKJ'],_0x584579=currentMode===_0xbe2f15['ZNdld'],_0x8739f6=_0x584579?null:_0xbe2f15['mprBk'](showTypingIndicator,_0xbe2f15[_0x17aaf2(0x263)]);_0x584579&&_0xbe2f15[_0x17aaf2(0x17b)](setVoiceStatus,_0x17aaf2(0x159),_0xbe2f15['hkjre']);let _0xfe32a1=null;try{_0xfe32a1=await fetch(_0x386764,{'method':_0x17aaf2(0x220),'headers':{'Content-Type':_0xbe2f15[_0x17aaf2(0x12d)]},'body':JSON[_0x17aaf2(0xf6)]({'prompt':_0x308aab,'voiceName':_0x17aaf2(0x114)})});}catch(_0x1d797b){if(_0x8739f6)_0xbe2f15[_0x17aaf2(0x277)](removeTypingIndicator,_0x8739f6);_0xbe2f15['ZgiBc'](setVoiceStatus,_0xbe2f15[_0x17aaf2(0x1c7)],_0xbe2f15['zVipt']),_0xbe2f15[_0x17aaf2(0x1d1)](appendMessage,'bot',_0xbe2f15['Xrmch']);return;}const _0x43a639=(_0xfe32a1[_0x17aaf2(0x145)][_0x17aaf2(0x1e8)](_0xbe2f15[_0x17aaf2(0x1f3)])||'')[_0x17aaf2(0x233)]();if(_0xfe32a1['ok']&&(_0x43a639['includes'](_0xbe2f15['PPvBq'])||_0x43a639['includes'](_0xbe2f15[_0x17aaf2(0x187)]))){if(isPcmMimeType(_0x43a639)){const _0x51feae=await _0xfe32a1['arrayBuffer'](),_0x48078a=_0x43a639['match'](/rate=(\d+)/i),_0x47a592=_0x48078a?_0xbe2f15[_0x17aaf2(0x277)](Number,_0x48078a[-0x3e6+-0x71*0x28+0x158f]):0x9275+0x1de1*-0x1+0x6*-0x3ce;if(_0x8739f6)_0xbe2f15[_0x17aaf2(0x17d)](updateTypingIndicator,_0x8739f6,_0x17aaf2(0x295));if(_0x584579)_0xbe2f15[_0x17aaf2(0x20f)](setVoiceStatus,_0xbe2f15[_0x17aaf2(0x211)],_0xbe2f15[_0x17aaf2(0x151)]);_0xbe2f15['uPhww'](playPcmBufferAsWav,_0x51feae,_0x47a592,function(){const _0x377157=_0x17aaf2;if(_0x8739f6)_0xbe2f15[_0x377157(0x239)](removeTypingIndicator,_0x8739f6);_0xbe2f15['MaWGD'](setVoiceStatus,_0xbe2f15[_0x377157(0x1c7)],_0xbe2f15[_0x377157(0xdf)]);},function(){const _0x1c161e=_0x17aaf2;if(_0x8739f6)updateTypingIndicator(_0x8739f6,_0xbe2f15[_0x1c161e(0x1d8)]);if(_0x584579)setVoiceStatus(_0xbe2f15['pzslY'],_0xbe2f15[_0x1c161e(0x151)]);});return;}const _0x358d7c=await _0xfe32a1[_0x17aaf2(0x289)]();if(_0x8739f6)_0xbe2f15['vJCII'](updateTypingIndicator,_0x8739f6,_0xbe2f15[_0x17aaf2(0x1d8)]);if(_0x584579)_0xbe2f15[_0x17aaf2(0x283)](setVoiceStatus,_0x17aaf2(0x165),_0xbe2f15[_0x17aaf2(0x151)]);_0xbe2f15[_0x17aaf2(0x15a)](playTtsBlob,_0x358d7c,function(){const _0x5791af=_0x17aaf2;if(_0x8739f6)removeTypingIndicator(_0x8739f6);_0xbe2f15[_0x5791af(0x20f)](setVoiceStatus,_0xbe2f15['xaOkF'],_0x5791af(0x1b5));},function(){const _0x18967a=_0x17aaf2;if(_0x8739f6)_0xbe2f15['rUYoZ'](updateTypingIndicator,_0x8739f6,_0xbe2f15[_0x18967a(0x1d8)]);if(_0x584579)_0xbe2f15['EHBTe'](setVoiceStatus,_0xbe2f15['pzslY'],_0xbe2f15[_0x18967a(0x151)]);});return;}let _0x455134=null;try{_0x455134=await _0xfe32a1['json']();}catch(_0x39579f){}if(!_0xfe32a1['ok']){if(_0x8739f6)_0xbe2f15[_0x17aaf2(0x1fa)](removeTypingIndicator,_0x8739f6);_0xbe2f15[_0x17aaf2(0x10b)](setVoiceStatus,_0xbe2f15[_0x17aaf2(0x1c7)],_0xbe2f15[_0x17aaf2(0xdf)]),appendMessage(_0xbe2f15['ASnrZ'],_0x17aaf2(0xe7));return;}if(_0x455134&&_0x455134[_0x17aaf2(0x136)]){const _0x2e9671=parsePcmDataUrl(_0x455134[_0x17aaf2(0x136)]);if(_0x2e9671&&_0xbe2f15[_0x17aaf2(0x277)](isPcmMimeType,_0x2e9671[_0x17aaf2(0x13a)])){if(_0x8739f6)updateTypingIndicator(_0x8739f6,_0xbe2f15[_0x17aaf2(0x1d8)]);if(_0x584579)_0xbe2f15[_0x17aaf2(0x1d1)](setVoiceStatus,_0x17aaf2(0x165),_0xbe2f15[_0x17aaf2(0x151)]);_0xbe2f15[_0x17aaf2(0xfa)](playPcmBase64AsWav,_0x2e9671[_0x17aaf2(0x1e7)],_0x2e9671[_0x17aaf2(0xfe)],function(){if(_0x8739f6)removeTypingIndicator(_0x8739f6);_0xbe2f15['XIcQn'](setVoiceStatus,_0xbe2f15['xaOkF'],_0xbe2f15['zVipt']);},function(){const _0x35e164=_0x17aaf2;if(_0x8739f6)_0xbe2f15['zMldE'](updateTypingIndicator,_0x8739f6,_0x35e164(0x295));if(_0x584579)setVoiceStatus(_0xbe2f15[_0x35e164(0x211)],_0xbe2f15[_0x35e164(0x151)]);});return;}if(_0x8739f6)_0xbe2f15['IeClv'](updateTypingIndicator,_0x8739f6,_0xbe2f15['xocHm']);if(_0x584579)setVoiceStatus('speaking',_0xbe2f15[_0x17aaf2(0x151)]);playTtsAudio(_0x455134['audioUrl'],function(){const _0x3f37d4=_0x17aaf2;if(_0x8739f6)removeTypingIndicator(_0x8739f6);setVoiceStatus(_0xbe2f15[_0x3f37d4(0x1c7)],_0x3f37d4(0x1b5));},function(){const _0x245a32=_0x17aaf2;if(_0x8739f6)_0xbe2f15['IeClv'](updateTypingIndicator,_0x8739f6,_0xbe2f15[_0x245a32(0x1d8)]);if(_0x584579)_0xbe2f15[_0x245a32(0x10b)](setVoiceStatus,_0x245a32(0x165),_0xbe2f15['cuxqW']);});return;}const _0x48a40f=_0x455134&&_0x455134[_0x17aaf2(0x1a9)]&&_0x455134[_0x17aaf2(0x1a9)]['url'];if(_0x48a40f){const _0x7aa98f=parsePcmDataUrl(_0x48a40f);if(_0x7aa98f&&_0xbe2f15['CkkNx'](isPcmMimeType,_0x7aa98f['mimeType'])){if(_0x8739f6)_0xbe2f15[_0x17aaf2(0x141)](updateTypingIndicator,_0x8739f6,_0x17aaf2(0x295));if(_0x584579)_0xbe2f15[_0x17aaf2(0x18f)](setVoiceStatus,_0x17aaf2(0x165),_0x17aaf2(0x23d));playPcmBase64AsWav(_0x7aa98f[_0x17aaf2(0x1e7)],_0x7aa98f[_0x17aaf2(0xfe)],function(){const _0x8e26fd=_0x17aaf2;if(_0x8739f6)_0xbe2f15[_0x8e26fd(0x239)](removeTypingIndicator,_0x8739f6);setVoiceStatus(_0xbe2f15[_0x8e26fd(0x1c7)],_0xbe2f15[_0x8e26fd(0xdf)]);},function(){const _0x29abb4=_0x17aaf2;if(_0x8739f6)_0xbe2f15['rodmm'](updateTypingIndicator,_0x8739f6,_0xbe2f15[_0x29abb4(0x1d8)]);if(_0x584579)_0xbe2f15[_0x29abb4(0x218)](setVoiceStatus,'speaking',_0xbe2f15[_0x29abb4(0x151)]);});return;}if(_0x8739f6)_0xbe2f15[_0x17aaf2(0x23e)](updateTypingIndicator,_0x8739f6,_0xbe2f15['xocHm']);if(_0x584579)_0xbe2f15[_0x17aaf2(0x1a2)](setVoiceStatus,_0xbe2f15[_0x17aaf2(0x211)],_0xbe2f15[_0x17aaf2(0x151)]);playTtsAudio(_0x48a40f,function(){const _0x205aa9=_0x17aaf2;if(_0x8739f6)_0xbe2f15[_0x205aa9(0x239)](removeTypingIndicator,_0x8739f6);_0xbe2f15[_0x205aa9(0x17d)](setVoiceStatus,_0x205aa9(0x1fe),_0xbe2f15[_0x205aa9(0xdf)]);},function(){const _0x18458e=_0x17aaf2;if(_0x8739f6)_0xbe2f15[_0x18458e(0x17b)](updateTypingIndicator,_0x8739f6,_0x18458e(0x295));if(_0x584579)_0xbe2f15[_0x18458e(0x218)](setVoiceStatus,_0xbe2f15[_0x18458e(0x211)],_0x18458e(0x23d));});return;}const _0x34c925=_0x455134&&(_0x455134[_0x17aaf2(0x214)]||_0x455134['audio']&&_0x455134[_0x17aaf2(0x1a9)][_0x17aaf2(0x11b)]),_0x58452a=_0x455134&&_0x455134[_0x17aaf2(0x1a9)]&&_0x455134[_0x17aaf2(0x1a9)][_0x17aaf2(0x13a)]||_0xbe2f15[_0x17aaf2(0x1de)];if(_0x34c925){if(isPcmMimeType(_0x58452a)){const _0x25a2a1=_0x58452a[_0x17aaf2(0x241)](/rate=(\d+)/i),_0x3bb071=_0x25a2a1?Number(_0x25a2a1[-0x65d+0x3df*0x1+0x3*0xd5]):-0x1ed1*0x6+-0x8622+0x3b8*0x6f;if(_0x8739f6)_0xbe2f15[_0x17aaf2(0x118)](updateTypingIndicator,_0x8739f6,_0xbe2f15[_0x17aaf2(0x1d8)]);if(_0x584579)_0xbe2f15[_0x17aaf2(0x1b9)](setVoiceStatus,_0xbe2f15['pzslY'],_0xbe2f15[_0x17aaf2(0x151)]);_0xbe2f15['VHRiO'](playPcmBase64AsWav,_0x34c925,_0x3bb071,function(){const _0x39f98f=_0x17aaf2;if(_0x8739f6)_0xbe2f15[_0x39f98f(0x239)](removeTypingIndicator,_0x8739f6);_0xbe2f15[_0x39f98f(0x1d1)](setVoiceStatus,_0x39f98f(0x1fe),_0x39f98f(0x1b5));},function(){const _0x16b0a6=_0x17aaf2;if(_0x8739f6)updateTypingIndicator(_0x8739f6,_0x16b0a6(0x295));if(_0x584579)_0xbe2f15['sEljk'](setVoiceStatus,_0xbe2f15[_0x16b0a6(0x211)],_0x16b0a6(0x23d));});}else{if(_0x8739f6)_0xbe2f15[_0x17aaf2(0x105)](updateTypingIndicator,_0x8739f6,_0xbe2f15[_0x17aaf2(0x1d8)]);if(_0x584579)_0xbe2f15[_0x17aaf2(0x1d1)](setVoiceStatus,_0xbe2f15[_0x17aaf2(0x211)],_0xbe2f15[_0x17aaf2(0x151)]);_0xbe2f15[_0x17aaf2(0x11f)](playTtsBase64,_0x34c925,_0x58452a,function(){const _0x58dabe=_0x17aaf2;if(_0x8739f6)removeTypingIndicator(_0x8739f6);setVoiceStatus(_0xbe2f15[_0x58dabe(0x1c7)],_0xbe2f15[_0x58dabe(0xdf)]);},function(){const _0x403f6a=_0x17aaf2;if(_0x8739f6)_0xbe2f15[_0x403f6a(0x18f)](updateTypingIndicator,_0x8739f6,_0xbe2f15[_0x403f6a(0x1d8)]);if(_0x584579)setVoiceStatus(_0x403f6a(0x165),_0xbe2f15[_0x403f6a(0x151)]);});}return;}const _0x7933c4=_0x455134&&_0x455134[_0x17aaf2(0x1f7)]&&_0x455134[_0x17aaf2(0x1f7)][0x22a+0xe07+-0x5*0x33d]&&_0x455134[_0x17aaf2(0x1f7)][0x295*0x5+0x3a7+0x1*-0x1090][_0x17aaf2(0x1b0)]&&_0x455134[_0x17aaf2(0x1f7)][0x2028*0x1+0x1*-0xe06+-0x1222][_0x17aaf2(0x1b0)][_0x17aaf2(0x110)]&&_0x455134[_0x17aaf2(0x1f7)][0x3*-0x8c3+0x1*-0x81a+0x2263][_0x17aaf2(0x1b0)]['parts'][-0x2e*0xd7+0x257c*-0x1+0x1*0x4c1e]&&_0x455134[_0x17aaf2(0x1f7)][0x1f7b+0x199a+0x1307*-0x3][_0x17aaf2(0x1b0)]['parts'][0x14af+-0x12f7+-0x1b8]['inlineData'];if(_0x7933c4&&_0x7933c4[_0x17aaf2(0x11b)]){const _0x322646=_0x7933c4['mimeType']||_0xbe2f15[_0x17aaf2(0x1de)];if(_0xbe2f15['mprBk'](isPcmMimeType,_0x322646)){const _0x35030c=_0x322646[_0x17aaf2(0x241)](/rate=(\d+)/i),_0x1eecf3=_0x35030c?Number(_0x35030c[0x37f+0x1c88+-0x2006]):0x22*0x57+0xb818+0x65e6*-0x1;if(_0x8739f6)_0xbe2f15[_0x17aaf2(0x105)](updateTypingIndicator,_0x8739f6,_0xbe2f15[_0x17aaf2(0x1d8)]);if(_0x584579)_0xbe2f15['zMldE'](setVoiceStatus,_0xbe2f15[_0x17aaf2(0x211)],_0xbe2f15[_0x17aaf2(0x151)]);_0xbe2f15[_0x17aaf2(0x11f)](playPcmBase64AsWav,_0x7933c4[_0x17aaf2(0x11b)],_0x1eecf3,function(){const _0x117cbc=_0x17aaf2;if(_0x8739f6)removeTypingIndicator(_0x8739f6);_0xbe2f15[_0x117cbc(0xe5)](setVoiceStatus,_0xbe2f15['xaOkF'],_0xbe2f15['zVipt']);},function(){const _0x134586=_0x17aaf2;if(_0x8739f6)updateTypingIndicator(_0x8739f6,_0xbe2f15['xocHm']);if(_0x584579)setVoiceStatus(_0xbe2f15['pzslY'],_0xbe2f15[_0x134586(0x151)]);});}else{if(_0x8739f6)_0xbe2f15[_0x17aaf2(0x1d1)](updateTypingIndicator,_0x8739f6,_0xbe2f15[_0x17aaf2(0x1d8)]);if(_0x584579)_0xbe2f15[_0x17aaf2(0x158)](setVoiceStatus,_0x17aaf2(0x165),_0xbe2f15[_0x17aaf2(0x151)]);_0xbe2f15[_0x17aaf2(0xfa)](playTtsBase64,_0x7933c4[_0x17aaf2(0x11b)],_0x322646,function(){const _0x2b1148=_0x17aaf2;if(_0x8739f6)_0xbe2f15[_0x2b1148(0x239)](removeTypingIndicator,_0x8739f6);_0xbe2f15[_0x2b1148(0x230)](setVoiceStatus,_0xbe2f15[_0x2b1148(0x1c7)],_0xbe2f15[_0x2b1148(0xdf)]);},function(){const _0x59ba7f=_0x17aaf2;if(_0x8739f6)_0xbe2f15[_0x59ba7f(0x1d1)](updateTypingIndicator,_0x8739f6,_0xbe2f15[_0x59ba7f(0x1d8)]);if(_0x584579)setVoiceStatus(_0x59ba7f(0x165),_0xbe2f15[_0x59ba7f(0x151)]);});}return;}if(_0x8739f6)_0xbe2f15[_0x17aaf2(0x257)](removeTypingIndicator,_0x8739f6);_0xbe2f15[_0x17aaf2(0x283)](setVoiceStatus,_0xbe2f15[_0x17aaf2(0x1c7)],_0xbe2f15['zVipt']),appendMessage(_0xbe2f15[_0x17aaf2(0x245)],_0x17aaf2(0xe7));}async function sendVoiceMessage(_0x4ec8f1){const _0x3b895c=_0x24967e,_0x92eae6={'wHyNh':function(_0x23deb9,_0x398d81){return _0x23deb9||_0x398d81;},'zlmcw':_0x3b895c(0x29b),'UONXf':function(_0x2ae155,_0x4192ef,_0x3330c3){return _0x2ae155(_0x4192ef,_0x3330c3);},'atYHG':_0x3b895c(0xef),'bRyTu':'thinking','QsxZP':_0x3b895c(0x1e0),'dZOqU':function(_0x3c60f8,_0x3bd101){return _0x3c60f8(_0x3bd101);},'EIgCf':function(_0x2e99d3,_0x1ba788){return _0x2e99d3===_0x1ba788;},'MtMtk':_0x3b895c(0x281),'xuZnQ':_0x3b895c(0x217),'jQQkw':_0x3b895c(0x15d),'kPtbp':_0x3b895c(0x20b),'wjQrQ':function(_0x5a386c,_0x3ea701){return _0x5a386c===_0x3ea701;},'IbrOb':_0x3b895c(0x21a),'EUIim':'bot','fJQOW':function(_0x4fc4b8,_0x4cc399){return _0x4fc4b8(_0x4cc399);},'bimJy':function(_0x2e8a66,_0x46b051){return _0x2e8a66(_0x46b051);},'shzLx':function(_0x295c39,_0x2c5049,_0x5e688e){return _0x295c39(_0x2c5049,_0x5e688e);},'tihjJ':'idle','twFaZ':_0x3b895c(0x1b5),'hsMly':function(_0x55e68f,_0x571483,_0x24a4a5){return _0x55e68f(_0x571483,_0x24a4a5);},'utPqF':_0x3b895c(0x297),'Xakkt':function(_0x1670b7,_0x11200f,_0x510158){return _0x1670b7(_0x11200f,_0x510158);},'WEUKW':_0x3b895c(0xe0),'wYyWu':function(_0x11809c,_0x47358e){return _0x11809c(_0x47358e);}},_0x5b000c=_0x92eae6[_0x3b895c(0x1c8)](_0x4ec8f1,'')['trim']();if(!_0x5b000c)return;chatInput[_0x3b895c(0x23c)]='',chatInput[_0x3b895c(0x28f)][_0x3b895c(0x10e)]=_0x92eae6[_0x3b895c(0x210)],_0x92eae6[_0x3b895c(0x200)](appendMessage,_0x92eae6['atYHG'],_0x5b000c),setVoiceStatus(_0x92eae6[_0x3b895c(0x1a8)],_0x92eae6[_0x3b895c(0x229)]),_0x92eae6[_0x3b895c(0x120)](setInputState,!![]);const _0x413e7d=_0x92eae6[_0x3b895c(0x134)](currentMode,_0x92eae6[_0x3b895c(0x1f0)])?null:showTypingIndicator(_0x3b895c(0x22d));try{const _0x5bcb48=new FormData(),_0x57029f=_0x92eae6[_0x3b895c(0x120)](buildChatPrompt,_0x5b000c);_0x5bcb48[_0x3b895c(0x287)](_0x92eae6[_0x3b895c(0x270)],_0x57029f);const _0x276be1=await fetch(_0x92eae6[_0x3b895c(0x275)],{'method':_0x3b895c(0x220),'cache':_0x92eae6[_0x3b895c(0x182)],'body':_0x5bcb48}),_0x12daa2=await _0x276be1[_0x3b895c(0x139)]();if(_0x12daa2[_0x3b895c(0x276)]||_0x12daa2['response']){const _0xf8d2ce=_0x12daa2['response']||_0x12daa2['candidates']?.[0x7e2*-0x2+0x10ec+-0x128*0x1]?.['content']?.[_0x3b895c(0x110)]?.[-0x6b5*-0x1+-0x25d9+0x1f24]?.[_0x3b895c(0x19f)],_0x4f4c16=_0x92eae6['wjQrQ'](typeof _0xf8d2ce,_0x3b895c(0x25c))?_0xf8d2ce[_0x3b895c(0x22f)]():'';if(_0x413e7d)await _0x92eae6[_0x3b895c(0x120)](showAnsweredStatus,_0x413e7d);_0x92eae6[_0x3b895c(0x200)](setVoiceStatus,_0x3b895c(0x14b),_0x92eae6[_0x3b895c(0x1cd)]),_0x92eae6['UONXf'](appendMessage,_0x92eae6[_0x3b895c(0x10a)],_0x92eae6[_0x3b895c(0x1c8)](_0x4f4c16,'')),_0x4f4c16&&await _0x92eae6[_0x3b895c(0x23f)](requestTtsAudio,_0x4f4c16);}else{if(_0x413e7d)_0x92eae6['bimJy'](removeTypingIndicator,_0x413e7d);_0x92eae6[_0x3b895c(0x116)](setVoiceStatus,_0x92eae6['tihjJ'],_0x92eae6['twFaZ']),_0x92eae6[_0x3b895c(0x251)](appendMessage,_0x92eae6[_0x3b895c(0x10a)],_0x92eae6[_0x3b895c(0x28c)]);}}catch(_0xb106d8){if(_0x413e7d)_0x92eae6['fJQOW'](removeTypingIndicator,_0x413e7d);_0x92eae6[_0x3b895c(0x200)](setVoiceStatus,_0x3b895c(0x1fe),_0x3b895c(0x1b5)),_0x92eae6['Xakkt'](appendMessage,_0x3b895c(0x207),_0x92eae6[_0x3b895c(0x107)]);}finally{_0x92eae6[_0x3b895c(0x29f)](setInputState,![]);}}async function sendChatMessage(){const _0x5c7703=_0x24967e,_0x4db2d2={'GYJje':function(_0x18a33e,_0x598ee5){return _0x18a33e&&_0x598ee5;},'WMLSQ':_0x5c7703(0x16c),'bLUpz':function(_0x5e06d9,_0x579582){return _0x5e06d9/_0x579582;},'xAVZY':function(_0x445b4b,_0x212586){return _0x445b4b/_0x212586;},'QFJTN':function(_0x345870,_0xde0378){return _0x345870/_0xde0378;},'BQIlX':function(_0x277d6f,_0x4b9338){return _0x277d6f<_0x4b9338;},'IheFQ':function(_0x442a46){return _0x442a46();},'TnOrV':function(_0x2af59c,_0xc9836c){return _0x2af59c!==_0xc9836c;},'MWHIx':function(_0x23843e,_0x32af2a,_0x591706){return _0x23843e(_0x32af2a,_0x591706);},'blsqX':_0x5c7703(0x22d),'eetMV':function(_0x431183,_0x3f0190){return _0x431183===_0x3f0190;},'QajfS':_0x5c7703(0x174),'Iexcg':_0x5c7703(0x217),'krVIx':_0x5c7703(0x25b),'RDFgc':_0x5c7703(0x15d),'SNicr':_0x5c7703(0x220),'OtNle':_0x5c7703(0x20b),'xWOvy':function(_0x474a8a,_0x148b65){return _0x474a8a(_0x148b65);},'OdHYg':function(_0x3de6c3,_0x419f67,_0xf92cf4){return _0x3de6c3(_0x419f67,_0xf92cf4);},'OVKCp':_0x5c7703(0x207),'UCIih':function(_0x204dd1,_0x4a4812){return _0x204dd1(_0x4a4812);},'yOmUJ':_0x5c7703(0x268),'RtlCg':_0x5c7703(0x255),'JkIRq':function(_0x339123,_0x4c02e4,_0x389c94){return _0x339123(_0x4c02e4,_0x389c94);},'lzFTg':'Mengoptimalkan\x20instruksi...','UzFlb':function(_0x20d98e,_0x57ac27){return _0x20d98e||_0x57ac27;},'tVCTf':_0x5c7703(0x298),'lxCdT':function(_0x3f8beb,_0x16ffb7,_0x383ffe){return _0x3f8beb(_0x16ffb7,_0x383ffe);},'XjHsU':function(_0xc8eca,_0x1a5476){return _0xc8eca(_0x1a5476);},'YrKFs':'Sedang\x20memproses\x20gambar...','sPsLW':_0x5c7703(0x143),'tMmrS':'server/generate.php','avicK':_0x5c7703(0x24f),'jDzRC':function(_0x171f6b,_0x436976,_0x5e2b85){return _0x171f6b(_0x436976,_0x5e2b85);},'dRzlI':_0x5c7703(0x25c),'GnQIU':function(_0xfb26d0,_0x518106,_0x369277){return _0xfb26d0(_0x518106,_0x369277);},'XEKcV':'voice','fIxvQ':function(_0x36af82,_0x511c4c,_0x504fbf){return _0x36af82(_0x511c4c,_0x504fbf);},'oUMMO':_0x5c7703(0x14b),'xOdFZ':function(_0x5edd03,_0x5d3ca8){return _0x5edd03(_0x5d3ca8);},'WcDwV':function(_0x2380fc,_0x14e32a,_0x791a15){return _0x2380fc(_0x14e32a,_0x791a15);},'Dosrv':_0x5c7703(0x297),'uuHGO':function(_0x1bbe26,_0x15d910){return _0x1bbe26(_0x15d910);},'nybOC':_0x5c7703(0xe0)},_0x4d82e4=chatInput[_0x5c7703(0x23c)][_0x5c7703(0x22f)]();if(_0x4db2d2[_0x5c7703(0x1d6)](!_0x4d82e4,!currentChatImage))return;chatInput[_0x5c7703(0x23c)]='',chatInput[_0x5c7703(0x28f)]['height']=_0x5c7703(0x29b);let _0x57d2c5=null,_0x17ca48=_0x4db2d2[_0x5c7703(0x1f4)];if(currentChatImage){_0x57d2c5=chatImagePreview[_0x5c7703(0x27b)];if(chatImagePreview['naturalWidth']&&chatImagePreview['naturalHeight']){const _0x51b2c3=chatImagePreview[_0x5c7703(0x1a0)],_0x3be210=chatImagePreview[_0x5c7703(0x10f)],_0x44f3a0=_0x4db2d2['bLUpz'](_0x51b2c3,_0x3be210),_0x39ae1e={'1:1':0x1,'16:9':_0x4db2d2[_0x5c7703(0x20d)](0x1917+-0x1340+-0x3*0x1ed,0x2c5*0x8+-0x26a5+0x1a7*0xa),'9:16':_0x4db2d2[_0x5c7703(0x1ef)](0x2371+0x2*-0xc84+0xa6*-0x10,-0xbf0+0xe05*-0x2+0x280a),'4:3':_0x4db2d2['xAVZY'](-0x2020+0x1*0x3bc+0x1c68,-0x1c52+0x328*-0x8+0x2b*0x13f),'3:4':_0x4db2d2[_0x5c7703(0x20d)](-0x53*-0x47+0x206c+-0x376e,-0x2386+-0x23f3+0x477d),'21:9':_0x4db2d2[_0x5c7703(0x1ef)](0x1b4*-0x2+-0x19a7+0x1d24,-0x3*0x45d+-0x1545+0x2265),'9:21':_0x4db2d2[_0x5c7703(0x20d)](-0x5f4+-0x62*0x4b+0x22b3,0x252c+0x15e0+-0x3af7)};let _0x5a610d=Infinity;for(const [_0x1ebd27,_0x34762d]of Object[_0x5c7703(0x1b2)](_0x39ae1e)){const _0x63c416=Math['abs'](_0x44f3a0-_0x34762d);_0x4db2d2[_0x5c7703(0x28e)](_0x63c416,_0x5a610d)&&(_0x5a610d=_0x63c416,_0x17ca48=_0x1ebd27);}console[_0x5c7703(0xff)](_0x5c7703(0x15b)+_0x51b2c3+'x'+_0x3be210+'\x20('+_0x44f3a0['toFixed'](-0xef*0xb+0x118e+0x1*-0x747)+_0x5c7703(0x19d)+_0x17ca48);}}appendMessage('user',_0x4d82e4,_0x57d2c5);const _0x3cf202=currentChatImage;_0x4db2d2[_0x5c7703(0x20a)](clearChatImage),setInputState(!![]);const _0x40e5bd=showTypingIndicator();_0x4db2d2[_0x5c7703(0x11c)](currentMode,_0x5c7703(0x174))&&_0x4db2d2['MWHIx'](updateTypingIndicator,_0x40e5bd,_0x4db2d2[_0x5c7703(0x227)]);try{if(_0x4db2d2['eetMV'](currentMode,_0x4db2d2['QajfS'])){if(!_0x3cf202){updateTypingIndicator(_0x40e5bd,_0x5c7703(0x1e4));const _0x1a15d2=new FormData();_0x1a15d2[_0x5c7703(0x287)](_0x4db2d2[_0x5c7703(0xf3)],_0x4db2d2[_0x5c7703(0x27d)](buildRefinePrompt,_0x4db2d2[_0x5c7703(0x113)],_0x4d82e4));const _0x38d4c2=await _0x4db2d2[_0x5c7703(0x27d)](fetch,_0x4db2d2[_0x5c7703(0xfc)],{'method':_0x4db2d2[_0x5c7703(0x1ee)],'cache':_0x4db2d2[_0x5c7703(0x1be)],'body':_0x1a15d2}),_0x103d9f=await _0x38d4c2['json'](),_0x4ff424=_0x103d9f['response']||_0x4d82e4;_0x4db2d2[_0x5c7703(0x232)](removeTypingIndicator,_0x40e5bd),_0x4db2d2['OdHYg'](appendMessage,_0x4db2d2[_0x5c7703(0x1b8)],_0x5c7703(0x111)+_0x4ff424);const _0x2f0576=_0x4db2d2['UCIih'](showTypingIndicator,_0x5c7703(0x273)),_0x652fc3=new FormData();_0x652fc3['append'](_0x4db2d2[_0x5c7703(0x19c)],_0x4ff424),_0x652fc3['append'](_0x4db2d2[_0x5c7703(0x284)],_0x4db2d2[_0x5c7703(0x1f4)]);const _0x225179=await fetch(_0x5c7703(0x1e6),{'method':_0x4db2d2[_0x5c7703(0x1ee)],'cache':_0x4db2d2[_0x5c7703(0x1be)],'body':_0x652fc3}),_0x530c31=await _0x225179['json']();_0x4db2d2[_0x5c7703(0x232)](removeTypingIndicator,_0x2f0576);if(_0x530c31[_0x5c7703(0x276)]&&_0x530c31[_0x5c7703(0x202)]){appendMessage(_0x4db2d2[_0x5c7703(0x1b8)],_0x5c7703(0x1a1),_0x530c31[_0x5c7703(0x202)]);if(window['playSuccessSound'])window[_0x5c7703(0x12a)]();}else{_0x4db2d2[_0x5c7703(0x208)](appendMessage,_0x5c7703(0x207),_0x5c7703(0xfb));if(window[_0x5c7703(0x130)])window[_0x5c7703(0x130)]();}}else{_0x4db2d2[_0x5c7703(0x208)](updateTypingIndicator,_0x40e5bd,_0x4db2d2[_0x5c7703(0x1bf)]);const _0x2a8363=_0x4db2d2['UzFlb'](_0x4d82e4,_0x4db2d2['tVCTf']),_0x17319e=new FormData();_0x17319e[_0x5c7703(0x287)](_0x4db2d2[_0x5c7703(0xf3)],_0x4db2d2[_0x5c7703(0x112)](buildRefinePrompt,'Refine\x20this\x20user\x20request\x20into\x20a\x20precise\x20image\x20editing\x20instruction\x20(English).\x20User\x20request:\x20\x22{text}\x22.\x20The\x20user\x20has\x20also\x20provided\x20an\x20image\x20which\x20you\x20can\x20see.\x20Output\x20ONLY\x20the\x20instruction.',_0x2a8363)),_0x17319e[_0x5c7703(0x287)](_0x5c7703(0x143),_0x3cf202);const _0x3f58e2=await _0x4db2d2[_0x5c7703(0x1c3)](fetch,_0x5c7703(0x15d),{'method':_0x4db2d2[_0x5c7703(0x1ee)],'cache':_0x4db2d2[_0x5c7703(0x1be)],'body':_0x17319e}),_0x3875cc=await _0x3f58e2[_0x5c7703(0x139)](),_0x5ec8=_0x3875cc['response']||_0x2a8363;_0x4db2d2['xWOvy'](removeTypingIndicator,_0x40e5bd),_0x4db2d2['lxCdT'](appendMessage,_0x4db2d2[_0x5c7703(0x1b8)],_0x5c7703(0x119)+_0x5ec8);const _0x2ab0ab=_0x4db2d2['XjHsU'](showTypingIndicator,_0x4db2d2[_0x5c7703(0x1e9)]),_0x5d31b2=new FormData();_0x5d31b2[_0x5c7703(0x287)](_0x5c7703(0x268),_0x5ec8),_0x5d31b2['append'](_0x4db2d2[_0x5c7703(0x178)],_0x3cf202),_0x5d31b2[_0x5c7703(0x287)](_0x5c7703(0x255),_0x17ca48);const _0x31ed5d=await _0x4db2d2['OdHYg'](fetch,_0x4db2d2[_0x5c7703(0x13d)],{'method':_0x4db2d2[_0x5c7703(0x1ee)],'cache':_0x4db2d2[_0x5c7703(0x1be)],'body':_0x5d31b2}),_0x93d838=await _0x31ed5d['json']();_0x4db2d2[_0x5c7703(0x1a4)](removeTypingIndicator,_0x2ab0ab);if(_0x93d838[_0x5c7703(0x276)]&&_0x93d838['imageUrl']){appendMessage(_0x4db2d2[_0x5c7703(0x1b8)],_0x5c7703(0x175),_0x93d838[_0x5c7703(0x202)]);if(window[_0x5c7703(0x12a)])window[_0x5c7703(0x12a)]();}else{_0x4db2d2[_0x5c7703(0x208)](appendMessage,_0x4db2d2[_0x5c7703(0x1b8)],_0x4db2d2[_0x5c7703(0x11a)]);if(window[_0x5c7703(0x130)])window[_0x5c7703(0x130)]();}}}else{const _0xe316ec=new FormData(),_0x4df739=_0x4db2d2[_0x5c7703(0x14a)](buildChatPrompt,_0x4d82e4);_0xe316ec['append'](_0x4db2d2['Iexcg'],_0x4df739);_0x3cf202&&_0xe316ec[_0x5c7703(0x287)](_0x4db2d2['sPsLW'],_0x3cf202);const _0x344304=await _0x4db2d2['jDzRC'](fetch,_0x4db2d2[_0x5c7703(0xfc)],{'method':_0x4db2d2[_0x5c7703(0x1ee)],'cache':_0x4db2d2[_0x5c7703(0x1be)],'body':_0xe316ec}),_0x4c24fa=await _0x344304[_0x5c7703(0x139)]();if(_0x4c24fa[_0x5c7703(0x276)]||_0x4c24fa[_0x5c7703(0x1df)]){const _0x7801b6=_0x4c24fa[_0x5c7703(0x1df)]||_0x4c24fa[_0x5c7703(0x1f7)]?.[-0x17*-0x48+-0x347*0x2+-0x16*-0x1]?.['content']?.[_0x5c7703(0x110)]?.[-0x3c*-0x32+-0xb*0x137+0x1a5*0x1]?.[_0x5c7703(0x19f)],_0x8fd494=typeof _0x7801b6===_0x4db2d2['dRzlI']?_0x7801b6[_0x5c7703(0x22f)]():'';await _0x4db2d2[_0x5c7703(0x232)](showAnsweredStatus,_0x40e5bd),_0x4db2d2[_0x5c7703(0x274)](appendMessage,_0x5c7703(0x207),_0x4db2d2[_0x5c7703(0x18b)](_0x8fd494,'')),_0x4db2d2[_0x5c7703(0x224)](currentMode,_0x4db2d2[_0x5c7703(0xf1)])&&_0x8fd494&&(_0x4db2d2['fIxvQ'](setVoiceStatus,_0x4db2d2['oUMMO'],'SuFi\x20sudah\x20mendapatkan\x20jawaban...'),await _0x4db2d2[_0x5c7703(0x232)](requestTtsAudio,_0x8fd494));}else _0x4db2d2[_0x5c7703(0x290)](removeTypingIndicator,_0x40e5bd),_0x4db2d2['WcDwV'](appendMessage,_0x4db2d2[_0x5c7703(0x1b8)],_0x4db2d2['Dosrv']);}}catch(_0x362e4d){console['error'](_0x362e4d),_0x4db2d2[_0x5c7703(0x25e)](removeTypingIndicator,_0x40e5bd),_0x4db2d2['GnQIU'](appendMessage,_0x4db2d2['OVKCp'],_0x4db2d2[_0x5c7703(0x131)]);}finally{setInputState(![]);}}